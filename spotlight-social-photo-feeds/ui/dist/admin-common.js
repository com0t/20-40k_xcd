(window.webpackJsonpSpotlight=window.webpackJsonpSpotlight||[]).push([[4],[,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=t.ButtonSize=t.ButtonType=void 0;const l=o(n(0)),i=n(12),r=n(138),u=o(n(222));n(312);const s=n(137);var c,d;!function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY",e[e.TOGGLE=2]="TOGGLE",e[e.LINK=3]="LINK",e[e.PILL=4]="PILL",e[e.DANGER=5]="DANGER",e[e.DANGER_LINK=6]="DANGER_LINK",e[e.DANGER_PILL=7]="DANGER_PILL",e[e.NONE=8]="NONE"}(c=t.ButtonType||(t.ButtonType={})),function(e){e[e.SMALL=0]="SMALL",e[e.NORMAL=1]="NORMAL",e[e.LARGE=2]="LARGE",e[e.HERO=3]="HERO"}(d=t.ButtonSize||(t.ButtonSize={})),t.Button=l.default.forwardRef((function(e,t){let{children:n,className:o,type:f,size:m,active:p,tooltip:_,tooltipPlacement:h,onClick:b,linkTo:g}=e,v=a(e,["children","className","type","size","active","tooltip","tooltipPlacement","onClick","linkTo"]);f=null!=f?f:c.SECONDARY,m=null!=m?m:d.NORMAL,h=null!=h?h:"bottom";const[y,E]=l.default.useState(!1),S=()=>E(!0),w=()=>E(!1),P=i.classList(o,f!==c.NONE?"button":null,f===c.PRIMARY?"button-primary":null,f===c.SECONDARY?"button-secondary":null,f===c.LINK?"button-secondary button-tertiary":null,f===c.PILL?"button-secondary button-tertiary button-pill":null,f===c.TOGGLE?"button-toggle":null,f===c.TOGGLE&&p?"button-secondary button-active":null,f!==c.TOGGLE||p?null:"button-secondary",f===c.DANGER?"button-secondary button-danger":null,f===c.DANGER_LINK?"button-tertiary button-danger":null,f===c.DANGER_PILL?"button-tertiary button-danger button-danger-pill":null,m===d.SMALL?"button-small":null,m===d.LARGE?"button-large":null,m===d.HERO?"button-hero":null),O=e=>{b&&b(e)};let C="button";if("string"==typeof g?(C="a",v.href=g):v.type="button",v.tabIndex=0,!_)return l.default.createElement(C,Object.assign({ref:t,className:P,onClick:O},v),n);const M="string"==typeof _,N="btn-tooltip-"+s.uniqueNum(),A=M?_:l.default.createElement(_,{id:N});return l.default.createElement(u.default,{visible:y&&!e.disabled,placement:h,delay:300},({ref:e})=>l.default.createElement(C,Object.assign({ref:t?r.mergeRefs(e,t):e,className:P,onClick:O,onMouseEnter:S,onMouseLeave:w},v),n),A)}))},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectExpiringAccounts=t.selectBusinessAccounts=t.selectAccountList=t.selectHasBusinessAccounts=t.selectHasAccounts=t.selectAccountById=t.selectAccounts=void 0;const a=n(47),o=n(26),l=n(469);t.selectAccounts=e=>a.Dictionary.values(e.accounts),t.selectAccountById=e=>t=>a.Dictionary.get(t.accounts,e),t.selectHasAccounts=e=>!a.Dictionary.isEmpty(e.accounts),t.selectHasBusinessAccounts=e=>t.selectBusinessAccounts(e).length>0,t.selectAccountList=e=>n=>e.map(e=>t.selectAccountById(e)(n)).filter(e=>!!e),t.selectBusinessAccounts=e=>t.selectAccounts(e).filter(e=>e.type===o.Account.Type.BUSINESS),t.selectExpiringAccounts=e=>t.selectAccounts(e).filter(l.isAccountTokenExpiring)},,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NumberField=void 0;const o=a(n(0)),l=n(583),i=n(348);t.NumberField=function({value:e,onChange:t,min:n,max:a,emptyMin:r,placeholder:u,id:s,unit:c}){n=null!=n?n:0,a=null!=a?a:1/0,e=null!=e?e:"",e=isNaN(parseInt(e.toString()))?n:e,u=null!=u?u:"",r=null!=r&&r;const d=o.default.useCallback(e=>{const o=""===e.target.value?n:parseInt(e.target.value);isNaN(o)||t&&t(i.clampNum(o,n,a))},[n,a,t]),f=o.default.useCallback(()=>{r&&e<=n&&e>=a&&t&&t("")},[r,e,n,a,t]),m=o.default.useCallback(a=>{"ArrowUp"===a.key&&""===e&&t&&t(r?n+1:n)},[e,n,r,t]),p=r&&e<=n?"":e,[_,h]=Array.isArray(c)?c:[c,c],b=1===e?_:h;return b?o.default.createElement(l.UnitInput,{id:s,type:"number",unit:b,value:p,min:n,max:a,placeholder:u+"",onChange:d,onBlur:f,onKeyDown:m}):o.default.createElement("input",{id:s,type:"number",value:p,min:n,max:a,placeholder:u+"",onChange:d,onBlur:f,onKeyDown:m})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectSetting=t.selectSettingsValues=t.selectSettingsAreSaving=t.selectSettingsAreDirty=void 0,t.selectSettingsAreDirty=e=>{var t;return null===(t=e.settings)||void 0===t?void 0:t.isDirty},t.selectSettingsAreSaving=e=>{var t;return null===(t=e.settings)||void 0===t?void 0:t.isSaving},t.selectSettingsValues=e=>{var t,n;return null!==(n=null===(t=e.settings)||void 0===t?void 0:t.values)&&void 0!==n?n:{}},t.selectSetting=e=>t=>{var n,a;return null!==(a=null===(n=t.settings)||void 0===n?void 0:n.values[e])&&void 0!==a?a:null}},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminCommonConfig=void 0,n(435);const o=n(22),l=n(60),i=n(42);t.AdminCommonConfig=SliAdminCommonConfig,o.client.interceptors.request.use(e=>(e.headers["X-WP-Nonce"]=SliAdminCommonConfig.restApi.wpNonce,e),e=>Promise.reject(e));const r={config:{rootId:"spotlight-instagram-admin",adminUrl:SliAdminCommonConfig.adminUrl,doOnboarding:"1"==SliAdminCommonConfig.doOnboarding,cronSchedules:SliAdminCommonConfig.cronSchedules,cronScheduleOptions:SliAdminCommonConfig.cronSchedules.map(e=>({value:e.key,label:e.display})),postTypes:SliAdminCommonConfig.postTypes,hasElementor:SliAdminCommonConfig.hasElementor,searchPosts:(e,t="")=>a(void 0,void 0,void 0,(function*(){return(yield i.AdminRestApi.wp.posts.search(e,t)).data})),customPosts:{enabled:!1}},restApi:{config:SliAdminCommonConfig.restApi},editor:{preview:SliAdminCommonConfig.preview}};t.default=r,l.RestApi.config.autoImportMedia=!0},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.MessageType=void 0;const o=a(n(0)),l=a(n(489)),i=n(12),r=n(11);var u;function s(e){switch(e){case u.SUCCESS:return"yes-alt";case u.PRO_TIP:return"lightbulb";case u.ERROR:case u.WARNING:return"warning";case u.INFO:default:return"info"}}!function(e){e.SUCCESS="success",e.INFO="info",e.PRO_TIP="pro-tip",e.WARNING="warning",e.ERROR="error",e.GREY="grey"}(u=t.MessageType||(t.MessageType={})),t.Message=({children:e,type:t,showIcon:n,shake:a,isDismissible:u,onDismiss:c})=>{const[d,f]=o.default.useState(!1),m=i.classList(l.default[t],a?l.default.shaking:null);return d?null:o.default.createElement("div",{className:m},n?o.default.createElement("div",null,o.default.createElement(r.Dashicon,{className:l.default.icon,icon:s(t)})):null,o.default.createElement("div",{className:l.default.content},e),u?o.default.createElement("button",{className:l.default.dismissBtn,onClick:()=>{u&&(f(!0),c&&c())}},o.default.createElement(r.Dashicon,{icon:"no"})):null)}},,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Select=t.SelectStyles=void 0;const o=a(n(0)),l=a(n(343)),i=a(n(577)),r=a(n(578)),u=a(n(579)),s=n(12);t.SelectStyles=(e={})=>({option:(e,t)=>Object.assign(Object.assign({},e),{cursor:"pointer",lineHeight:"24px"}),menu:(e,t)=>Object.assign(Object.assign({},e),{margin:"6px 0",boxShadow:"0 2px 8px "+u.default.shadowColor,overflow:"hidden"}),menuList:(e,t)=>({padding:"0px"}),control:(e,t)=>{let n=Object.assign(Object.assign({},e),{cursor:"pointer",lineHeight:"2",minHeight:"40px"});return t.isFocused&&(n.borderColor=u.default.primaryColor,n.boxShadow="0 0 0 1px "+u.default.primaryColor),n},valueContainer:(e,t)=>Object.assign(Object.assign({},e),{paddingTop:0,paddingBottom:0,paddingRight:0}),container:(t,n)=>Object.assign(Object.assign({},t),{width:e.width||"100%"}),multiValue:(e,t)=>Object.assign(Object.assign({},e),{padding:"0 6px"}),input:(e,t)=>Object.assign(Object.assign({},e),{outline:"0 transparent !important",border:"0 transparent !important",boxShadow:"0 0 0 transparent !important"}),indicatorSeparator:(e,t)=>Object.assign(Object.assign({},e),{margin:"0",backgroundColor:"transparent"}),menuPortal:e=>Object.assign(Object.assign({},e),{zIndex:9999999})}),t.Select=o.default.forwardRef((e,n)=>{var a;const c=(null!==(a=e.options)&&void 0!==a?a:[]).find(t=>t.value===e.value);e=Object.assign(Object.assign({},e),{id:void 0,className:s.classList("react-select",e.className),classNamePrefix:"react-select",inputId:e.id,menuPosition:"absolute"});const d=t.SelectStyles(e),f=e.isCreatable?i.default:e.async?r.default:l.default;return o.default.createElement(f,Object.assign({},e,{ref:n,isSearchable:e.isCreatable,value:c,styles:d,theme:e=>Object.assign(Object.assign({},e),{borderRadius:3,colors:Object.assign(Object.assign({},e.colors),{primary:u.default.primaryColor,primary25:u.default.washedColor})}),menuPlacement:"auto",menuPortalTarget:document.body,menuShouldScrollIntoView:!0}))})},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxField=void 0;const o=a(n(0)),l=a(n(594));t.CheckboxField=function({id:e,value:t,onChange:n,disabled:a}){return o.default.createElement("div",{className:l.default.checkboxField},o.default.createElement("div",{className:l.default.aligner},o.default.createElement("input",{id:e,type:"checkbox",value:"1",checked:!!t,onChange:e=>n(e.target.checked),disabled:a})))}},,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminRestApi=void 0;const o=a(n(458)),l=a(n(459)),i=a(n(460)),r=a(n(461)),u=a(n(462)),s=a(n(463)),c=a(n(464));t.AdminRestApi={feeds:o.default,accounts:l.default,media:i.default,settings:r.default,notifications:u.default,cache:s.default,wp:c.default}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.modifyRoute=t.gotoScreen=t.gotoRoute=t.gotoUrl=t.RouterSlice=t.addRouteInterceptor=t.RouterHistory=void 0;const l=n(15),i=n(104),r=n(53),u=n(221),s=n(19),c=n(47),d=n(137);t.RouterHistory=r.createBrowserHistory();const f={};function m(e,n,a){if(!a&&!n)throw"updateRoute() must be given either a query or a path!";a=null!=a?a:u.createPath(e,n),n=null!=n?n:i.parse(a),c.Dictionary.values(f).some(e=>!1===e(n,a))||(e.query=n,function(e){setTimeout(()=>t.RouterHistory.push(e,{}))}(a))}var p;t.addRouteInterceptor=function(e){const t="ri"+d.uniqueNum();return c.Dictionary.set(f,t,e),()=>c.Dictionary.remove(f,t)},t.RouterSlice=l.createSlice({name:"router",initialState:{baseUrl:(p=null!=p?p:window.location).protocol+"//"+p.host,pathName:p.pathname,query:Object.assign({},i.parse(p.search))},reducers:{gotoUrl(e,t){m(e,null,t.payload)},gotoRoute(e,t){m(e,s.withPartial({page:e.query.page},t.payload))},gotoScreen(e,t){m(e,{page:e.query.page,screen:t.payload})},modifyRoute(e,t){const n=e.query.page,a=s.withPartial(e.query,t.payload);a.page=n,m(e,a)}}}),t.gotoUrl=t.RouterSlice.actions.gotoUrl,t.gotoRoute=t.RouterSlice.actions.gotoRoute,t.gotoScreen=t.RouterSlice.actions.gotoScreen,t.modifyRoute=t.RouterSlice.actions.modifyRoute,o(n(474),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdminResources=void 0;const a=n(34);t.AdminResources={upgradeUrl:"https://spotlightwp.com/pricing/",upgradeNavbarUrl:"https://spotlightwp.com/pricing/?utm_source=sl_plugin&utm_medium=sl_plugin_upgrade&utm_campaign=sl_plugin_upgrade_list",pricingUrl:"https://spotlightwp.com/pricing/",proComingSoonUrl:"https://spotlightwp.com/pro-coming-soon/",supportUrl:"https://spotlightwp.com/support/",supportNavbarUrl:"https://spotlightwp.com/support/?utm_source=sl_plugin&utm_medium=sl_plugin_support&utm_campaign=sl_plugin_support_list",customPersonalInfoUrl:"https://docs.spotlightwp.com/article/624-custom-profile-photo-and-bio-text",connectPersonalAccount:"https://docs.spotlightwp.com/article/551-connect-a-personal-account",connectBusinessAccount:"https://docs.spotlightwp.com/article/552-connect-a-business-account",connectAccessToken:"https://docs.spotlightwp.com/article/731-connect-an-access-token",personalVsBusinessAccount:"https://docs.spotlightwp.com/article/553-personal-vs-business-accounts",businessAccounts:"https://docs.spotlightwp.com/article/555-how-to-switch-to-a-business-account",cacheDocsUrl:"https://docs.spotlightwp.com/article/639-cache",promoTypesSurvey:"https://spotlightwp.com/survey-promote/",tokenPasswordDoc:"https://docs.spotlightwp.com/article/838-access-token-password",tokenGenerator:"https://spotlightwp.com/access-token-generator",upgradeLocalUrl:a.AdminCommonConfig.adminUrl+"admin.php?page=spotlight-instagram-pricing",trialLocalUrl:a.AdminCommonConfig.adminUrl+"admin.php?page=spotlight-instagram-pricing&billing_cycle=annual&trial=true"}},,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarLayout=void 0;const r=l(n(0)),u=i(n(887)),s=n(11),c=n(274);function d(e){return r.default.createElement(c.ResponsiveContainer,{breakpoints:[d.BREAKPOINT]},r.default.createElement(f,Object.assign({},e)))}function f({content:e,sidebar:t,primary:n,current:a,useDefaults:o}){const[l,i]=r.useState(n),s=r.default.useContext(c.ResponsiveContext)<=d.BREAKPOINT,f=()=>i(p?"content":"sidebar"),m=()=>i(p?"sidebar":"content"),p="content"===(n=null!=n?n:"content"),_="sidebar"===n,h="content"===(a=o?l:a),b="sidebar"===a,g=p?u.default.layoutPrimaryContent:u.default.layoutPrimarySidebar;return r.default.createElement("div",{className:g},r.default.createElement(d.Context.Provider,{value:s},e&&(h||!s)&&r.default.createElement("div",{className:u.default.content},o&&r.default.createElement(d.Navigation,{align:p?"right":"left",text:!p&&r.default.createElement("span",null,"Go back"),icon:p?"admin-generic":"arrow-left",onClick:p?m:f}),null!=e?e:null),t&&(b||!s)&&r.default.createElement("div",{className:u.default.sidebar},o&&r.default.createElement(d.Navigation,{align:_?"right":"left",text:!_&&r.default.createElement("span",null,"Go back"),icon:_?"admin-generic":"arrow-left",onClick:_?m:f}),null!=t?t:null)))}t.SidebarLayout=d,function(e){e.BREAKPOINT=968,e.Context=r.default.createContext(!1),e.Navigation=function({icon:e,text:t,align:n,onClick:a}){return t=null!=t?t:"Go back",e=null!=e?e:"arrow-left-alt",n=null!=n?n:"left",r.default.createElement("div",{className:"right"===n?u.default.navigationRight:u.default.navigationLeft},r.default.createElement("a",{className:u.default.navLink,onClick:a},e&&r.default.createElement(s.Dashicon,{icon:e}),r.default.createElement("span",null,null!=t?t:"")))}}(d=t.SidebarLayout||(t.SidebarLayout={}))},,,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.restoreSettings=t.updateSettings=t.SettingsSlice=void 0;const l=n(15),i=n(18),r=n(59),u=n(102),s=n(19),c=n(126);function d(e){i.Common.config.promotions.global=e.values.promotions,i.Common.config.promotions.autos=e.values.autoPromotions}t.SettingsSlice=l.createSlice({name:"settings",initialState:{values:{},original:{},isDirty:!1,isSaving:!1},reducers:{update(e,t){e.values=s.withPartial(e.values,t.payload),e.isDirty=!u.objectsEqual(e.values,e.original),d(e)},restore(e){e.values=r.cloneObj(e.original),e.isDirty=!1,d(e)}},extraReducers:e=>e.addCase(c.saveSettings.pending,e=>{e.isSaving=!0}).addCase(c.saveSettings.rejected,e=>{e.isSaving=!1}).addMatcher(l.isFulfilled(c.saveSettings,c.loadSettings),(e,t)=>{e.original=t.payload,e.values=r.cloneObj(e.original),e.isSaving=!1,e.isDirty=!1,d(e)})}),o(n(876),t),t.updateSettings=t.SettingsSlice.actions.update,t.restoreSettings=t.SettingsSlice.actions.restore},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectQueryParam=t.selectRoute=t.selectScreen=void 0;const a=n(310),o=n(221);t.selectScreen=e=>{var t;return null!==(t=a.extractFromArray(e.router.query.screen))&&void 0!==t?t:""},t.selectRoute=e=>new l(e.router),t.selectQueryParam=e=>t=>o.getRouteParam(t.router,e);class l{constructor(e){Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e}get path(){return o.getRoutePath(this.state)}getParam(e){return o.getRouteParam(this.state,e)}withQuery(e){return o.routeWithQuery(this.state,e)}setQuery(e){return o.routeSetQuery(this.state,e)}withoutParam(e){return o.routeWithoutParam(this.state,e)}getRelUrl(e){return o.getRouteRelUrl(this.state,e)}getAbsUrl(e){return o.getRouteAbsUrl(this.state,e)}}},,,,,,function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.Screens=t.SCREENS=void 0,(a=t.SCREENS||(t.SCREENS={})).NEW_FEED="new",a.EDIT_FEED="edit",a.FEED_LIST="feeds",a.SETTINGS="settings",a.PROMOTIONS="promotions",a.CUSTOM_MEDIA="custom_posts",function(e){const t=[];e.getList=function(){return t},e.register=function(n){return t.push(n),t.sort((e,t)=>{var n,a;const o=null!==(n=e.position)&&void 0!==n?n:0,l=null!==(a=t.position)&&void 0!==a?a:0;return Math.sign(o-l)}),e},e.getScreen=function(e){return t.find(t=>t.id===e)}}(t.Screens||(t.Screens={}))},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPicker=void 0;const r=l(n(0)),u=i(n(598)),s=i(n(599)),c=n(314),d=n(223),f=n(72),m=n(801),p=n(296),_=n(138),h=i(n(34));t.ColorPicker=function({id:e,value:t,disableAlpha:n,onChange:a}){t=null!=t?t:"#fff";const[o,l]=r.default.useState(t),[i,b]=r.default.useState(!1),g=r.default.useRef(),v=r.default.useRef(),y=r.default.useCallback(()=>b(!1),[]),E=r.default.useCallback(()=>b(e=>!e),[]),S=r.default.useCallback(e=>{l(e.rgb),a&&a(e)},[a]),w=r.default.useCallback(e=>{"Escape"===e.key&&i&&(y(),e.preventDefault(),e.stopPropagation())},[i]);r.useEffect(()=>l(t),[t]),d.useDetectOutsideClick(g,y,[v]),c.useDetectTabOut([g,v],y),f.useDocumentEventListener("keydown",w,[i]);const P={preventOverflow:{boundariesElement:document.getElementById(h.default.config.rootId),padding:5}};return r.default.createElement(p.Manager,null,r.default.createElement(p.Reference,null,({ref:t})=>r.default.createElement("button",{ref:_.mergeRefs(g,t),id:e,className:u.default.button,onClick:E},r.default.createElement("span",{className:u.default.colorPreview,style:{backgroundColor:m.colorToString(o)}}))),r.default.createElement(p.Popper,{placement:"bottom-end",positionFixed:!0,modifiers:P},({ref:e,style:t})=>i&&r.default.createElement("div",{className:u.default.popper,ref:_.mergeRefs(v,e),style:t},r.default.createElement(s.default,{color:o,onChange:S,disableAlpha:n}))))}},,,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.removeToast=t.showToast=t.ToastsSlice=void 0;const l=n(15),i=n(47);t.ToastsSlice=l.createSlice({name:"toasts",initialState:{},reducers:{showToast(e,t){i.Dictionary.set(e,t.payload.key,t.payload)},removeToast(e,t){i.Dictionary.remove(e,t.payload)}}}),t.showToast=t.ToastsSlice.actions.showToast,t.removeToast=t.ToastsSlice.actions.removeToast,o(n(473),t)},,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;const u=l(n(0)),s=r(n(21)),c=r(n(484)),d=n(12),f=n(485),m=n(72),p=n(11),_=n(158),h=r(n(222));function b({rootRef:e,children:t,className:n,isOpen:a,icon:o,title:l,width:i,height:r,onClose:p,allowShadeClose:_,focusChild:h,portalTo:g}){const v=u.default.useRef(),[y]=f.useDelayedFlag(a,!1,b.ANIMATION_DELAY);if(m.useDocumentEventListener("keydown",e=>{a&&"Escape"===e.key&&(p&&p(),e.preventDefault(),e.stopPropagation())},[],[a,p]),u.useEffect(()=>{v&&v.current&&a&&(null!=h?h:v).current.focus()},[]),!y)return null;const E={width:i=null!=i?i:600,height:r},S=d.classList(c.default.modal,a?c.default.opening:c.default.closing,n,"wp-core-ui-override");_=null==_||_;const w=u.default.createElement("div",{className:S,ref:e},u.default.createElement("div",{className:c.default.shade,tabIndex:-1,onClick:()=>{_&&p&&p()}}),u.default.createElement("div",{ref:v,className:c.default.container,style:E,tabIndex:-1},l?u.default.createElement(b.Header,null,u.default.createElement("h1",null,u.default.createElement(b.Icon,{icon:o}),l),u.default.createElement(b.CloseBtn,{onClick:p})):null,t));let P=g;if(void 0===P){const e=document.getElementsByClassName("spotlight-modal-target");P=0===e.length?document.body:e.item(0)}return s.default.createPortal(w,P)}t.Modal=b,function(e){function t(e){switch(e){case"left":return c.default.footerLeft;case"space-between":return c.default.footerSpaceBetween;default:return c.default.footerRight}}e.ANIMATION_DELAY=120,e.CloseBtn=function({onClick:e}){const[t,n]=u.default.useState(!1),a=()=>n(!0),o=()=>n(!1);return u.default.createElement(h.default,{visible:t},({ref:t})=>u.default.createElement(_.DivButton,{ref:t,className:c.default.closeBtn,onClick:e,onMouseEnter:a,onMouseLeave:o,children:u.default.createElement(p.Dashicon,{icon:"no-alt"})}),"Close")},e.Icon=function({icon:e}){return e?u.default.createElement(p.Dashicon,{icon:e,className:c.default.icon}):null},e.Header=function({children:e}){return u.default.createElement("div",{className:c.default.header},e)},e.Content=function(e){var{children:t}=e,n=i(e,["children"]);return u.default.createElement("div",{className:c.default.scroller},u.default.createElement("div",Object.assign({className:c.default.content},n),t))},e.Footer=function({children:e,style:n="right"}){return u.default.createElement("div",{className:t(n)},e)}}(b=t.Modal||(t.Modal={}))},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProPill=void 0;const o=a(n(0)),l=a(n(503)),i=n(12),r=n(44);t.ProPill=({className:e,children:t})=>{const n=o.default.useCallback(()=>{window.open(r.AdminResources.pricingUrl,"_blank")},[]);return o.default.createElement("span",{className:i.classList(l.default.pill,e),onClick:n,tabIndex:-1},"PRO",t)}},,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsField=void 0;const o=a(n(0)),l=a(n(875)),i=a(n(245));t.SettingsField=function({id:e,label:t,tooltip:n,fullWidth:a,children:r}){return a=a||!t,o.default.createElement("div",{className:l.default.root},t&&o.default.createElement("div",{className:l.default.label},o.default.createElement("label",{htmlFor:e},t)),o.default.createElement("div",{className:l.default.container},o.default.createElement("div",{className:a?l.default.controlFullWidth:l.default.controlPartialWidth},r),n&&o.default.createElement("div",{className:l.default.tooltip},o.default.createElement(i.default,null,n))))}},,,function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateAccount=t.deleteAccount=t.loadAccounts=void 0;const o=n(15),l=n(60),i=n(42),r=n(22);t.loadAccounts=o.createAsyncThunk("accounts/load",()=>a(void 0,void 0,void 0,(function*(){var e;try{const t=yield l.RestApi.accounts.get();if("object"==typeof t&&Array.isArray(t.data))return null!==(e=null==t?void 0:t.data)&&void 0!==e?e:[]}catch(e){throw r.getErrorResponseMessage(e)}}))),t.deleteAccount=o.createAsyncThunk("accounts/delete",e=>a(void 0,void 0,void 0,(function*(){try{const t=yield i.AdminRestApi.accounts.delete(e);if("object"==typeof t&&Array.isArray(t.data))return t.data}catch(e){throw r.getErrorResponseMessage(e)}throw"Spotlight encountered a problem while trying to delete the account. Kindly contact customer support for assistance."}))),t.updateAccount=o.createAsyncThunk("accounts/update",e=>a(void 0,void 0,void 0,(function*(){return yield i.AdminRestApi.accounts.update(e),e})))},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectHasFeeds=t.selectFeedById=t.selectFeeds=void 0;const a=n(47);t.selectFeeds=e=>a.Dictionary.values(e.feeds),t.selectFeedById=e=>t=>e?a.Dictionary.get(t.feeds,e):null,t.selectHasFeeds=e=>!a.Dictionary.isEmpty(e.feeds)},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.saveSettings=t.loadSettings=void 0;const o=n(15),l=n(395),i=n(337),r=n(22),u=n(42);function s(e){return a(this,void 0,void 0,(function*(){try{const t=yield e();if("object"==typeof t&&void 0!==t.data)return function(e){var t,n,a,o,l,i,r,u,s,c,d;const f={importerInterval:null!==(t=e.importerInterval)&&void 0!==t?t:"",cleanerAgeLimit:null!==(n=e.cleanerAgeLimit)&&void 0!==n?n:"",cleanerInterval:null!==(a=e.cleanerInterval)&&void 0!==a?a:"",preloadMedia:null!==(o=e.preloadMedia)&&void 0!==o&&o,hashtagWhitelist:null!==(l=e.hashtagWhitelist)&&void 0!==l?l:[],hashtagBlacklist:null!==(i=e.hashtagBlacklist)&&void 0!==i?i:[],captionWhitelist:null!==(r=e.captionWhitelist)&&void 0!==r?r:[],captionBlacklist:null!==(u=e.captionBlacklist)&&void 0!==u?u:[],autoPromotions:null!==(s=e.autoPromotions)&&void 0!==s?s:[],promotions:null!==(c=e.promotions)&&void 0!==c?c:{},thumbnails:null!==(d=e.thumbnails)&&void 0!==d?d:[]};return Array.isArray(f.promotions)&&0===f.promotions.length&&(f.promotions={}),f}(t.data)}catch(e){throw r.getErrorResponseMessage(e)}throw"Spotlight encountered a problem while trying to load your settings. Kindly contact customer support for assistance."}))}t.loadSettings=o.createAsyncThunk("settings/load",()=>a(void 0,void 0,void 0,(function*(){return yield s(()=>u.AdminRestApi.settings.get())}))),t.saveSettings=o.createAsyncThunk("settings/save",(e,t)=>a(void 0,void 0,void 0,(function*(){const e=t.getState().settings;try{const t=yield s(()=>u.AdminRestApi.settings.save(e.values));return document.dispatchEvent(i.createCustomEvent(l.SETTINGS_SAVE_SUCCESS)),t}catch(e){throw document.dispatchEvent(i.createCustomEvent(l.SETTINGS_SAVE_FAILED,{error:e})),e}})))},,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFeed=t.duplicateFeed=t.saveFeed=t.loadFeeds=void 0;const o=n(15),l=n(60),i=n(42),r=n(66),u=n(59),s=n(22);t.loadFeeds=o.createAsyncThunk("feeds/load",()=>a(void 0,void 0,void 0,(function*(){try{const e=yield l.RestApi.feeds.get();if("object"==typeof e&&Array.isArray(e.data))return e.data}catch(e){throw s.getErrorResponseMessage(e)}throw"Spotlight encountered a problem trying to load your feeds. Kindly contact customer support for assistance."}))),t.saveFeed=o.createAsyncThunk("feeds/save",(e,t)=>a(void 0,void 0,void 0,(function*(){t.dispatch(r.showToast({key:"feeds/saving",message:"Saving feed. Please wait ...",type:r.ToastType.STICKY}));const n=yield i.AdminRestApi.feeds.save(e);return t.dispatch(r.removeToast("feeds/saving")),t.dispatch(r.showToast({key:"feeds/saved",message:"Feed saved!"})),n.data.feed}))),t.duplicateFeed=o.createAsyncThunk("feeds/duplicate",(e,t)=>a(void 0,void 0,void 0,(function*(){t.dispatch(r.showToast({key:"admin/feeds/duplicate/wait",message:"Duplicating feed. Please wait ...",type:r.ToastType.STICKY}));const n={id:null,name:"Copy of "+e.name,usages:[],options:u.cloneObj(e.options)};try{return(yield i.AdminRestApi.feeds.save(n)).data.feed}finally{t.dispatch(r.removeToast("admin/feeds/duplicate/wait"))}}))),t.deleteFeed=o.createAsyncThunk("feeds/delete",(e,t)=>a(void 0,void 0,void 0,(function*(){try{return yield i.AdminRestApi.feeds.delete(e.id),e.id}catch(e){t.dispatch(r.showToast({key:"feeds/delete/error",message:e.toString(),type:r.ToastType.ERROR}))}})))},,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuHeading=t.MenuStatic=t.MenuSeparator=t.MenuContent=t.MenuItem=t.StatefulMenu=t.Menu=void 0;const u=l(n(0)),s=n(296),c=n(314),d=n(223),f=r(n(34));n(480);const m=n(12);function p(e){var{children:n}=e,a=i(e,["children"]);const[o,l]=u.useState(!1),r=()=>l(!0),s=()=>l(!1),c={openMenu:r,closeMenu:s};return u.default.createElement(p.Context.Provider,{value:c},u.default.createElement(t.Menu,Object.assign({isOpen:o,onBlur:s},a),({ref:e})=>n[0]({ref:e,openMenu:r}),n[1]))}function _(e,t){return Object.assign(Object.assign({},e),{opacity:1,pointerEvents:"all",visibility:t?"hidden":"visible"})}t.Menu=({children:e,className:t,refClassName:n,isOpen:a,onBlur:o,placement:l,modifiers:i,useVisibility:r})=>{l=null!=l?l:"bottom-end",r=null!=r&&r;const p=u.default.useRef(),h=a||r,b=!a&&r,g=Object.assign({preventOverflow:{boundariesElement:document.getElementById(f.default.config.rootId),padding:5}},i),v=u.useCallback(()=>{a&&o()},[a,o]),y=e=>{switch(e.key){case"ArrowDown":break;case"Escape":v();break;default:return}e.preventDefault(),e.stopPropagation()};return d.useDetectOutsideClick(p,v,[p],[a]),c.useDetectTabOut([p],v),u.default.createElement("div",{ref:p,className:m.classList("menu__ref",n)},u.default.createElement(s.Manager,null,u.default.createElement(s.Reference,null,t=>e[0](t)),u.default.createElement(s.Popper,{placement:l,positionFixed:!0,modifiers:g},({ref:n,style:a,placement:o})=>h?u.default.createElement("div",{ref:n,className:"menu",style:_(a,b),"data-placement":o,onKeyDown:y},u.default.createElement("div",{className:"menu__container"+(t?" "+t:"")},e[1])):null)))},t.StatefulMenu=p,function(e){e.Context=u.default.createContext({openMenu:null,closeMenu:null})}(p=t.StatefulMenu||(t.StatefulMenu={})),t.MenuItem=({children:e,onClick:t,disabled:n,active:a,danger:o})=>{const l=m.bemClass("menu__item",{"--disabled":n,"--active":a,"--danger":!n&&o});return u.default.createElement(p.Context.Consumer,null,({closeMenu:o})=>u.default.createElement("div",{className:l},u.default.createElement("button",{onClick:()=>{o&&o(),!a&&!n&&t&&t()}},e)))},t.MenuContent=({children:e})=>e,t.MenuSeparator=()=>u.default.createElement("div",{className:"menu__separator"}),t.MenuStatic=({children:e})=>u.default.createElement("div",{className:"menu__static"},e),t.MenuHeading=({children:e})=>u.default.createElement("div",{className:"menu__heading"},e)},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Spoiler=void 0;const o=a(n(0)),l=n(12),i=n(138);n(488);const r=n(11),u=n(101);t.Spoiler=o.default.forwardRef((function({label:e,className:t,isOpen:n,defaultOpen:a,showIcon:s,disabled:c,stealth:d,fitted:f,scrollOnOpen:m,hideOnly:p,onClick:_,children:h},b){p=null!=p&&p,s=null==s||s,c=null!=c&&c,m=null!=m&&m;const[g,v]=o.default.useState(!!a),y=void 0!==n;y||(n=g);const E=o.default.useRef(),S=()=>{c||(!n&&m&&u.scrollIntoView(E.current,{behavior:"smooth"}),y||v(!n),_&&_())},w=n&&void 0===_&&!s,P=w?void 0:0,O=w?void 0:"button",C=l.bemClass("spoiler",{"--open":n,"--disabled":c,"--fitted":f,"--stealth":d,"--static":w}),M=l.classList(C,t),N=n?"arrow-up-alt2":"arrow-down-alt2",A=Array.isArray(e)?e.map((e,t)=>o.default.createElement(o.default.Fragment,{key:t},e)):"string"==typeof e?o.default.createElement("span",null,e):e;return o.default.createElement("div",{ref:i.mergeRefs(E,b),className:M},o.default.createElement("div",{className:"spoiler__header",onClick:S,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||S()},role:O,tabIndex:P},o.default.createElement("div",{className:"spoiler__label"},A),s&&o.default.createElement(r.Dashicon,{icon:N,className:"spoiler__icon"})),(n||p)&&o.default.createElement("div",{className:"spoiler__content"},h))}))},,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.FeedsSlice=t.Feed=void 0;const l=n(15),i=n(47),r=n(136),u=n(236);function s(e,t){t.id&&(t.options=u.createFeedOptions(t.options),i.Dictionary.set(e,t.id,t))}(t.Feed||(t.Feed={})).getLabel=function(e){var t;const n=null===(t=e.name)||void 0===t?void 0:t.trim();return(null==n?void 0:n.length)>0?n:"(no name)"},t.FeedsSlice=l.createSlice({name:"feeds",initialState:{},reducers:{},extraReducers:e=>e.addCase(r.loadFeeds.fulfilled,(e,t)=>{t.payload.forEach(t=>s(e,t))}).addCase(r.deleteFeed.fulfilled,(e,t)=>{i.Dictionary.remove(e,t.payload)}).addMatcher(l.isFulfilled(r.saveFeed,r.duplicateFeed),(e,t)=>{s(e,t.payload)})}),o(n(136),t)},,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FieldRow=void 0;const o=a(n(0)),l=a(n(560)),i=a(n(245)),r=n(78),u=n(340),s=n(18);t.FieldRow=function({label:e,labelId:t,wide:n,centered:a,tooltip:c,disabled:d,isResponsive:f,proOnly:m,isPro:p,children:_}){p=null!=p?p:s.Common.isPro;const h=m&&!p,b=(d=d||h)?n?l.default.disabledWide:l.default.disabled:n?l.default.containerWide:l.default.container;return o.default.createElement("div",{className:b},e&&o.default.createElement("div",{className:a?l.default.labelCentered:l.default.labelNormal},o.default.createElement("div",{className:l.default.labelAligner},o.default.createElement("label",{htmlFor:t},e,c&&o.default.createElement(o.default.Fragment,null," ",o.default.createElement(i.default,null,c))))),o.default.createElement("div",{className:l.default.content},f&&o.default.createElement("div",{className:l.default.responsiveContainer},o.default.createElement(u.FeedEditorDeviceCycleButton,null),o.default.createElement("div",{className:l.default.responsiveField},_)),!f&&o.default.createElement("div",{className:a?l.default.fieldCentered:l.default.fieldNormal},_)),h&&o.default.createElement(r.ProPill,{className:l.default.proPill}))}},,,function(e,t,n){"use strict";var a=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FieldSet=void 0;const l=o(n(0)),i=o(n(803)),r=n(12);t.FieldSet=function(e){var{className:t}=e,n=a(e,["className"]);return l.default.createElement("div",Object.assign({className:r.classList(i.default.root,t)},n))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LimitedMultiTextInput=void 0;const o=a(n(0)),l=n(867);t.LimitedMultiTextInput=function(e){const[t,n]=o.default.useState("");e.exclude&&0===e.exclude.length&&t.length>0&&n("");let a=void 0;if(t.length>0){const n="%s",l=e.excludeMsg.indexOf("%s"),i=e.excludeMsg.substring(0,l),r=e.excludeMsg.substring(l+n.length);a=o.default.createElement(o.default.Fragment,null,i,o.default.createElement("code",null,t),r)}const i=Object.assign(Object.assign({},e),{message:a,onChange:t=>{const a=e.exclude?t.findIndex(t=>e.exclude.includes(t)):-1;a>-1?n(t[a]):e.onChange(t)}});return o.default.createElement(l.MultiTextInput,Object.assign({},i))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsGroup=void 0;const o=a(n(0)),l=a(n(873));t.SettingsGroup=function({title:e,before:t,after:n,children:a}){return o.default.createElement("div",{className:l.default.root},e&&e.length>0&&o.default.createElement("h1",{className:l.default.title},e),t&&o.default.createElement("div",{className:l.default.beforeFields},t),a&&o.default.createElement("div",{className:l.default.fieldList},a),n&&o.default.createElement("div",{className:l.default.afterFields},n))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=a(n(332)),i=n(77),r=n(8);t.default=function({children:e,title:t,buttons:n,onAccept:a,onCancel:u,isOpen:s,okDisabled:c,cancelDisabled:d}){n=null!=n?n:["OK","Cancel"];const f=()=>u&&u();return o.default.createElement(i.Modal,{isOpen:s,title:t,onClose:f,className:l.default.root},o.default.createElement(i.Modal.Content,null,"string"==typeof e?o.default.createElement("p",null,e):e),o.default.createElement(i.Modal.Footer,null,o.default.createElement(r.Button,{className:l.default.button,type:r.ButtonType.SECONDARY,onClick:f,disabled:d},n[1]),o.default.createElement(r.Button,{className:l.default.button,type:r.ButtonType.PRIMARY,onClick:()=>a&&a(),disabled:c},n[0])))}},,,,,,function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AccountManager=void 0;const o=n(26),l=n(176),i=n(34),r=n(92),u=n(27),s=n(42);!function(e){let t=null,n=null;function c(t,n,o){return a(this,void 0,void 0,(function*(){o&&o(e.State.connectedId),yield new Promise(o=>{setTimeout(()=>a(this,void 0,void 0,(function*(){yield t.dispatch(r.loadAccounts());const n=u.selectAccountById(e.State.connectedId)(t.getState()),a=new d(e.ACCOUNT_CONNECTED_EVENT,n);document.dispatchEvent(a),o()})),n)})}))}e.State=window.SliAccountManagerState={accessToken:null,connectSuccess:!1,connectedId:null},e.manualConnectPersonal=function(t,n,o=0,l){return a(this,void 0,void 0,(function*(){e.State.connectSuccess=!1;const a=yield s.AdminRestApi.accounts.connect(n);return e.State.connectSuccess=!0,e.State.connectedId=a.data.accountId,yield c(t,o,l),e.State.connectedId}))},e.manualConnectBusiness=function(t,n,o,l=0,i){return a(this,void 0,void 0,(function*(){e.State.connectSuccess=!1;const a=yield s.AdminRestApi.accounts.connect(n,o);return e.State.connectSuccess=!0,e.State.connectedId=a.data.accountId,yield c(t,l,i),e.State.connectedId}))},e.openAuthWindow=function(r,u,s=0,d){return new Promise((f,m)=>{if(e.State.connectedId=null,null==t||t.closed){const e=l.getWindowCenterBounds(700,800),n=u===o.Account.Type.PERSONAL?i.AdminCommonConfig.restApi.personalAuthUrl:i.AdminCommonConfig.restApi.businessAuthUrl;t=l.openWindow(n,"_blank",Object.assign({dependent:"yes",resizable:"yes",toolbar:"no",location:"no",scrollbars:"no"},e))}else t.focus();null==t||t.closed||(n=setInterval(()=>a(this,void 0,void 0,(function*(){t&&!t.closed||(clearInterval(n),null!==e.State.connectedId?(yield c(r,s,d),f(e.State.connectedId)):m&&m())})),500))})},e.ACCOUNT_CONNECTED_EVENT="sli/account/connected";class d extends CustomEvent{constructor(e,t){super(e,{detail:{account:t}})}}e.AccountConnectedEvent=d}(t.AccountManager||(t.AccountManager={}))},,,,,,,,function(e,t,n){"use strict";var a=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=void 0;const l=o(n(0)),i=o(n(890));function r(e){var{children:t,padded:n,disabled:o}=e,r=a(e,["children","padded","disabled"]);return l.default.createElement("div",Object.assign({className:o?i.default.disabled:i.default.sidebar},r),l.default.createElement("div",{className:n?i.default.paddedContent:i.default.content},null!=t?t:null))}t.Sidebar=r,function(e){e.padded=i.default.padded}(r=t.Sidebar||(t.Sidebar={}))},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SpotlightNavbarLogo=void 0;const o=a(n(0)),l=a(n(928)),i=n(325);function r({children:e}){const t=Array.isArray(e)?e:[e];return o.default.createElement(o.default.Fragment,null,t.map((e,t)=>o.default.createElement(u,{key:t},e)))}function u({children:e}){return o.default.createElement("div",{className:l.default.item},e)}function s({children:e,style:t}){return o.default.createElement("div",{className:l.default.pathSegment},e,o.default.createElement(c,{style:t}))}function c({style:e}){if("none"===e)return null;const t="chevron"===e?"M0 0 L100 50 L0 100":"M50 0 L50 100";return o.default.createElement("div",{className:l.default.separator},o.default.createElement("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",preserveAspectRatio:"none"},o.default.createElement("path",{d:t,fill:"none",stroke:"currentcolor",strokeLinejoin:"bevel"})))}t.default=function({children:e,pathStyle:t}){let{path:n,left:a,right:i,center:u}=e;return n=null!=n?n:[],a=null!=a?a:[],i=null!=i?i:[],u=null!=u?u:[],o.default.createElement("div",{className:l.default.root},o.default.createElement("div",{className:l.default.leftList},o.default.createElement("div",{className:l.default.pathList},n.map((e,n)=>o.default.createElement(s,{key:n,style:t},o.default.createElement("div",{className:l.default.item},e)))),o.default.createElement("div",{className:l.default.leftList},o.default.createElement(r,null,a))),o.default.createElement("div",{className:l.default.centerList},o.default.createElement(r,null,u)),o.default.createElement("div",{className:l.default.rightList},o.default.createElement(r,null,i)))},t.SpotlightNavbarLogo=function(){return o.default.createElement(i.SpotlightLogo,null)}},,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Link=void 0;const l=o(n(0)),i=n(1),r=n(55),u=n(43);t.Link=function(e){var{to:t,onClick:n,newTab:o,absolute:s}=e,c=a(e,["to","onClick","newTab","absolute"]);const d=i.useDispatch(),f=i.useSelector(r.selectRoute),m=s?f.setQuery(t):f.withQuery(t);return l.default.createElement("a",Object.assign({href:m,onClick:e=>{if(o||2===e.button)window.open(m,"_blank");else{const e=s?u.gotoRoute(t):u.modifyRoute(t);d(e)}e.preventDefault(),e.stopPropagation()}},c))}},,,function(e,t,n){"use strict";var a=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(n(0)),i=o(n(479)),r=n(26),u=n(12);t.default=function(e){var{account:t,square:n,className:o}=e,s=a(e,["account","square","className"]);const c=r.Account.getProfilePicUrl(t),d=u.classList(n?i.default.square:i.default.round,o);return l.default.createElement("img",Object.assign({},s,{className:d,src:r.Account.DefaultProfilePic,srcSet:c+" 1x",alt:t.username+" profile picture"}))}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SaveButton=void 0;const o=a(n(870)),l=a(n(0)),i=n(8),r=n(12);t.SaveButton=function({className:e,content:t,tooltip:n,onClick:a,disabled:u,isSaving:s}){return t=null!=t?t:e=>e?"Saving ...":"Save",n=null!=n?n:"Save",l.default.createElement(i.Button,{className:r.classList(o.default.root,e),type:i.ButtonType.PRIMARY,size:i.ButtonSize.LARGE,tooltip:n,onClick:()=>a&&a(),disabled:u},s&&l.default.createElement("div",{className:o.default.savingOverlay}),t(s))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiHashtagInput=void 0;const o=a(n(0)),l=n(149),i=n(880),r=n(228);t.MultiHashtagInput=function(e){var t;const n="string"==typeof e.value?[e.value]:null!==(t=e.value)&&void 0!==t?t:[],a=Object.assign(Object.assign({},e),{value:n.map(e=>i.prefix(e,"#")),sanitize:r.sanitizeHashtag});return o.default.createElement(l.LimitedMultiTextInput,Object.assign({},a))}},,,,,function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.loadTemplates=void 0;const o=n(15),l=n(60);t.loadTemplates=o.createAsyncThunk("templates/load",()=>a(void 0,void 0,void 0,(function*(){var e;const t=yield l.RestApi.templates.get();return null!==(e=null==t?void 0:t.data)&&void 0!==e?e:[]})))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountsSlice=void 0;const a=n(47),o=n(26),l=n(15),i=n(92);t.AccountsSlice=l.createSlice({name:"accounts",initialState:{},reducers:{},extraReducers:e=>e.addCase(i.updateAccount.fulfilled,(e,t)=>{const n=t.payload;a.Dictionary.set(e,n.id,n)}).addMatcher(l.isFulfilled(i.loadAccounts,i.deleteAccount),(e,t)=>{const n=t.payload.slice().sort((e,t)=>e.type===t.type?0:e.type===o.Account.Type.PERSONAL?-1:1);a.Dictionary.clear(e),n.forEach(t=>{a.Dictionary.set(e,t.id,t)})})})},,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminScreen=void 0;const r=l(n(0)),u=i(n(467)),s=n(1),c=n(12),d=n(157),f=n(27),m=n(42),p={initialized:!1,list:[]};function _(){const e=Array.from(document.querySelectorAll(".sli-notice")),t=Array.from(document.querySelectorAll(".fs-notice.fs-slug-spotlight-social-photo-feeds"));p.list=e.concat(t),p.initialized=!0}t.AdminScreen=function({navbar:e,className:t,fillPage:n,children:a}){const o=s.useStore(),l=r.default.useRef(null);r.useEffect(()=>{l.current&&(p.initialized||_(),p.list.forEach(e=>{e.remove(),l.current.appendChild(e)}))},[]),r.useLayoutEffect(()=>{const e=new MutationObserver(e=>{for(const t of e)"childList"===t.type&&t.removedNodes.length>0&&_()});return e.observe(l.current,{childList:!0}),()=>e.disconnect()});const i=s.useSelector(f.selectExpiringAccounts),h=n?u.default.fillPage:u.default.adminScreen,b=c.classList(h,t);return r.default.createElement("div",{className:b},e&&r.default.createElement("div",{className:u.default.navbar},r.default.createElement(e)),r.default.createElement("div",{className:u.default.content},r.default.createElement("div",{className:u.default.notices,ref:l},i.map(e=>r.default.createElement("div",{key:e.id,className:"notice notice-warning"},r.default.createElement("p",null,"The access token for the ",r.default.createElement("b",null,"@",e.username)," account is about to expire."," ",r.default.createElement("a",{className:u.default.reconnect,onClick:t=>function(e,t){d.AccountManager.openAuthWindow(o,t.type,0,()=>{m.AdminRestApi.media.deleteForAccount(t.id)}),e.preventDefault()}(t,e)},"Re-connect the account")," ","to keep using it in Spotlight.")))),a))}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPath=t.getRouteAbsUrl=t.getRouteRelUrl=t.routeWithoutParam=t.routeWithQuery=t.routeSetQuery=t.getRouteParam=t.getRoutePath=void 0;const a=n(104),o=n(59),l=n(19),i=n(310);function r(e,t){return u(e,l.withPartial({page:e.query.page},t))}function u(e,t){return e.pathName+"?"+a.stringify(function(e){const t=o.cloneObj(e);return Object.getOwnPropertyNames(e).forEach(n=>{e[n]&&0===e[n].length&&delete t[n]}),t}(t))}t.getRoutePath=function(e){return u(e,e.query)},t.getRouteParam=function(e,t){return i.extractFromArray(e.query[t])},t.routeSetQuery=function(e,t){return u(e,l.withPartial(t,{page:e.query.page}))},t.routeWithQuery=function(e,t){return u(e,l.withPartial(e.query,t))},t.routeWithoutParam=function(e,t){const n=o.cloneObj(e.query);return delete n[t],u(e,n)},t.getRouteRelUrl=r,t.getRouteAbsUrl=function(e,t){return e.baseUrl+r(e,t)},t.createPath=u},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=l(n(0)),u=i(n(475)),s=n(296),c=i(n(34)),d=n(12);function f(e,t){switch(t){case"top":case"top-start":case"top-end":return e+"Top";case"bottom":case"bottom-start":case"bottom-end":return e+"Bottom";case"left":case"left-start":case"left-end":return e+"Left";case"right":case"right-start":case"right-end":return e+"Right";default:return e}}t.default=function({visible:e,delay:t,placement:n,theme:a,children:o}){a=null!=a?a:{},n=n||"bottom";const[l,i]=r.default.useState(!1),m={preventOverflow:{boundariesElement:document.getElementById(c.default.config.rootId),padding:5}};r.useEffect(()=>{const n=setTimeout(()=>i(e),e?t:1);return()=>clearTimeout(n)},[e]);const p=f("container",n),_=f("arrow",n),h=d.classList(u.default[p],a.container,a[p]),b=d.classList(u.default[_],a.arrow,a[_]);return r.default.createElement(s.Manager,null,r.default.createElement(s.Reference,null,e=>o[0](e)),r.default.createElement(s.Popper,{placement:n,modifiers:m,positionFixed:!0},({ref:e,style:t,placement:n,arrowProps:i})=>l?r.default.createElement("div",{ref:e,className:d.classList(u.default.root,a.root),style:t,tabIndex:-1},r.default.createElement("div",{className:h,"data-placement":n},r.default.createElement("div",{className:d.classList(u.default.content,a.content)},o[1]),r.default.createElement("div",{className:b,ref:i.ref,style:i.style,"data-placement":n}))):null))}},,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=n(1),i=n(77),r=a(n(486)),u=n(8),s=n(11),c=n(43),d=n(61),f=n(27),m=n(157),p=n(42),_=a(n(34));t.default=function({accountId:e,isOpen:t,showFooterButtons:n,onClose:a,onUpdate:h}){var b;const g=l.useDispatch(),v=l.useStore(),y=l.useSelector(f.selectAccountById(e)),E=null!==(b=null==y?void 0:y.numCustomMedia)&&void 0!==b?b:0;return o.default.createElement(i.Modal,{isOpen:t&&!!e,title:"Account details",icon:"admin-users",onClose:a},e&&o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Modal.Content,null,o.default.createElement(r.default,{accountId:e,onUpdate:h})),n&&o.default.createElement(i.Modal.Footer,{style:"left"},_.default.config.customPosts.enabled&&o.default.createElement(u.Button,{type:u.ButtonType.PILL,size:u.ButtonSize.LARGE,onClick:()=>g(c.gotoRoute({screen:d.SCREENS.CUSTOM_MEDIA,id:e.toString()}))},o.default.createElement(s.Dashicon,{icon:"welcome-add-page"}),o.default.createElement("span",null,E+" custom post"+(E>1?"s":""))),o.default.createElement(u.Button,{type:u.ButtonType.PILL,size:u.ButtonSize.LARGE,onClick:()=>{m.AccountManager.openAuthWindow(v,y.type,0,()=>{p.AdminRestApi.media.deleteForAccount(y.id)})}},o.default.createElement(s.Dashicon,{icon:"image-rotate"}),o.default.createElement("span",null,"Reconnect")))))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WpUploadMedia=void 0;const o=a(n(0)),l=a(n(226)),i=n(137);function r({children:e,open:t}){return e({open:t})}t.WpUploadMedia=({id:e,value:t,title:n,button:a,mediaType:u,multiple:s,children:c,onOpen:d,onClose:f,onSelect:m})=>{e=null!=e?e:"wp-media-"+i.uniqueNum(),u=null!=u?u:"",a=null!=a?a:"Select";const p=o.default.useRef();p.current||(p.current=l.default.media({id:e,title:n,library:{type:u},button:{text:a},multiple:s}));const _=()=>{const e=p.current.state().get("selection");m&&m(e.models)};return f&&p.current.on("close",f),p.current.on("open",()=>{if(t){const e="object"==typeof t?t:l.default.media.attachment(t);e.fetch(),p.current.state().get("selection").add(e?[e]:[])}d&&d()}),p.current.on("insert",_),p.current.on("select",_),o.default.createElement(r,{children:c,open:()=>p.current.open()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=wp},,,function(e,t,n){"use strict";var a=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Onboarding=void 0;const l=o(n(0)),i=n(12),r=n(8);n(499);const u=n(11);function s(e){var{className:t,children:n,fullWidth:o,isTransitioning:r}=e,u=a(e,["className","children","fullWidth","isTransitioning"]);const s=i.bemClass("onboarding",{"--full-width":o,"--transitioning":r});return l.default.createElement("div",Object.assign({className:i.classList(s,t)},u),n)}t.Onboarding=s,function(e){e.TRANSITION_DURATION=200,e.Thin=e=>{var{className:t,children:n}=e,o=a(e,["className","children"]);return l.default.createElement("div",Object.assign({className:i.classList("onboarding__thin",t)},o),n)},e.HelpMsg=e=>{var{className:t,children:n}=e,o=a(e,["className","children"]);return l.default.createElement("div",Object.assign({className:i.classList("onboarding__help-msg",t)},o),n)},e.ProTip=({children:t})=>l.default.createElement(e.HelpMsg,null,l.default.createElement("div",{className:"onboarding__pro-tip"},l.default.createElement("span",null,l.default.createElement(u.Dashicon,{icon:"lightbulb"}),l.default.createElement("strong",null,"Pro tip!")),t)),e.StepList=e=>{var{className:t,children:n}=e,o=a(e,["className","children"]);return l.default.createElement("ul",Object.assign({className:i.classList("onboarding__steps",t)},o),n)},e.Step=e=>{var{isDone:t,num:n,className:o,children:r}=e,u=a(e,["isDone","num","className","children"]);return l.default.createElement("li",Object.assign({className:i.classList(t?"onboarding__done":null,o)},u),l.default.createElement("strong",null,"Step ",n,":")," ",r)},e.HeroButton=e=>{var t,{className:n,children:o}=e,u=a(e,["className","children"]);return l.default.createElement(r.Button,Object.assign({type:null!==(t=u.type)&&void 0!==t?t:r.ButtonType.PRIMARY,size:r.ButtonSize.HERO,className:i.classList("onboarding__hero-button",n)},u),o)}}(s=t.Onboarding||(t.Onboarding={}))},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeedTemplatePicker=void 0;const r=l(n(0)),u=i(n(500)),s=n(1),c=n(18),d=n(142),f=n(11),m=n(231),p=n(232),_=n(320),h=n(158),b=n(78),g=n(44);function v({template:e,isCurrent:t,onClick:n,onLoadImage:a}){const o=e.isPro&&!c.Common.isPro,l=o?u.default.templatePro:u.default.template;return r.default.createElement("div",{className:u.default.tile},r.default.createElement(h.DivButton,{className:l,onClick:n},r.default.createElement("img",{className:u.default.templateThumbnail,src:e.thumbnail,alt:"",onLoad:a}),r.default.createElement("div",{className:u.default.templateLabel},r.default.createElement("span",{className:u.default.templateName},e.name)),o&&r.default.createElement(r.default.Fragment,null,r.default.createElement("a",{className:u.default.proOverlay,href:g.AdminResources.upgradeUrl,target:"_blank"},r.default.createElement("div",{className:u.default.upgradeButton},"Upgrade to PRO")),r.default.createElement("div",{className:u.default.proPill},r.default.createElement(b.ProPill,null))),t&&r.default.createElement("span",{className:u.default.currentIndicator},"Current")))}function y({onClick:e}){return r.default.createElement(d.Square,{className:u.default.tile},r.default.createElement(h.DivButton,{className:u.default.customTemplate,onClick:e},r.default.createElement("div",{className:u.default.customTemplateIcon},r.default.createElement(f.Dashicon,{icon:"plus-alt"}),r.default.createElement("span",{className:u.default.customTemplateText},"Design your own"))))}t.FeedTemplatePicker=function({showCustomOption:e,value:t,onChange:n}){const a=s.useSelector(p.selectTemplates),o=r.useRef(),[l,i]=r.useState(3),d=r.useCallback(()=>{var e;const t=null===(e=null==o?void 0:o.current)||void 0===e?void 0:e.getBoundingClientRect();t&&i(function(e){const t=(e-40*(e/120-1))/3;return t<120?1:t<150?2:3}(t.width))},[o]);r.useLayoutEffect(()=>d(),[d]),m.useWindowSize(()=>d(),[d],!0);const f=r.useCallback(e=>{(null==e?void 0:e.isPro)&&!c.Common.isPro||n(null===(null==e?void 0:e.id)?null:e)},[n]);let h=a.map(e=>r.default.createElement(v,{key:e.id,template:e,isCurrent:e.id===t,onClick:()=>f(e),onLoadImage:d}));return e&&(h=[r.default.createElement(y,{key:"custom",onClick:()=>f(null)})].concat(h)),r.default.createElement("div",{className:u.default.root,ref:o},r.default.createElement(_.MasonryLayout,{columns:l,gap:40},h))}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectTemplateById=t.selectTemplates=void 0,t.selectTemplates=e=>e.templates.models,t.selectTemplateById=e=>t=>t.templates.models.find(t=>t.id===e)},,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Navbar=void 0;const o=a(n(0)),l=a(n(537)),i=n(178),r=n(12),u=n(78),s=n(325);function c({children:e}){return o.default.createElement("div",{className:l.default.root},o.default.createElement(c.LogoItem,null),o.default.createElement("div",{className:l.default.leftContainer},e[0]),e[1]&&o.default.createElement("div",{className:l.default.rightContainer},e[1]))}t.Navbar=c,function(e){e.LogoItem=()=>o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:l.default.item},o.default.createElement(s.SpotlightLogo,null)),o.default.createElement(e.Chevron,null)),e.Item=({children:e})=>o.default.createElement("div",{className:l.default.item},e),e.Section=({children:e})=>o.default.createElement("div",{className:l.default.section},e),e.Link=({linkTo:t,onClick:n,isCurrent:a,isDisabled:u,children:s})=>{const c=r.classMap({[l.default.link]:!0,[l.default.current]:a,[l.default.disabled]:u}),d=e=>{"Enter"!==e.key&&" "!==e.key||e.currentTarget.click()},f=u?-1:0;return o.default.createElement(e.Item,null,t?o.default.createElement(i.Link,{to:t,className:c,role:"button",onKeyPress:d,tabIndex:f},s):o.default.createElement("div",{className:c,role:"button",onClick:()=>!u&&n&&n(),onKeyPress:d,tabIndex:f},s))},e.ProPill=()=>o.default.createElement("div",{className:l.default.proPill},o.default.createElement(u.ProPill,null)),e.Chevron=()=>o.default.createElement("div",{className:l.default.chevron},o.default.createElement("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",preserveAspectRatio:"none"},o.default.createElement("path",{d:"M0 0 L100 50 L0 100",fill:"none",stroke:"currentcolor",strokeLinejoin:"bevel"})))}(c=t.Navbar||(t.Navbar={}))},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProUpgradeBtn=void 0;const o=a(n(0)),l=a(n(539)),i=n(44),r=n(323);t.ProUpgradeBtn=function({url:e,children:t}){const n=r.isBlackFriday2021();return o.default.createElement("a",{className:n?l.default.red:l.default.root,href:null!=e?e:i.AdminResources.pricingUrl,target:"_blank"},null!=t?t:n?"Get 30% off PRO today":"Free 14-day PRO trial")}},,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=a(n(552)),i=n(8),r=n(11),u=a(n(553));t.default=function({children:e,onConnect:t,beforeConnect:n}){const[a,s]=o.default.useState(!1);return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Button,{className:l.default.root,size:i.ButtonSize.HERO,type:i.ButtonType.SECONDARY,onClick:()=>s(!0)},o.default.createElement(r.Dashicon,{icon:"instagram"}),null!=e?e:o.default.createElement("span",null,"Connect more Instagram accounts")),o.default.createElement(u.default,{isOpen:a,onClose:()=>{s(!1)},onConnect:t,beforeConnect:n}))}},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Capability=void 0;const i=l(n(0)),r=n(1),u=l(n(554)),s=n(157),c=n(26),d=n(77),f=n(8),m=n(11),p=l(n(555)),_=n(96),h=n(22),b=n(44),g=n(141),v=n(66);function y(){return i.default.createElement("div",{className:u.default.orSeparator},i.default.createElement("div",{className:u.default.orLine}),i.default.createElement("span",{className:u.default.orText},"OR"),i.default.createElement("div",{className:u.default.orLine}))}t.default=function({onConnect:e,beforeConnect:n,useColumns:o,showPrompt:l,showCapabilities:E}){const S=r.useStore();l=null==l||l,E=null==E||E,e=null!=e?e:_.fn.noop;const w=e=>{var t,n,a,o;"object"==typeof e.response&&e.response.status&&null!==(n=null===(t=e.response.data)||void 0===t?void 0:t.error)&&void 0!==n&&n?S.dispatch(v.showToast({key:"account/connect/fail",type:v.ToastType.NOTIFICATION,message:null!==(o=null===(a=e.response.data)||void 0===a?void 0:a.error)&&void 0!==o?o:"The access token is not valid"})):g.triggerError({type:"account/connect/fail",message:h.getErrorResponseMessage(e)})},P=e=>{s.AccountManager.State.connectSuccess&&n&&n(e)};return i.default.createElement("div",{className:o?u.default.vertical:u.default.horizontal},l&&i.default.createElement("p",{className:u.default.promptMsg},"Choose the type of account to connect:"),i.default.createElement("div",{className:u.default.types},i.default.createElement("div",{className:u.default.type},i.default.createElement(f.Button,{type:f.ButtonType.PRIMARY,size:f.ButtonSize.HERO,onClick:()=>a(this,void 0,void 0,(function*(){try{const t=yield s.AccountManager.openAuthWindow(S,c.Account.Type.PERSONAL,d.Modal.ANIMATION_DELAY,P);e(t)}catch(e){}}))},"Personal account"),E&&i.default.createElement("div",{className:u.default.capabilities},i.default.createElement(t.Capability,null,"Connects directly through Instagram"),i.default.createElement(t.Capability,null,"Show posts from your account"))),o&&i.default.createElement(y,null),i.default.createElement("div",{className:u.default.type},i.default.createElement(f.Button,{type:f.ButtonType.SECONDARY,size:f.ButtonSize.HERO,onClick:()=>a(this,void 0,void 0,(function*(){try{const t=yield s.AccountManager.openAuthWindow(S,c.Account.Type.BUSINESS,d.Modal.ANIMATION_DELAY,P);e(t)}catch(e){}}))},"Business account"),E&&i.default.createElement("div",{className:u.default.capabilities},i.default.createElement(t.Capability,null,"Connects through your Facebook page"),i.default.createElement(t.Capability,null,"Show posts from your account"),i.default.createElement(t.Capability,null,"Show posts where you are tagged"),i.default.createElement(t.Capability,null,"Show posts with a specific hashtag from all across Instagram")),i.default.createElement("div",{className:u.default.businessLearnMore},i.default.createElement(m.Dashicon,{icon:"editor-help"}),i.default.createElement("a",{href:b.AdminResources.businessAccounts,target:"_blank"},"Switch to a Business account for free")))),i.default.createElement(y,null),i.default.createElement("div",{className:l?u.default.connectAccessToken:null},(o||l)&&i.default.createElement("p",{className:u.default.promptMsg},"Connect using an access token:"),i.default.createElement(p.default,{isColumn:o,onConnectPersonal:t=>a(this,void 0,void 0,(function*(){try{const n=yield s.AccountManager.manualConnectPersonal(S,t,d.Modal.ANIMATION_DELAY,P);e(n)}catch(e){w(e)}})),onConnectBusiness:(t,n)=>a(this,void 0,void 0,(function*(){try{const a=yield s.AccountManager.manualConnectBusiness(S,t,n,d.Modal.ANIMATION_DELAY,P);e(a)}catch(e){w(e)}}))})))},t.Capability=e=>{var{children:t}=e,n=o(e,["children"]);return i.default.createElement("div",Object.assign({className:u.default.capability},n),i.default.createElement(m.Dashicon,{icon:"yes"}),i.default.createElement("div",null,t))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Row=t.AccountSelector=void 0;const o=a(n(0)),l=a(n(559)),i=n(26),r=n(11),u=n(182);function s({account:e,selected:t,singleMode:n,disabled:a,onChange:s}){const c=`url("${i.Account.getProfilePicUrl(e)}")`,d=()=>{!a&&s(!t)},f=u.useKeyboardActivate(d),m=a?t?l.default.accountSelectedDisabled:l.default.accountDisabled:t?l.default.accountSelected:l.default.account;return o.default.createElement("div",{className:l.default.row},o.default.createElement("div",{className:m,onClick:d,onKeyPress:f,role:"button",tabIndex:0},o.default.createElement("div",{className:l.default.profilePic,style:{backgroundImage:c}}),o.default.createElement("div",{className:l.default.infoColumn},o.default.createElement("div",{className:l.default.username},e.username),o.default.createElement("div",{className:l.default.accountType},e.type)),t&&!n&&o.default.createElement(r.Dashicon,{icon:"yes-alt",className:l.default.tickIcon})))}t.AccountSelector=function({accounts:e,value:t,onChange:n,singleMode:a,disabled:i}){const r=(t=null!=t?t:[]).filter(t=>e.some(e=>e.id===t)),u=new Set(r),c=o.default.useCallback((e,t)=>{i||(t?(a&&u.clear(),u.add(e)):a||u.delete(e),n(Array.from(u)))},[i,u,n]);return o.default.createElement("div",{className:l.default.root},e.map((e,t)=>o.default.createElement(s,{key:t,account:e,selected:u.has(e.id),onChange:t=>c(e.id,t),singleMode:a,disabled:i})))},t.Row=s},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=a(n(561)),i=n(11),r=a(n(222));t.default=function({maxWidth:e,children:t}){e=null!=e?e:300;const[n,a]=o.default.useState(!1),u=()=>a(!0),s=()=>a(!1),c={content:l.default.tooltipContent,container:l.default.tooltipContainer};return o.default.createElement("div",{className:l.default.root},o.default.createElement(r.default,{visible:n,theme:c},({ref:e})=>o.default.createElement("span",{ref:e,className:l.default.icon,style:{opacity:n?1:.7},onMouseEnter:u,onMouseLeave:s},o.default.createElement(i.Dashicon,{icon:"info"})),o.default.createElement("div",{style:{maxWidth:e+"px"}},t)))}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonDesignFields=void 0;const i=l(n(0)),r=n(839),u=n(8),s=n(241),c=n(62),d=n(19),f=n(144),m=n(840),p=n(145);function _({id:e,value:t,onChange:n,disabled:a,show:o}){var l,_,h,b;const[g,v]=i.useState(s.ButtonDesign.DEFAULT);t=null!=t?t:g,n=null!=n?n:v;const[y,E]=i.useState(!1),S=null!==(l=t.border)&&void 0!==l?l:{},w=s.ButtonDesign.getFullState(t,y),P=null!==(_=w.bgColor)&&void 0!==_?_:f.Color.WHITE,O=null!==(b=(null!==(h=w.text)&&void 0!==h?h:{}).color)&&void 0!==b?b:f.Color.BLACK;return i.default.createElement(i.default.Fragment,null,o.states&&i.default.createElement(p.FieldRow,{disabled:a,wide:!0,centered:!0},i.default.createElement(r.ButtonGroup,{wide:!0},i.default.createElement(u.Button,{type:u.ButtonType.TOGGLE,active:!y,onClick:()=>E(!1)},"Normal"),i.default.createElement(u.Button,{type:u.ButtonType.TOGGLE,active:y,onClick:()=>E(!0)},"Hover"))),o.textColor&&i.default.createElement(p.FieldRow,{label:"Text color",labelId:e+"-color",disabled:a},i.default.createElement(c.ColorPicker,{id:e+"-color",value:O,onChange:e=>{const a=s.ButtonDesign.withState(t,y,t=>{var n;return t.text=null!==(n=t.text)&&void 0!==n?n:{},t.text.color=e.rgb,t});n(a)}})),o.bgColor&&i.default.createElement(p.FieldRow,{label:"Background color",labelId:e+"-bg",disabled:a},i.default.createElement(c.ColorPicker,{id:e+"-bg",value:P,onChange:e=>{const a=s.ButtonDesign.withState(t,y,t=>(t.bgColor=e.rgb,t));n(a)}})),i.default.createElement("hr",null),o.border&&i.default.createElement(m.BorderDesignFields,{design:S,onChange:e=>{n(d.withPartial(t,{border:e}))},show:o.border,labels:!0}))}_.defaultProps={id:"",value:null,onChange:null,disabled:!1,show:{}},t.ButtonDesignFields=_},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TextField=void 0;const o=a(n(0));t.TextField=function({id:e,value:t,onChange:n,placeholder:a}){return o.default.createElement("input",{id:e,type:"text",value:t,onChange:e=>n(e.target.value),placeholder:a})}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPage=void 0;const o=a(n(0)),l=a(n(871)),i=n(1),r=n(72),u=n(126);t.SettingsPage=function({before:e,after:t,children:n}){const a=i.useDispatch();return r.useDocumentEventListener("keydown",e=>{e.key&&"s"===e.key.toLowerCase()&&e.ctrlKey&&(a(u.saveSettings()),e.preventDefault(),e.stopPropagation())},[],[a]),o.default.createElement("article",{className:l.default.root},e&&o.default.createElement("div",{className:l.default.beforeGroups},e),n&&o.default.createElement("div",{className:l.default.groupList},n),t&&o.default.createElement("div",{className:l.default.afterGroups},t))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ResponsiveContainer=t.ResponsiveContext=void 0;const o=a(n(0)),l=n(231);t.ResponsiveContext=o.default.createContext(0),t.ResponsiveContainer=function({breakpoints:e,render:n,children:a}){const[i,r]=o.default.useState(null),u=o.default.useCallback(t=>{r(()=>e.reduce((e,n)=>t.width<=n&&n<e?n:e,1/0))},[e]);l.useWindowSize(u,[r],!0);const s=n?n(i):a;return o.default.createElement(t.ResponsiveContext.Provider,{value:i},null!==i?s:null)}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionGrid=void 0;const u=l(n(0)),s=r(n(896)),c=n(223),d=n(138),f=n(142),m=n(897);t.SelectionGrid=function(e){var t,n,{disabled:a,controlled:o,canDeselect:l,children:r,onClick:d,onSelect:h,addButton:b}=e,g=i(e,["disabled","controlled","canDeselect","children","onClick","onSelect","addButton"]);const v=!!b,y=v?[b,...g.items]:g.items;let E=0;g.initialSelected&&g.keyFn&&(E=g.items.findIndex((e,t)=>g.keyFn(e,t)===g.initialSelected),E=-1===E?0:E);const[S,w]=u.useState(E),P=u.default.useRef(),O=u.default.useRef(),C=u.default.useRef(),M=o?g.selected:S,N=null!==(t=g.gridGap)&&void 0!==t?t:15,A=null===(n=g.useKeyBinds)||void 0===n||n;function k(e,t){if(!a){o||w(e);const n=y[e];_(v,0,e)||h&&h(n,e,t)}}function T(e,t){if(!a){k(e,t);const n=y[e];_(v,0,e)?(null==b?void 0:b.onClick)&&b.onClick():d&&d(n,e,t)}}u.useLayoutEffect(()=>{var e;null===(e=C.current)||void 0===e||e.focus()},[C]);const F=u.useCallback(e=>{if(a||!A)return;const t=function(){const e=O.current.getBoundingClientRect(),t=C.current.getBoundingClientRect(),n=e.width,a=t.width;return Math.floor((n+N)/(a+N))}(),n=Math.ceil(y.length/t);switch(e.key){case" ":case"Enter":T(M);break;case"ArrowLeft":k(Math.max(M-1,0));break;case"ArrowRight":k(Math.min(M+1,y.length-1));break;case"ArrowUp":{const e=Math.max(0,M-t),a=Math.floor(M/t),o=Math.floor(e/t);n>1&&o!==a&&k(e);break}case"ArrowDown":{const e=Math.min(y.length-1,M+t),a=Math.floor(M/t),o=Math.floor(e/t);n>1&&o!==a&&k(e);break}default:return}e.preventDefault(),e.stopPropagation()},[a,A,y,k]);c.useDetectOutsideClick(O,()=>{l&&null!==M&&k(null)},[],[l,k,M]);const j=Object.assign(Object.assign({},g.gridStyle),{gridGap:N}),L=a?s.default.gridDisabled:s.default.grid;return u.default.createElement("div",{ref:P,className:s.default.root},u.default.createElement("div",{ref:O,className:L,style:j},y.map((e,t)=>{if(_(v,0,t))return u.default.createElement("div",{className:s.default.item,key:"_add_btn"},u.default.createElement(f.Square,null,u.default.createElement(m.JumboAddButton,Object.assign({},e,{isFocused:M===t}))));const n=t,o=v?t-1:t;return u.default.createElement(p,{key:g.keyFn?g.keyFn(e,o):o,ref:0===o?C:null,focused:!a&&M===n,onClick:e=>T(n,e.currentTarget),onSelect:e=>k(n,e.currentTarget),onKeyDown:F},r({item:e,idx:o,isSelected:M===n}))})))};const p=u.default.forwardRef(({focused:e,onClick:t,onSelect:n,onKeyDown:a,children:o},l)=>{const i=u.useRef();return u.useLayoutEffect(()=>{var t;e&&(null===(t=null==i?void 0:i.current)||void 0===t||t.focus())},[e,i]),u.default.createElement("div",{ref:d.mergeRefs(i,l),className:s.default.item,onClick:t,onFocus:n,onKeyDown:a,tabIndex:0},o)});function _(e,t,n){return e&&0===n}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingSpinner=void 0;const o=a(n(0));n(899),t.LoadingSpinner=({size:e})=>{const t=(e=null!=e?e:24)+"px",n={width:t,height:t,boxShadow:`${.25*e+"px"} 0 0 ${.375*e+"px"} #999 inset`};return o.default.createElement("span",{className:"loading-spinner",style:n})}},,,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminSettings=void 0;const o=a(n(992)),l=n(998),i=n(1009);t.AdminSettings=[{id:"accounts",title:"Accounts",component:o.default},{id:"config",title:"Configuration",component:l.SettingsConfigTab},{id:"tools",title:"Tools",component:i.SettingsToolsTab}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatesSlice=t.TemplatesInitialState=void 0;const a=n(15),o=n(208);t.TemplatesInitialState={models:[],isLoaded:!1},t.TemplatesSlice=a.createSlice({name:"templates",initialState:t.TemplatesInitialState,reducers:{},extraReducers:e=>e.addCase(o.loadTemplates.fulfilled,(e,t)=>{e.models=t.payload,e.isLoaded=!0})})},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=n(12),i=a(n(478));function r({idx:e,row:t,cols:n,styleMap:a}){return o.default.createElement("tr",{className:i.default.row},n.map(n=>o.default.createElement("td",{key:n.id,className:l.classList(i.default.cell,s(n),a.cells[n.id])},n.render(t,e))))}function u({cols:e,styleMap:t}){return o.default.createElement("tr",null,e.map(e=>{const n=l.classList(i.default.colHeading,s(e),t.cols[e.id]);return o.default.createElement("th",{key:e.id,className:n},e.label)}))}function s(e){return"center"===e.align?i.default.alignCenter:"right"===e.align?i.default.alignRight:i.default.alignLeft}t.default=function({className:e,cols:t,rows:n,footerCols:a,styleMap:s}){return s=null!=s?s:{cols:{},cells:{}},o.default.createElement("table",{className:l.classList(i.default.table,e)},o.default.createElement("thead",{className:i.default.header},o.default.createElement(u,{cols:t,styleMap:s})),o.default.createElement("tbody",null,n.map((e,n)=>o.default.createElement(r,{key:n,idx:n,row:e,cols:t,styleMap:s}))),a&&o.default.createElement("tfoot",{className:i.default.footer},o.default.createElement(u,{cols:t,styleMap:s})))}},,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ellipsis=void 0;const o=a(n(0));t.Ellipsis=()=>o.default.createElement("svg",{"aria-hidden":"true",role:"img",focusable:"false",className:"dashicon dashicons-ellipsis",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},o.default.createElement("path",{d:"M5 10c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm12-2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-7 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CopyShortcode=void 0;const o=a(n(0)),l=a(n(317)),i=n(1),r=n(66);t.CopyShortcode=({feed:e,onCopy:t,children:n})=>{const a=i.useDispatch();return o.default.createElement(l.default,{text:`[instagram feed="${e.id}"]`,onCopy:()=>{a(r.showToast({key:"feeds/shortcode/copied",message:"Copied shortcode to clipboard."})),t&&t()}},n)}},,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeedsOnboarding=void 0;const o=a(n(0)),l=a(n(498)),i=n(229),r=n(230),u=n(44),s=a(n(233)),c=n(323),d=n(18);function f({showSteps:e}){return o.default.createElement(i.Onboarding.Thin,null,o.default.createElement("p",null,"Design your own Instagram feed or choose one of our beautiful pre-made templates."),o.default.createElement("p",null,"The templates are all fully customisable so you can design them to match your style."),e&&o.default.createElement(o.default.Fragment,null,o.default.createElement("p",null,"Once you've picked a template:"),o.default.createElement(i.Onboarding.StepList,null,o.default.createElement(i.Onboarding.Step,{num:1},o.default.createElement("span",null,"Connect your Instagram Account")),o.default.createElement(i.Onboarding.Step,{num:2},o.default.createElement("span",null,"Customize your feed")),o.default.createElement(i.Onboarding.Step,{num:3},o.default.createElement("span",null,"Embed it on your site")))),o.default.createElement("p",null,"Choose a template to get started."))}t.FeedsOnboarding=function({showSteps:e=!1,onSelectTemplate:t}){const[n,a]=o.default.useState(!1);return o.default.createElement("div",{className:n?l.default.rootTransitioning:l.default.root},o.default.createElement("div",{className:l.default.left},o.default.createElement("h1",{style:{fontWeight:"normal",lineHeight:"1.2em"}},"Pick a template to ",o.default.createElement("b",null,"get started!")),c.isBlackFriday2021()&&!d.Common.isPro?o.default.createElement(p,{showSteps:e}):o.default.createElement(f,{showSteps:e})),o.default.createElement("div",{className:l.default.right},o.default.createElement("div",{className:l.default.scrollPadding},o.default.createElement(r.FeedTemplatePicker,{onChange:function(e){a(!0),t(e)},showCustomOption:!0}))))};const m=[{label:"Hashtag feeds",content:"Display user generated content to instantly add social proof."},{label:"Shoppable feeds",content:"Make your galleries shoppable, just in time for the holiday season."},{label:"Link in bio",content:"Improve your SEO and drive more traffic to your website from Instagram."},{label:"Filtering and moderation",content:"Show only the best posts to control your site's quality."},{label:"Tagged posts",content:"Include tagged posts in your feeds to increase credibility."}];function p({showSteps:e}){return o.default.createElement(i.Onboarding.Thin,null,o.default.createElement("p",null,"Design your own Instagram feed or choose one of our professionally designed templates."),e&&o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Onboarding.StepList,null,o.default.createElement(i.Onboarding.Step,{num:1},o.default.createElement("span",null,"Connect your Instagram Account")),o.default.createElement(i.Onboarding.Step,{num:2},o.default.createElement("span",null,"Customize your feed")),o.default.createElement(i.Onboarding.Step,{num:3},o.default.createElement("span",null,"Embed anywhere you want")))),o.default.createElement("div",null,o.default.createElement("a",{href:u.AdminResources.pricingUrl,target:"_blank",className:l.default.bfHeading},"Get 30% off PRO today!"),o.default.createElement("p",null,"Black Friday/Cyber Monday offer valid from 22",o.default.createElement("sup",null,"nd")," to the 29",o.default.createElement("sup",null,"th")," of November 2021."," ",o.default.createElement("a",{href:u.AdminResources.pricingUrl,target:"_blank",className:l.default.bfStealthLink},o.default.createElement("b",null,"Upgrade now!"))),o.default.createElement("p",null,o.default.createElement("b",null,"Why upgrade to PRO?")),o.default.createElement("div",{className:l.default.bfSlider},o.default.createElement(s.default,{autoPlay:!0,autoPlayInterval:4e3,infinite:!0,disableButtonsControls:!0,items:m.map(e=>o.default.createElement("div",{className:l.default.bfSliderItem},o.default.createElement("div",null,o.default.createElement("b",null,e.label,":")),o.default.createElement("div",null,e.content)))})),o.default.createElement("a",{href:u.AdminResources.pricingUrl,target:"_blank",className:l.default.bfButton},"Get 30% off PRO today!")))}},,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=n(234),i=n(235),r=n(61),u=n(18),s=n(1),c=n(55),d=n(44),f={display:"flex",flexDirection:"column",justifyContent:"center",marginRight:25},m={textDecoration:"none"};t.default=function({right:e,chevron:t,children:n}){var a,p;const _=s.useSelector(c.selectScreen),h=o.default.createElement(l.Navbar.Item,null,null!==(p=null===(a=r.Screens.getScreen(_))||void 0===a?void 0:a.title)&&void 0!==p?p:"");return o.default.createElement(l.Navbar,null,o.default.createElement(o.default.Fragment,null,h,t&&o.default.createElement(l.Navbar.Chevron,null),n),e?o.default.createElement(e):o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{style:f},o.default.createElement("a",{href:d.AdminResources.supportNavbarUrl,target:"_blank",style:m},o.default.createElement("span",null,"Need help?"))),!u.Common.isPro&&o.default.createElement(i.ProUpgradeBtn,{url:d.AdminResources.upgradeNavbarUrl})))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SpotlightLogo=void 0;const o=a(n(0)),l=a(n(538)),i=n(18),r=n(326);t.SpotlightLogo=function(){return o.default.createElement("div",{className:l.default.logo},o.default.createElement("img",Object.assign({className:l.default.logoImage,src:i.Common.image("spotlight-favicon.png"),alt:"Spotlight"},r.noDrag)))}},,,,,,,function(e,t,n){e.exports={root:"ModalPrompt__root",button:"ModalPrompt__button"}},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminEditor=void 0;const l=o(n(0)),i=n(1),r=n(18),u=n(61),s=n(334),c=n(143),d=n(43),f=n(186),m=n(969),p=f.FeedEditorDefaultConfig.tabs.slice();p.push({id:"embed",label:"Embed",requireSources:!0,sidebar:m.EmbedSidebar}),t.AdminEditor=function({feed:e,keepState:t}){const n=i.useDispatch(),o=null===e.id,f=l.default.useCallback(e=>a(this,void 0,void 0,(function*(){const t=yield n(c.saveFeed(e));o&&t.payload.id&&setTimeout(()=>{n(d.gotoRoute({screen:u.SCREENS.EDIT_FEED,id:t.payload.id}))},10)})),[o]),m=l.default.useCallback(()=>{n(d.gotoScreen(u.SCREENS.FEED_LIST))},[]);return l.default.createElement(s.CommonEditor,{feed:e,isPro:r.Common.isPro,onSave:f,onCancel:m,keepState:t,tabs:p,useCtrlS:!0,confirmOnCancel:!0})}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommonEditor=t.LEAVE_MESSAGE=void 0;const u=l(n(0)),s=n(1),c=n(72),d=n(335),f=n(28),m=n(19),p=n(967),_=n(18),h=n(43),b=r(n(34));function g(e){return u.default.createElement(p.WpMediaField,Object.assign({},e,{title:"Select custom profile photo",buttonSet:"Choose custom photo",buttonChange:"Change custom photo",mediaType:"image"}))}t.LEAVE_MESSAGE="You have unsaved changes. If you leave now, your changes will be lost.",t.CommonEditor=function(e){var{feed:n,confirmOnCancel:a,keepState:o,useCtrlS:l,onSave:r,onCancel:p}=e,v=i(e,["feed","confirmOnCancel","keepState","useCtrlS","onSave","onCancel"]);const y=s.useDispatch(),E=s.useSelector(e=>e.editor.isSaving),S=s.useSelector(e=>e.editor.isDirty),[w,P]=u.default.useState(!1);u.useEffect(()=>{y(f.FeedEditorActions.editFeed({feedName:n.name,feedOptions:n.options,reset:!o}))},[y,n.id,o]),h.useUnload(t.LEAVE_MESSAGE,()=>a&&S&&!E&&!w,[a,S,E,w]),u.useEffect(()=>{w&&p&&p()},[w]),c.useDocumentEventListener("keydown",e=>{l&&e.key&&"s"===e.key.toLowerCase()&&e.ctrlKey&&(y(f.FeedEditorActions.saveFeed(O)),e.preventDefault(),e.stopPropagation())},[],[S]);const O=u.default.useCallback((e,t)=>{const a=m.withPartial(n,{name:e,options:t});return r?r(a):Promise.reject()},[n,r]),C=u.default.useCallback(()=>{(!S||!w&&a&&confirm(t.LEAVE_MESSAGE))&&P(!0)},[p,a]);return u.default.createElement(d.FeedEditor,Object.assign({},v,{isPro:_.Common.isPro,selectMediaField:g,onSave:O,onCancel:C,fakePreview:b.default.editor.preview}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxListField=void 0;const o=a(n(0)),l=a(n(816)),i=n(78),r=a(n(245)),u=n(18);t.CheckboxListField=function({id:e,value:t,onChange:n,isPro:a,showProOptions:s,options:c}){a=null!=a?a:u.Common.isPro;const d=new Set(t.map(e=>e.toString())),f=e=>{const t=e.target.value,o=e.target.checked,l=c.find(e=>e.value.toString()===t);l.proOnly&&!a||l.isDisabled||(o?d.add(t):d.delete(t),n&&n(Array.from(d)))};return o.default.createElement("div",{className:l.default.checkboxList},c.filter(e=>!!e).map((t,n)=>{var u;if(!a&&t.proOnly&&!s)return null;const c=t.proOnly&&!a,m=t.isDisabled||c;return o.default.createElement("label",{key:n,className:m?l.default.disabledOption:l.default.option},o.default.createElement("input",{type:"checkbox",id:e,value:null!==(u=t.value.toString())&&void 0!==u?u:"",checked:d.has(t.value.toString()),onChange:f,disabled:m}),o.default.createElement("span",null,t.label,t.tooltip&&!c&&o.default.createElement(o.default.Fragment,null," ",o.default.createElement(r.default,null,t.tooltip))),c&&o.default.createElement("div",{className:l.default.proPill},o.default.createElement(i.ProPill,null)))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SETTINGS_SAVE_FAILED=t.SETTINGS_SAVE_SUCCESS=void 0,t.SETTINGS_SAVE_SUCCESS="sli/settings/save/success",t.SETTINGS_SAVE_FAILED="sli/settings/save/error"},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsFiltersTab=void 0;const o=a(n(0)),l=n(273),i=n(872),r=n(878);t.SettingsFiltersTab=function(){return o.default.createElement(l.SettingsPage,null,o.default.createElement(i.SettingsCaptionFiltersGroup,null),o.default.createElement(r.SettingsHashtagFiltersGroup,null))}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaSelectionGrid=void 0;const s=l(n(0)),c=u(n(895)),d=n(275),f=n(276),m=n(9),p=n(59),_=n(127),h=n(60);function b({item:e,isSelected:t,children:n}){return n=null!=n?n:e=>s.default.createElement(_.MediaThumbnail,{media:e.item,className:c.default.thumbnail}),s.default.createElement("div",{className:t?c.default.selectedMedia:c.default.media},n({item:e,isSelected:t}))}t.MediaSelectionGrid=function(e){var{options:t,useFilters:n,useModeration:a,useTypeFilter:o,cache:l,onLoadMedia:u,onClick:_,onSelect:g}=e,v=r(e,["options","useFilters","useModeration","useTypeFilter","cache","onLoadMedia","onClick","onSelect"]);const y=function({options:e,useTypeFilter:t,useFilters:n,useModeration:a}){const o=p.cloneObj(e);return o.numPosts=999999,n||(o.captionWhitelist=[],o.captionBlacklist=[],o.hashtagWhitelist=[],o.hashtagBlacklist=[],o.captionWhitelistSettings=!1,o.captionBlacklistSettings=!1,o.hashtagWhitelistSettings=!1,o.hashtagBlacklistSettings=!1),a||(o.moderation=[],o.moderationMode=m.ModerationMode.BLACKLIST),t||(o.mediaType=m.MediaTypeFilter.ALL),o}({options:t,useTypeFilter:o,useFilters:n,useModeration:a}),[E,S]=s.useState(!0),[w,P]=s.useState([]),O=s.useRef(null);return l||(l={value:O.current,update:e=>O.current=e}),s.useEffect(()=>{!function(){var e;i(this,void 0,void 0,(function*(){if((null===(e=l.value)||void 0===e?void 0:e.key)===m.calculateFeedMediaHash(y))P(l.value.media),S(!1),u&&u(l.value.media);else{S(!0);const e=(yield h.RestApi.media.get(y,0,0,void 0,v.autoImport)).data.media;l.update({key:m.calculateFeedMediaHash(y),media:e}),P(e),S(!1),u&&u(e)}}))}()},[y,n,a,o]),E?s.default.createElement("div",{className:c.default.loading},s.default.createElement(f.LoadingSpinner,{size:60})):s.default.createElement(d.SelectionGrid,Object.assign({},v,{items:w,onClick:function(e,t,n){_&&_(e,t,n)},onSelect:function(e,t,n){g&&g(e,t,n)},keyFn:e=>e.id.toString()}),e=>s.default.createElement(b,Object.assign({},e,{children:v.children})))}},,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromotionsGrid=void 0;const r=l(n(0)),u=i(n(911)),s=n(8),c=n(11),d=n(397),f=n(77),m=n(37),p=n(159),_=n(19),h=n(400),b=n(120),g=n(127),v=n(919),y=n(18),E={value:null,update:e=>E.value=e};function S({media:e,isFirst:t,isLast:n,onPrev:a,onNext:o,feedOptions:l,onChange:i}){const d=r.useRef(),f=p.PromotionSystem.getMediaPromoFromFeed(e,l),m=l.globalPromotionsEnabled&&!!p.PromotionSystem.getMediaGlobalPromo(e),b=l.autoPromotionsEnabled&&!!p.PromotionSystem.getMediaAutoPromo(e);return r.useEffect(()=>{var e;null===(e=null==d?void 0:d.current)||void 0===e||e.focus()},[d]),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:u.default.navigation},r.default.createElement(s.Button,{type:s.ButtonType.PILL,size:s.ButtonSize.LARGE,disabled:t,onClick:a},r.default.createElement(c.Dashicon,{icon:"arrow-left-alt"})),r.default.createElement(v.PromotePreviewTile,{media:e}),r.default.createElement(s.Button,{type:s.ButtonType.PILL,size:s.ButtonSize.LARGE,disabled:n,onClick:o},r.default.createElement(c.Dashicon,{icon:"arrow-right-alt"}))),r.default.createElement(h.MediaPromotionFields,{promo:f,typeSelectorRef:d,hasGlobal:m,hasAuto:b,onChange:function(t){y.Common.isPro&&i(_.withPartial(l.promotions,{[e.id]:t}))}}))}function w({media:e,isSelected:t}){const n=m.useEditorSelector(e=>e.feedOptions),a=p.PromotionSystem.getMediaPromo(e,n),o=b.PromotionTypeStore.getForPromo(a),l=p.PromotionSystem.getPromoConfig(a),i=(null==o?void 0:o.isValid(l))?null==o?void 0:o.getIcon(e,l):void 0;return r.default.createElement("div",{className:t?u.default.tileSelected:u.default.tile},r.default.createElement(g.MediaThumbnail,{className:u.default.tileThumbnail,media:e}),r.default.createElement("div",{className:u.default.tileIcon},r.default.createElement(c.Dashicon,{icon:i})))}t.PromotionsGrid=function({feedOptions:e,onChange:t}){const n=r.useRef(),a=r.useRef(),[o,l]=r.useState(null),[i,c]=r.useState(0),[m,p]=r.useState(!1);function _(){var e;p(!1),null===(e=a.current)||void 0===e||e.focus()}const h=null!==o&&null!==i,b=h&&i<=0,g=h&&i>=o.length-1,v=h?o[i]:null;return r.default.createElement("div",{className:u.default.root},r.default.createElement(d.MediaSelectionGrid,{cache:E,options:e,selected:i,onClick:function(e,t,n){a.current=n,p(!0)},onSelect:function(e,t){c(t)},onLoadMedia:l,canDeselect:!m,useKeyBinds:!m,useFilters:!0,useModeration:!0,useTypeFilter:!0,controlled:!0},e=>r.default.createElement(w,{media:e.item,isSelected:e.isSelected})),r.default.createElement(f.Modal,{title:"Promotion",rootRef:n,isOpen:m&&null!==v,onClose:_},r.default.createElement(f.Modal.Content,null,r.default.createElement(S,{media:v,feedOptions:e,onChange:t,isFirst:b,isLast:g,onNext:()=>c(e=>e+1),onPrev:()=>c(e=>e-1)})),r.default.createElement(f.Modal.Footer,null,r.default.createElement(s.Button,{type:s.ButtonType.PRIMARY,size:s.ButtonSize.LARGE,onClick:_},"Done"))))}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPromotionFields=void 0;const u=l(n(0)),s=r(n(912)),c=n(19),d=n(204),f=n(120),m=n(913),p=n(918),_=n(38),h=n(145);t.MediaPromotionFields=function(e){var t,n,{promo:a,typeSelectorRef:o,onChange:l}=e,r=i(e,["promo","typeSelectorRef","onChange"]);a=null!=a?a:{type:"",config:{}};const[b,g]=u.useState(!1),v=u.useCallback(()=>{g(!0),l&&l({type:null,config:{}})},[l]),y=f.PromotionTypeStore.get(a.type),E=null!==(t=a.config)&&void 0!==t?t:{},S=!d.isObjectEmpty(E),w=r.hasGlobal||r.hasAuto,P=w&&(S||b),O=null!==(n=m.PromoTypeComponents.get(y?y.id:""))&&void 0!==n?n:{heading:"",fields:void 0,tutorial:void 0},C=[{value:"",label:"None"}].concat(f.PromotionTypeStore.getAll().map(e=>({value:e.id,label:e.label})));return u.default.createElement("div",null,w&&u.default.createElement(p.PromotionOverrideMessage,{hasAuto:r.hasAuto,hasGlobal:r.hasGlobal,isOverriding:P,onOverride:v}),(!w||P)&&!r.showTutorial&&u.default.createElement(u.default.Fragment,null,u.default.createElement(h.FieldRow,{label:"Promotion type",labelId:"promo-type",proOnly:!0},u.default.createElement(_.Select,{id:"promo-type",ref:o,value:a.type,onChange:e=>{l&&l(c.withPartial(a,{type:e.value}))},isSearchable:!1,isCreatable:!1,isClearable:!1,options:C})),O.fields&&u.default.createElement(u.default.Fragment,null,u.default.createElement("hr",{className:s.default.separator}),u.default.createElement(O.fields,{config:null!=E?E:{},onChange:e=>{l&&l(c.withPartial(a,{config:e}))}}))),r.showTutorial&&O.tutorial&&u.default.createElement(O.tutorial,null))}},,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=a(n(931)),i=a(n(166)),r=n(182);function u({tab:e,isCurrent:t,onClick:n}){return o.default.createElement("a",{key:e.key,role:"button",tabIndex:0,className:e.disabled?l.default.disabled:t?l.default.current:l.default.tab,onClick:n,onKeyDown:r.useKeyboardActivate(n)},o.default.createElement("span",{className:l.default.label},e.label))}t.default=function({children:{path:e,tabs:t,right:n},current:a,onClickTab:l}){return o.default.createElement(i.default,{pathStyle:"chevron"},{path:e,right:n,left:t.map(e=>{return o.default.createElement(u,{tab:e,key:e.key,isCurrent:e.key===a,onClick:(t=e.key,()=>l&&l(t))});var t})})}},,,,,,,function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNews=void 0;const o=n(15),l=(n(22),n(42));t.fetchNews=o.createAsyncThunk("news/fetch",()=>a(void 0,void 0,void 0,(function*(){try{const e=yield l.AdminRestApi.notifications.get();if("object"==typeof e&&Array.isArray(e.data))return e.data}catch(e){}})))},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Decorate=void 0;const o=a(n(0));t.Decorate=function(e,t){return n=>o.default.createElement(e,Object.assign(Object.assign({},t),n))}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromotionsScreen=void 0;const r=l(n(0)),u=i(n(974)),s=i(n(402)),c=n(8),d=n(166),f=n(975),m=n(984),p=n(202),_=n(412),h=n(61),b=n(72),g=n(78),v=n(1),y=n(33),E=n(126),S=n(50),w=n(55),P=n(43);function O({currTabId:e,isFakePro:t}){const n=v.useDispatch(),a=v.useSelector(y.selectSettingsAreDirty),o=v.useSelector(y.selectSettingsAreSaving);return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,{current:e,onClickTab:e=>n(P.modifyRoute({tab:e}))},{path:[r.default.createElement(d.SpotlightNavbarLogo,{key:"logo"}),r.default.createElement("span",{key:"screen-title"},"Promotions")],tabs:[{key:"automate",label:r.default.createElement("span",{className:t?u.default.navbarFakeProItem:u.default.navbarItem},t&&r.default.createElement(g.ProPill,{className:u.default.navbarProPill}),r.default.createElement("span",null,"Automate"))},{key:"global",label:r.default.createElement("span",{className:t?u.default.navbarFakeProItem:u.default.navbarItem},t&&r.default.createElement(g.ProPill,{className:u.default.navbarProPill}),r.default.createElement("span",null,"Global Promotions"))}],right:[r.default.createElement(c.Button,{key:"cancel",onClick:()=>n(S.restoreSettings()),type:c.ButtonType.SECONDARY,disabled:!a,children:"Cancel"}),r.default.createElement(p.SaveButton,{key:"save",onClick:()=>n(E.saveSettings()),isSaving:o,disabled:!a})]}))}t.PromotionsScreen=function({isFakePro:e}){var t;const n=v.useDispatch(),a=v.useSelector(y.selectSettingsAreDirty),o=v.useSelector(y.selectSettingsAreSaving),l=v.useSelector(y.selectSetting("autoPromotions")),i=e?C:l,s=null!==(t=v.useSelector(w.selectQueryParam("tab")))&&void 0!==t?t:"automate";return P.useUnload(_.LEAVE_MESSAGE,e=>a&&e.screen!==h.SCREENS.PROMOTIONS,[a]),r.useEffect(()=>()=>a&&n(S.restoreSettings()),[a,n]),b.useDocumentEventListener("keydown",e=>{"s"===e.key.toLowerCase()&&e.ctrlKey&&(a&&!o&&n(E.saveSettings()),e.preventDefault(),e.stopPropagation())},[],[a,o]),r.default.createElement("div",{className:u.default.screen},r.default.createElement("div",{className:u.default.navbar},r.default.createElement(O,{currTabId:s,isFakePro:e})),"automate"===s&&r.default.createElement(f.AutomatePromotionsTab,{automations:i,onChange:function(t){e||n(S.updateSettings({autoPromotions:t}))},isFakePro:e}),"global"===s&&r.default.createElement(m.GlobalPromotionsTab,{isFakePro:e}))};const C=[{type:"hashtag",config:{hashtags:["product"]},promotion:{type:"link",config:{linkType:"page",postId:1,postTitle:"Product Page",linkText:"Buy this product"}}},{type:"hashtag",config:{hashtags:["myblog"]},promotion:{type:"link",config:{linkType:"post",postId:1,postTitle:"My Latest Blog Post",linkText:""}}},{type:"hashtag",config:{hashtags:["youtube"]},promotion:{type:"link",config:{linkType:"url",url:"",linkText:""}}}]},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsScreen=t.LEAVE_MESSAGE=void 0;const r=l(n(0)),u=i(n(989)),s=n(1),c=(n(104),n(219)),d=(n(61),n(990)),f=n(284),m=n(33),p=n(50),_=n(18),h=n(55),b=n(43);t.LEAVE_MESSAGE="You have unsaved changes. If you leave now, your changes will be lost.",t.SettingsScreen=function(){const e=s.useDispatch(),n=s.useSelector(m.selectSettingsAreDirty),a=s.useSelector(h.selectQueryParam("tab")),o=a?f.AdminSettings.find(e=>a===e.id):f.AdminSettings[0];return r.useEffect(()=>()=>n&&e(p.restoreSettings()),[n,e]),b.useUnload(t.LEAVE_MESSAGE,()=>n,[n]),r.default.createElement(r.default.Fragment,null,r.default.createElement(c.AdminScreen,{navbar:d.SettingsNavbar,className:u.default.root},o&&(_.Common.isPro||!o.isPro)&&r.default.createElement(o.component,null)))}},,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hideNews=t.closeNews=t.openNews=t.removeNewsMessage=t.addNewsMessage=t.NewsSlice=void 0;const l=n(15),i=n(409);t.NewsSlice=l.createSlice({name:"news",initialState:{messages:[],isOpen:!1,isHidden:!1},reducers:{addNewsMessage(e,t){e.messages.push(t.payload)},removeNewsMessage(e,t){e.messages=e.messages.filter(e=>e.id!==t.payload)},openNews(e){e.isOpen=!0},closeNews(e){e.isOpen=!1},hideNews(e){e.isHidden=!0}},extraReducers:e=>e.addCase(i.fetchNews.fulfilled,(e,t)=>{e.messages=t.payload})}),o(n(1013),t),t.addNewsMessage=t.NewsSlice.actions.addNewsMessage,t.removeNewsMessage=t.NewsSlice.actions.removeNewsMessage,t.openNews=t.NewsSlice.actions.openNews,t.closeNews=t.NewsSlice.actions.closeNews,t.hideNews=t.NewsSlice.actions.hideNews},function(e,t,n){},,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(22);t.default={save:e=>a.client.post(e.id?"/feeds/"+e.id:"/feeds",{feed:e}),delete:e=>a.client.post("/feeds/delete/"+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(22);t.default={update:e=>a.client.post("/accounts",e),delete:e=>a.client.post("/accounts/delete/"+e),connect:(e,t)=>{const n=t?{accessToken:e,userId:t}:{accessToken:e};return a.client.post("/connect",n)},getAccessToken:(e,t)=>a.client.get("/access_token/"+e,{params:{pass:t}}),customMedia:{get:e=>a.client.get(`/accounts/${e}/custom_media`),add:(e,t)=>a.client.post(`/accounts/${e}/custom_media`,t),update:(e,t,n)=>a.client.post(`/accounts/${e}/custom_media/${t}`,n),delete:(e,t)=>a.client.post(`/accounts/${e}/custom_media/${t}/delete`)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(22);t.default={deleteForAccount:e=>a.client.post("/account_media/delete/"+e),cleanUp:e=>a.client.post("/clean_up_media",{ageLimit:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(22);t.default={get:()=>a.client.get("/settings"),save:e=>a.client.post("/settings",{settings:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(22);t.default={get:()=>a.client.get("/notifications")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(22);t.default={clearAll:()=>a.client.post("/clear_cache"),clearForFeed:e=>a.client.post("/clear_cache/feed",{options:e.options})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(22);t.default={posts:{search:(e,t="")=>a.client.get(`/search_posts?search=${t}&type=${e}`)}}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeedsScreen=void 0;const r=l(n(0)),u=i(n(466)),s=n(219),c=n(61),d=n(471),f=n(319),m=i(n(324)),p=n(1),_=n(103),h=n(8),b=n(77),g=n(230),v=n(43),y=n(143),E=n(541),S=n(11);t.FeedsScreen=function(){const e=p.useDispatch(),t=p.useSelector(_.selectHasFeeds),n=r.useRef(),[a,o]=r.useState(!1);function l(t){const n={screen:c.SCREENS.NEW_FEED};t&&(n.template=t.id),e(v.gotoRoute(n))}return r.default.createElement(s.AdminScreen,{navbar:m.default,fillPage:!t},r.default.createElement("div",{className:u.default.root},t?r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:u.default.toolbar},r.default.createElement(h.Button,{ref:n,type:h.ButtonType.PRIMARY,size:h.ButtonSize.LARGE,onClick:function(){return o(!0)}},r.default.createElement(S.Dashicon,{icon:"plus-alt2"}),r.default.createElement("span",null,"Create a new feed")),"   ",r.default.createElement(E.FeedImportButton,{onImport:function(t){const n={id:null,name:t.name,options:t.options,usages:[]};e(y.saveFeed(n))}})),r.default.createElement(d.FeedsList,null)):r.default.createElement(f.FeedsOnboarding,{onSelectTemplate:l,showSteps:!0})),r.default.createElement(b.Modal,{title:"Select a template or design your own",isOpen:a,onClose:function(){var e;o(!1),null===(e=n.current)||void 0===e||e.focus()},width:1e3,portalTo:document.body},r.default.createElement(b.Modal.Content,null,r.default.createElement(g.FeedTemplatePicker,{onChange:l,showCustomOption:!0}))))}},function(e,t,n){e.exports={toolbar:"FeedsScreen__toolbar"}},function(e,t,n){e.exports={"admin-screen":"AdminScreen__admin-screen",adminScreen:"AdminScreen__admin-screen",navbar:"AdminScreen__navbar layout__z-high","fill-page":"AdminScreen__fill-page AdminScreen__admin-screen",fillPage:"AdminScreen__fill-page AdminScreen__admin-screen",notices:"AdminScreen__notices",content:"AdminScreen__content",notice:"AdminScreen__notice",reconnect:"AdminScreen__reconnect"}},,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isAccountTokenExpiring=void 0;const o=n(26),l=a(n(470)),i=a(n(220)),r=a(n(1096)),u={days:7};t.isAccountTokenExpiring=function(e){const t=r.default(new Date,u);return e.type===o.Account.Type.BUSINESS&&e.accessExpiry&&l.default(t,i.default(e.accessExpiry))}},,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeedsList=void 0;const u=l(n(0)),s=n(1),c=r(n(472)),d=n(103),f=n(136),m=n(11),p=n(178),_=n(8),h=r(n(313)),b=n(61),g=r(n(181)),v=n(139),y=n(315),E=n(316),S=r(n(224)),w=n(227),P=n(23),O=n(66),C=n(43),M=r(n(317)),N=n(27),A=n(22),k=n(60),T=n(42),F=n(141);function j(e){return JSON.stringify({name:e.name,options:e.options})}function L({feed:e,onClickAccount:t}){const n=s.useSelector(N.selectAccountList(e.options.accounts)),a=s.useSelector(N.selectAccountList(e.options.tagged));let o=[];return n.forEach(e=>{e&&o.push(u.default.createElement(I,{account:e,onClick:()=>t(e.id)}))}),a.forEach(e=>{e&&o.push(u.default.createElement(I,{account:e,onClick:()=>t(e.id),isTagged:!0}))}),e.options.hashtags.forEach(e=>o.push(u.default.createElement(D,{hashtag:e}))),0===o.length&&o.push(u.default.createElement("div",{className:c.default.noSourcesMsg},u.default.createElement(m.Dashicon,{icon:"warning"}),u.default.createElement("span",null,"Feed has no sources"))),u.default.createElement("div",{className:c.default.sourcesList},o.map((e,t)=>e&&u.default.createElement(R,{key:t},e)))}t.FeedsList=function(){const e=s.useDispatch(),t=s.useSelector(d.selectFeeds),[n,a]=u.useState(null),o=t=>i(this,void 0,void 0,(function*(){var n;const a=yield k.RestApi.media.import(t.options);(null===(n=null==a?void 0:a.data)||void 0===n?void 0:n.batching)?e(O.showToast({key:"admin/feeds/import/done",message:`Imported the first set of posts for "${t.name}". Older posts are being imported in the background.`})):e(O.showToast({key:"admin/feeds/import/done",message:`Finished importing posts for "${t.name}".`}))})),l=t=>i(this,void 0,void 0,(function*(){e(O.showToast({key:"admin/feeds/clear_cache/wait",message:`Clearing the cache for "${t.name}". This could take a while. Please wait ...`,type:O.ToastType.STICKY}));try{yield T.AdminRestApi.cache.clearForFeed(t),e(O.showToast({key:"admin/feeds/clear_cache/done",message:`Finished clearing the cache for "${t.name}."`}))}catch(e){F.triggerError({type:"feeds/clear_cache/error",message:A.getErrorResponseMessage(e)})}finally{e(O.removeToast("admin/feeds/clear_cache/wait"))}}));function r(){e(O.showToast({key:"admin/feeds/export",message:"Copied export code to clipboard!"}))}const g={cols:{name:c.default.nameCol,sources:c.default.sourcesCol,usages:c.default.usagesCol,actions:c.default.actionsCol},cells:{name:c.default.nameCell,sources:c.default.sourcesCell,usages:c.default.usagesCell,actions:c.default.actionsCell}};return u.default.createElement("div",{className:"feeds-list"},u.default.createElement(h.default,{styleMap:g,rows:t,cols:[{id:"name",label:"Name",render:e=>{var t,n;const a={screen:b.SCREENS.EDIT_FEED,id:e.id.toString()};return u.default.createElement("div",null,u.default.createElement(p.Link,{to:a,className:c.default.name},e.name?e.name:"(no name)"),u.default.createElement("div",{className:c.default.metaList},u.default.createElement("span",{className:c.default.id},"ID: ",e.id),u.default.createElement("span",{className:c.default.layout},null!==(n=null===(t=P.Responsive.extract(e.options.layout))||void 0===t?void 0:t.toUpperCase())&&void 0!==n?n:"GRID")))}},{id:"sources",label:"Shows posts from",render:e=>u.default.createElement(L,{feed:e,onClickAccount:a})},{id:"usages",label:"Instances",render:e=>u.default.createElement(x,{feed:e})},{id:"actions",label:"Actions",render:t=>u.default.createElement("div",{className:c.default.actionsList},u.default.createElement(v.StatefulMenu,null,({ref:e,openMenu:t})=>u.default.createElement(_.Button,{ref:e,className:c.default.actionsBtn,type:_.ButtonType.PILL,size:_.ButtonSize.NORMAL,onClick:t},u.default.createElement(y.Ellipsis,null)),u.default.createElement(v.MenuContent,null,u.default.createElement(v.MenuItem,{onClick:()=>(t=>{e(C.gotoRoute({screen:b.SCREENS.EDIT_FEED,id:t.id.toString()}))})(t)},u.default.createElement(m.Dashicon,{icon:"edit"}),"Edit feed"),u.default.createElement(v.MenuItem,{onClick:()=>(t=>{e(f.duplicateFeed(t))})(t)},u.default.createElement(m.Dashicon,{icon:"admin-page"}),"Duplicate feed"),u.default.createElement(v.MenuSeparator,null),u.default.createElement(E.CopyShortcode,{feed:t},u.default.createElement(v.MenuItem,null,u.default.createElement(m.Dashicon,{icon:"editor-code"}),"Copy shortcode")),u.default.createElement(M.default,{text:j(t),onCopy:r},u.default.createElement(v.MenuItem,null,u.default.createElement(m.Dashicon,{icon:"download"}),"Export feed")),u.default.createElement(v.MenuSeparator,null),u.default.createElement(v.MenuItem,{onClick:()=>o(t)},u.default.createElement(m.Dashicon,{icon:"image-rotate"}),"Update posts"),u.default.createElement(v.MenuItem,{onClick:()=>l(t)},u.default.createElement(m.Dashicon,{icon:"database-remove"}),"Clear cache"),u.default.createElement(v.MenuSeparator,null),u.default.createElement(v.MenuItem,{onClick:()=>(t=>{confirm("Are you sure you want to delete this feed? This cannot be undone.")&&e(f.deleteFeed(t))})(t),danger:!0},u.default.createElement(m.Dashicon,{icon:"trash"}),"Delete feed"))))}]}),u.default.createElement(S.default,{isOpen:null!==n,accountId:n,onClose:()=>a(null)}))};const x=({feed:e})=>u.default.createElement("div",{className:c.default.usagesList},e.usages.map((e,t)=>u.default.createElement("div",{key:t,className:c.default.usage},u.default.createElement("a",{className:c.default.usageLink,href:e.link,target:"_blank"},e.name),u.default.createElement("span",{className:c.default.usageType},"(",e.type,")"))));function I({account:e,isTagged:t,onClick:n}){return u.default.createElement("div",{className:c.default.accountSource,onClick:n,role:n?"button":void 0,tabIndex:0},t?u.default.createElement(m.Dashicon,{icon:"tag"}):u.default.createElement(g.default,{className:c.default.tinyAccountPic,account:e}),e.username)}function D({hashtag:e}){return u.default.createElement("a",{className:c.default.hashtagSource,href:w.getHashtagPageUrl(e.tag),target:"_blank"},u.default.createElement(m.Dashicon,{icon:"admin-site-alt3"}),u.default.createElement("span",null,"#",e.tag))}const R=({children:e})=>u.default.createElement("div",{className:c.default.source},e)},function(e,t,n){e.exports={"name-col":"FeedsList__name-col",nameCol:"FeedsList__name-col","sources-col":"FeedsList__sources-col",sourcesCol:"FeedsList__sources-col","actions-col":"FeedsList__actions-col",actionsCol:"FeedsList__actions-col","actions-cell":"FeedsList__actions-cell",actionsCell:"FeedsList__actions-cell",name:"FeedsList__name layout__text-overflow-ellipsis","meta-list":"FeedsList__meta-list",metaList:"FeedsList__meta-list","meta-info":"FeedsList__meta-info",metaInfo:"FeedsList__meta-info",id:"FeedsList__id FeedsList__meta-info",layout:"FeedsList__layout FeedsList__meta-info","sources-list":"FeedsList__sources-list layout__flex-row",sourcesList:"FeedsList__sources-list layout__flex-row",source:"FeedsList__source layout__text-overflow-ellipsis","account-source":"FeedsList__account-source",accountSource:"FeedsList__account-source","tiny-account-pic":"FeedsList__tiny-account-pic",tinyAccountPic:"FeedsList__tiny-account-pic","hashtag-source":"FeedsList__hashtag-source",hashtagSource:"FeedsList__hashtag-source","no-sources-msg":"FeedsList__no-sources-msg",noSourcesMsg:"FeedsList__no-sources-msg","usages-list":"FeedsList__usages-list layout__flex-column",usagesList:"FeedsList__usages-list layout__flex-column",usage:"FeedsList__usage layout__flex-row layout__text-overflow-ellipsis","usage-link":"FeedsList__usage-link layout__text-overflow-ellipsis",usageLink:"FeedsList__usage-link layout__text-overflow-ellipsis","usage-type":"FeedsList__usage-type",usageType:"FeedsList__usage-type","actions-list":"FeedsList__actions-list",actionsList:"FeedsList__actions-list","actions-btn":"FeedsList__actions-btn",actionsBtn:"FeedsList__actions-btn","sources-cell":"FeedsList__sources-cell",sourcesCell:"FeedsList__sources-cell","usages-cell":"FeedsList__usages-cell",usagesCell:"FeedsList__usages-cell","usages-col":"FeedsList__usages-col",usagesCol:"FeedsList__usages-col"}},function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.ToastType=void 0,(a=t.ToastType||(t.ToastType={})).NOTIFICATION="notification",a.STICKY="sticky",a.ERROR="error"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnload=t.useRouteInterceptor=void 0;const a=n(43),o=n(1),l=n(0),i=n(102);function r(e,t){l.useEffect(()=>a.addRouteInterceptor(e),t)}t.useRouteInterceptor=r,t.useUnload=function(e,t,n=[]){const a=o.useStore(),[u]=l.useState(()=>a.getState().router.query);r(l.useCallback((n,a)=>{if(!i.objectsEqual(n,u)&&t(n,a))return confirm(e)},[t,u,e]),n),l.useEffect(()=>{const n=n=>{if(t({},""))return(n||window.event).returnValue=e,e};return window.addEventListener("beforeunload",n),()=>window.removeEventListener("beforeunload",n)},n)}},function(e,t,n){e.exports={root:"Tooltip__root layout__z-highest",container:"Tooltip__container","container-top":"Tooltip__container-top Tooltip__container",containerTop:"Tooltip__container-top Tooltip__container","container-bottom":"Tooltip__container-bottom Tooltip__container",containerBottom:"Tooltip__container-bottom Tooltip__container","container-left":"Tooltip__container-left Tooltip__container",containerLeft:"Tooltip__container-left Tooltip__container","container-right":"Tooltip__container-right Tooltip__container",containerRight:"Tooltip__container-right Tooltip__container",content:"Tooltip__content",arrow:"Tooltip__arrow","arrow-top":"Tooltip__arrow-top Tooltip__arrow",arrowTop:"Tooltip__arrow-top Tooltip__arrow","arrow-bottom":"Tooltip__arrow-bottom Tooltip__arrow",arrowBottom:"Tooltip__arrow-bottom Tooltip__arrow","arrow-left":"Tooltip__arrow-left Tooltip__arrow",arrowLeft:"Tooltip__arrow-left Tooltip__arrow","arrow-right":"Tooltip__arrow-right Tooltip__arrow",arrowRight:"Tooltip__arrow-right Tooltip__arrow"}},,,function(e,t,n){e.exports={table:"Table__table theme__subtle-drop-shadow theme__slightly-rounded",header:"Table__header",footer:"Table__footer",cell:"Table__cell","col-heading":"Table__col-heading Table__cell",colHeading:"Table__col-heading Table__cell",row:"Table__row","align-left":"Table__align-left",alignLeft:"Table__align-left","align-right":"Table__align-right",alignRight:"Table__align-right","align-center":"Table__align-center",alignCenter:"Table__align-center"}},function(e,t,n){e.exports={root:"ProfilePic__root",round:"ProfilePic__round ProfilePic__root",square:"ProfilePic__square ProfilePic__root"}},function(e,t,n){},,,,function(e,t,n){e.exports={modal:"Modal__modal layout__z-higher",shade:"Modal__shade layout__fill-parent",container:"Modal__container",opening:"Modal__opening","modal-open-animation":"Modal__modal-open-animation",modalOpenAnimation:"Modal__modal-open-animation",closing:"Modal__closing","modal-close-animation":"Modal__modal-close-animation",modalCloseAnimation:"Modal__modal-close-animation",content:"Modal__content",header:"Modal__header",icon:"Modal__icon","close-btn":"Modal__close-btn",closeBtn:"Modal__close-btn",scroller:"Modal__scroller",footer:"Modal__footer","footer-left":"Modal__footer-left Modal__footer",footerLeft:"Modal__footer-left Modal__footer","footer-right":"Modal__footer-right Modal__footer",footerRight:"Modal__footer-right Modal__footer","footer-space-between":"Modal__footer-space-between Modal__footer",footerSpaceBetween:"Modal__footer-space-between Modal__footer"}},,function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(n(0)),i=o(n(487)),r=n(26),u=o(n(426)),s=o(n(220)),c=n(140),d=n(225),f=o(n(226)),m=n(8),p=n(35),_=o(n(181)),h=n(19),b=n(1),g=n(92),v=n(27),y=n(44),E=n(490),S=n(42);t.default=function({accountId:e,onUpdate:t}){const n=b.useDispatch(),o=b.useSelector(v.selectAccountById(e)),[w,P]=l.default.useState(!1),[O,C]=l.default.useState(""),[M,N]=l.default.useState(!1),A=o.type===r.Account.Type.PERSONAL,k=r.Account.getBioText(o),T=()=>a(this,void 0,void 0,(function*(){N(!0);const e=h.withPartial(o,{customBio:O});yield n(g.updateAccount(e)),P(!1),N(!1),t&&t()})),F=e=>a(this,void 0,void 0,(function*(){N(!0);const a=h.withPartial(o,{customProfilePicUrl:e});yield n(g.updateAccount(a)),N(!1),t&&t()}));return l.default.createElement("div",{className:i.default.root},l.default.createElement("div",{className:i.default.container},l.default.createElement("div",{className:i.default.infoColumn},l.default.createElement("a",{href:r.Account.getProfileUrl(o),target:"_blank",className:i.default.username},"@",o.username),l.default.createElement("div",{className:i.default.row},l.default.createElement("span",{className:i.default.label},"Spotlight ID:"),o.id),l.default.createElement("div",{className:i.default.row},l.default.createElement("span",{className:i.default.label},"User ID:"),o.userId),l.default.createElement("div",{className:i.default.row},l.default.createElement("span",{className:i.default.label},"Type:"),o.type),!w&&l.default.createElement("div",{className:i.default.row},l.default.createElement("div",null,l.default.createElement("span",{className:i.default.label},"Bio:"),l.default.createElement("a",{className:i.default.editBioLink,onClick:()=>{C(r.Account.getBioText(o)),P(!0)}},"Edit bio"),l.default.createElement("pre",{className:i.default.bio},k.length>0?k:"(No bio)"))),w&&l.default.createElement("div",{className:i.default.row},l.default.createElement("textarea",{className:i.default.bioEditor,value:O,onChange:e=>{C(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&e.ctrlKey&&(T(),e.preventDefault(),e.stopPropagation())},rows:4}),l.default.createElement("div",{className:i.default.bioFooter},l.default.createElement("div",{className:i.default.bioEditingControls},M&&l.default.createElement("span",null,"Please wait ...")),l.default.createElement("div",{className:i.default.bioEditingControls},l.default.createElement(m.Button,{className:i.default.bioEditingButton,type:m.ButtonType.DANGER,disabled:M,onClick:()=>a(this,void 0,void 0,(function*(){N(!0);const e=h.withPartial(o,{customBio:""});yield n(g.updateAccount(e)),P(!1),N(!1),t&&t()}))},"Reset"),l.default.createElement(m.Button,{className:i.default.bioEditingButton,type:m.ButtonType.SECONDARY,disabled:M,onClick:()=>{P(!1)}},"Cancel"),l.default.createElement(m.Button,{className:i.default.bioEditingButton,type:m.ButtonType.PRIMARY,disabled:M,onClick:T},"Save"))))),l.default.createElement("div",{className:i.default.picColumn},l.default.createElement("div",{className:i.default.centerContainer},l.default.createElement(_.default,{account:o,className:i.default.profilePic})),l.default.createElement(d.WpUploadMedia,{id:"account-custom-profile-pic",title:"Select profile picture",mediaType:"image",onSelect:e=>{const t=parseInt(e[0].attributes.id),n=f.default.media.attachment(t).attributes.url;F(n)}},({open:e})=>l.default.createElement(m.Button,{type:m.ButtonType.SECONDARY,size:m.ButtonSize.LARGE,className:i.default.setCustomPic,onClick:e},"Change profile picture")),o.customProfilePicUrl.length>0&&l.default.createElement("a",{className:i.default.resetCustomPic,onClick:()=>{F("")}},"Reset profile picture"))),A&&l.default.createElement("div",{className:i.default.personalInfoMessage},l.default.createElement(p.Message,{type:p.MessageType.INFO,showIcon:!0},"Due to restrictions set by Instagram, Spotlight cannot import the profile photo and bio"," ","text for Personal accounts."," ",l.default.createElement("a",{href:y.AdminResources.customPersonalInfoUrl,target:"_blank"},"Click here to learn more"),".")),l.default.createElement(c.Spoiler,{label:"View access token",stealth:!0},l.default.createElement(E.PasswordProtected,{buttonLabel:"View access token",promptText:l.default.createElement("span",null,"Enter your WordPress password to view the access token."," ",l.default.createElement("a",{href:y.AdminResources.tokenPasswordDoc,target:"_blank"},"Learn more.")),request:e=>S.AdminRestApi.accounts.getAccessToken(o.id,e),children:e=>l.default.createElement("div",null,l.default.createElement("p",null,l.default.createElement("span",{className:i.default.label},"Expires on:"),l.default.createElement("span",null,o.accessExpiry?u.default(s.default(o.accessExpiry),"PPPP"):"Unknown")),l.default.createElement("pre",{className:i.default.accessToken},e.data.accessToken))})))}},function(e,t,n){e.exports={root:"AccountInfo__root",container:"AccountInfo__container",column:"AccountInfo__column","info-column":"AccountInfo__info-column AccountInfo__column",infoColumn:"AccountInfo__info-column AccountInfo__column","pic-column":"AccountInfo__pic-column AccountInfo__column",picColumn:"AccountInfo__pic-column AccountInfo__column","center-container":"AccountInfo__center-container",centerContainer:"AccountInfo__center-container",id:"AccountInfo__id",username:"AccountInfo__username","profile-pic":"AccountInfo__profile-pic",profilePic:"AccountInfo__profile-pic",label:"AccountInfo__label",row:"AccountInfo__row",pre:"AccountInfo__pre",bio:"AccountInfo__bio AccountInfo__pre","link-button":"AccountInfo__link-button",linkButton:"AccountInfo__link-button","edit-bio-link":"AccountInfo__edit-bio-link AccountInfo__link-button",editBioLink:"AccountInfo__edit-bio-link AccountInfo__link-button","bio-editor":"AccountInfo__bio-editor",bioEditor:"AccountInfo__bio-editor","bio-footer":"AccountInfo__bio-footer",bioFooter:"AccountInfo__bio-footer","bio-editing-controls":"AccountInfo__bio-editing-controls",bioEditingControls:"AccountInfo__bio-editing-controls","access-token":"AccountInfo__access-token AccountInfo__pre",accessToken:"AccountInfo__access-token AccountInfo__pre","set-custom-pic":"AccountInfo__set-custom-pic",setCustomPic:"AccountInfo__set-custom-pic","reset-custom-pic":"AccountInfo__reset-custom-pic AccountInfo__link-button",resetCustomPic:"AccountInfo__reset-custom-pic AccountInfo__link-button",subtext:"AccountInfo__subtext","personal-info-message":"AccountInfo__personal-info-message",personalInfoMessage:"AccountInfo__personal-info-message"}},function(e,t,n){},function(e,t,n){e.exports={message:"Message__message",shaking:"Message__shaking","shake-animation":"Message__shake-animation",shakeAnimation:"Message__shake-animation",icon:"Message__icon",content:"Message__content","dismiss-btn":"Message__dismiss-btn",dismissBtn:"Message__dismiss-btn",success:"Message__success Message__message",info:"Message__info Message__message",warning:"Message__warning Message__message","pro-tip":"Message__pro-tip Message__message",proTip:"Message__pro-tip Message__message",error:"Message__error Message__message",grey:"Message__grey Message__message"}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordProtected=void 0;const u=r(n(491)),s=l(n(0)),c=n(8),d=n(35);function f({children:e,response:t}){return e(t)}t.PasswordProtected=function({request:e,children:t,buttonLabel:n="Submit",promptText:a="You need to enter your WordPress password to view this content:"}){var o,l;const[r,m]=s.useState(""),[p,_]=s.useState(!1),[h,b]=s.useState(null),g=()=>i(this,void 0,void 0,(function*(){let t;_(!0);try{t=yield e(r)}catch(e){t=e.response}b(t),_(!1)})),v=null!==h,y=v&&200!==h.status,E=null!==(l=null===(o=null==h?void 0:h.data)||void 0===o?void 0:o.message)&&void 0!==l?l:"An unknown error occurred.";return v&&!y&&h?s.default.createElement(f,{children:t,response:h}):s.default.createElement("div",{className:u.default.root},s.default.createElement("label",{htmlFor:"sli-password-field"},a),s.default.createElement("div",{className:u.default.passwordForm},s.default.createElement("input",{id:"access-token-password-field",className:u.default.passwordField,type:"password",value:r,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(g(),e.preventDefault(),e.stopPropagation())},autoComplete:"current-password",disabled:p}),s.default.createElement(c.Button,{className:u.default.passwordBtn,type:c.ButtonType.PRIMARY,size:c.ButtonSize.LARGE,onClick:g,disabled:p},n)),y&&s.default.createElement("div",{className:u.default.error},s.default.createElement(d.Message,{type:d.MessageType.ERROR,showIcon:!0,shake:!0},E)))}},function(e,t,n){e.exports={root:"PasswordProtected__root","password-form":"PasswordProtected__password-form",passwordForm:"PasswordProtected__password-form","password-field":"PasswordProtected__password-field",passwordField:"PasswordProtected__password-field","password-btn":"PasswordProtected__password-btn",passwordBtn:"PasswordProtected__password-btn",error:"PasswordProtected__error"}},,,,,,,function(e,t,n){e.exports={root:"FeedsOnboarding__root","root-transitioning":"FeedsOnboarding__root-transitioning FeedsOnboarding__root",rootTransitioning:"FeedsOnboarding__root-transitioning FeedsOnboarding__root",transition:"FeedsOnboarding__transition",left:"FeedsOnboarding__left",right:"FeedsOnboarding__right","scroll-padding":"FeedsOnboarding__scroll-padding",scrollPadding:"FeedsOnboarding__scroll-padding","bf-slider":"FeedsOnboarding__bf-slider",bfSlider:"FeedsOnboarding__bf-slider","bf-heading":"FeedsOnboarding__bf-heading",bfHeading:"FeedsOnboarding__bf-heading","bf-stealth-link":"FeedsOnboarding__bf-stealth-link",bfStealthLink:"FeedsOnboarding__bf-stealth-link","bf-button":"FeedsOnboarding__bf-button",bfButton:"FeedsOnboarding__bf-button","bf-slider-item":"FeedsOnboarding__bf-slider-item",bfSliderItem:"FeedsOnboarding__bf-slider-item"}},function(e,t,n){},function(e,t,n){e.exports={root:"FeedTemplatePicker__root",tile:"FeedTemplatePicker__tile",button:"FeedTemplatePicker__button",template:"FeedTemplatePicker__template FeedTemplatePicker__button","template-pro":"FeedTemplatePicker__template-pro FeedTemplatePicker__template FeedTemplatePicker__button",templatePro:"FeedTemplatePicker__template-pro FeedTemplatePicker__template FeedTemplatePicker__button","template-label":"FeedTemplatePicker__template-label",templateLabel:"FeedTemplatePicker__template-label","template-thumbnail":"FeedTemplatePicker__template-thumbnail",templateThumbnail:"FeedTemplatePicker__template-thumbnail","template-name":"FeedTemplatePicker__template-name",templateName:"FeedTemplatePicker__template-name","current-indicator":"FeedTemplatePicker__current-indicator",currentIndicator:"FeedTemplatePicker__current-indicator","pro-pill":"FeedTemplatePicker__pro-pill",proPill:"FeedTemplatePicker__pro-pill","pro-overlay":"FeedTemplatePicker__pro-overlay",proOverlay:"FeedTemplatePicker__pro-overlay","upgrade-button":"FeedTemplatePicker__upgrade-button",upgradeButton:"FeedTemplatePicker__upgrade-button","custom-template":"FeedTemplatePicker__custom-template FeedTemplatePicker__button",customTemplate:"FeedTemplatePicker__custom-template FeedTemplatePicker__button","custom-template-icon":"FeedTemplatePicker__custom-template-icon",customTemplateIcon:"FeedTemplatePicker__custom-template-icon","custom-template-text":"FeedTemplatePicker__custom-template-text",customTemplateText:"FeedTemplatePicker__custom-template-text"}},,,function(e,t,n){e.exports={pill:"ProPill__pill"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={root:"Navbar__root layout__flex-row",container:"Navbar__container layout__flex-row","left-container":"Navbar__left-container Navbar__container layout__flex-row",leftContainer:"Navbar__left-container Navbar__container layout__flex-row","right-container":"Navbar__right-container Navbar__container layout__flex-row",rightContainer:"Navbar__right-container Navbar__container layout__flex-row",child:"Navbar__child",section:"Navbar__section Navbar__child",item:"Navbar__item Navbar__child",disabled:"Navbar__disabled",chevron:"Navbar__chevron Navbar__child",link:"Navbar__link","pro-pill":"Navbar__pro-pill",proPill:"Navbar__pro-pill",current:"Navbar__current","button-container":"Navbar__button-container layout__flex-row",buttonContainer:"Navbar__button-container layout__flex-row"}},function(e,t,n){e.exports={logo:"SpotlightLogo__logo","logo-image":"SpotlightLogo__logo-image",logoImage:"SpotlightLogo__logo-image"}},function(e,t,n){e.exports={root:"ProUpgradeBtn__root",red:"ProUpgradeBtn__red ProUpgradeBtn__root"}},,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeedImportButton=void 0;const r=l(n(0)),u=i(n(542)),s=n(8),c=n(11),d=n(77),f=i(n(332)),m=n(135);t.FeedImportButton=function({onImport:e}){const t=r.useRef(),n=r.useRef(),[a,o]=r.useState(!1),[l,i]=r.useState(""),p=r.useCallback(()=>{i(""),o(!0)},[n,o]),_=r.useCallback(()=>{var e;o(!1),null===(e=t.current)||void 0===e||e.focus()},[t,o]),h=r.useCallback(e=>{i(e.target.value)},[i]),b=r.useCallback(()=>{let t;try{t=JSON.parse(l)}catch(e){t=null}m.isPlainObject(t)&&(null==t?void 0:t.hasOwnProperty("name"))&&(null==t?void 0:t.hasOwnProperty("options"))?(e(t),_()):alert("The imported code is not valid")},[l,e,_]);return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Button,{ref:t,type:s.ButtonType.SECONDARY,size:s.ButtonSize.LARGE,onClick:p},r.default.createElement(c.Dashicon,{icon:"upload"}),r.default.createElement("span",null,"Import a feed")),r.default.createElement(d.Modal,{isOpen:a,onClose:_,title:"Import feed"},r.default.createElement(d.Modal.Content,null,r.default.createElement("p",{className:u.default.message},"Paste your exported feed code:"),r.default.createElement("textarea",{ref:n,className:u.default.field,value:l,onChange:h,autoFocus:!0,rows:4})),r.default.createElement(d.Modal.Footer,null,r.default.createElement(s.Button,{className:f.default.button,type:s.ButtonType.SECONDARY,onClick:_,children:"Cancel"}),r.default.createElement(s.Button,{className:f.default.button,type:s.ButtonType.PRIMARY,onClick:b,children:"Import"}))))}},function(e,t,n){e.exports={message:"FeedImportButton__message",field:"FeedImportButton__field"}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NewFeedScreen=void 0;const i=l(n(0)),r=n(333),u=n(9),s=n(282),c=n(1),d=n(55),f=n(185),m=n(232);t.NewFeedScreen=function(){const e=c.useDispatch(),t=c.useSelector(d.selectQueryParam("template")),n=c.useSelector(m.selectTemplateById(t)),a=n?f.applyFeedTemplateModel(n,u.DefaultFeedOptions):u.DefaultFeedOptions;return i.useEffect(()=>{e(s.setIsEditingNewFeed(!0))},[]),i.default.createElement(r.AdminEditor,{feed:{id:null,name:"",options:a,usages:[]}})}},,,,,,,,,function(e,t,n){e.exports={root:"ConnectAccountButton__root"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=a(n(243)),i=n(77);t.default=function({isOpen:e,onClose:t,onConnect:n,beforeConnect:a}){return o.default.createElement(i.Modal,{title:"Connect an Instagram account",isOpen:e,width:650,onClose:t},o.default.createElement(i.Modal.Content,null,o.default.createElement(l.default,{onConnect:n,beforeConnect:e=>{a&&a(e),t()}})))}},function(e,t,n){e.exports={base:"ConnectAccount__base",horizontal:"ConnectAccount__horizontal ConnectAccount__base","prompt-msg":"ConnectAccount__prompt-msg",promptMsg:"ConnectAccount__prompt-msg",types:"ConnectAccount__types",vertical:"ConnectAccount__vertical ConnectAccount__base","or-separator":"ConnectAccount__or-separator",orSeparator:"ConnectAccount__or-separator",type:"ConnectAccount__type",capabilities:"ConnectAccount__capabilities",capability:"ConnectAccount__capability","business-learn-more":"ConnectAccount__business-learn-more",businessLearnMore:"ConnectAccount__business-learn-more","connect-access-token":"ConnectAccount__connect-access-token",connectAccessToken:"ConnectAccount__connect-access-token","or-line":"ConnectAccount__or-line",orLine:"ConnectAccount__or-line","or-text":"ConnectAccount__or-text",orText:"ConnectAccount__or-text","types-rows":"ConnectAccount__types-rows",typesRows:"ConnectAccount__types-rows"}},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(n(0)),i=o(n(556)),r=n(8),u=n(35),s=n(44),c=/^(User ID: ([0-9]+)\s*)?Access Token: ([a-zA-Z0-9]+)$/im;t.default=function({isColumn:e,onConnectPersonal:t,onConnectBusiness:n}){const o=l.default.useRef(!1),[d,f]=l.default.useState(!1),[m,p]=l.default.useState(""),[_,h]=l.default.useState(""),b=m.length>145&&m.trimLeft().startsWith("EA"),g=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),v())},v=l.default.useCallback(()=>a(this,void 0,void 0,(function*(){f(!0),b?yield n(m,_):yield t(m),f(!1)})),[m,_,b]),y=l.default.createElement("div",{className:i.default.buttonContainer},l.default.createElement(r.Button,{className:i.default.button,onClick:v,type:r.ButtonType.PRIMARY,disabled:0===m.length&&(0===_.length||!b)||d},d?"Connecting ...":"Connect"));return l.default.createElement("div",{className:e?i.default.column:i.default.row},l.default.createElement("div",{className:i.default.content},l.default.createElement("div",{className:i.default.bottom},l.default.createElement("input",{id:"manual-connect-access-token",type:"password",value:m,onChange:e=>{const t=e.target.value;if(o.current){o.current=!1;const e=c.exec(t);if(e)switch(e.length){case 2:return void p(e[1]);case 4:return h(e[2]),void p(e[3])}}p(t)},onPaste:e=>{o.current=!0,e.persist()},onKeyDown:g,placeholder:"Instagram/Facebook access token",autoComplete:"no"}),!b&&y)),b&&l.default.createElement("div",{className:i.default.content},l.default.createElement("label",{className:i.default.label,htmlFor:"manual-connect-user-id"},l.default.createElement("div",null,"This access token is for a ",l.default.createElement("strong",null,"Business")," account."," ","Please also enter the user ID:")),l.default.createElement("div",{className:i.default.bottom},l.default.createElement("input",{id:"manual-connect-user-id",type:"text",value:_,onChange:e=>{h(e.target.value)},onKeyDown:g,placeholder:"Enter the user ID"}),b&&y)),l.default.createElement(u.Message,{type:u.MessageType.GREY,showIcon:!0},"Connecting a client's account? Avoid sharing Instagram passwords and use our"," ",l.default.createElement("a",{href:s.AdminResources.tokenGenerator,target:"_blank"},"access token generator"),"."))}},function(e,t,n){e.exports={root:"ConnectAccessToken__root",row:"ConnectAccessToken__row ConnectAccessToken__root",content:"ConnectAccessToken__content",label:"ConnectAccessToken__label",bottom:"ConnectAccessToken__bottom","button-container":"ConnectAccessToken__button-container",buttonContainer:"ConnectAccessToken__button-container",button:"ConnectAccessToken__button","help-message":"ConnectAccessToken__help-message",helpMessage:"ConnectAccessToken__help-message",column:"ConnectAccessToken__column ConnectAccessToken__root"}},,,function(e,t,n){e.exports={root:"AccountSelector__root",row:"AccountSelector__row",account:"AccountSelector__account button__toggle-button button__panel-button theme__panel","account-selected":"AccountSelector__account-selected AccountSelector__account button__toggle-button button__panel-button theme__panel button__toggle-button-on button__toggle-button button__panel-button theme__panel",accountSelected:"AccountSelector__account-selected AccountSelector__account button__toggle-button button__panel-button theme__panel button__toggle-button-on button__toggle-button button__panel-button theme__panel","account-disabled":"AccountSelector__account-disabled AccountSelector__account button__toggle-button button__panel-button theme__panel theme__disabled",accountDisabled:"AccountSelector__account-disabled AccountSelector__account button__toggle-button button__panel-button theme__panel theme__disabled","account-selected-disabled":"AccountSelector__account-selected-disabled AccountSelector__account-selected AccountSelector__account button__toggle-button button__panel-button theme__panel button__toggle-button-on button__toggle-button button__panel-button theme__panel theme__disabled",accountSelectedDisabled:"AccountSelector__account-selected-disabled AccountSelector__account-selected AccountSelector__account button__toggle-button button__panel-button theme__panel button__toggle-button-on button__toggle-button button__panel-button theme__panel theme__disabled","profile-pic":"AccountSelector__profile-pic",profilePic:"AccountSelector__profile-pic","info-column":"AccountSelector__info-column",infoColumn:"AccountSelector__info-column","info-text":"AccountSelector__info-text",infoText:"AccountSelector__info-text",username:"AccountSelector__username AccountSelector__info-text","account-type":"AccountSelector__account-type AccountSelector__info-text",accountType:"AccountSelector__account-type AccountSelector__info-text","tick-icon":"AccountSelector__tick-icon",tickIcon:"AccountSelector__tick-icon"}},function(e,t,n){e.exports={container:"FieldRow__container","container-wide":"FieldRow__container-wide FieldRow__container",containerWide:"FieldRow__container-wide FieldRow__container",content:"FieldRow__content",label:"FieldRow__label",disabled:"FieldRow__disabled FieldRow__container","pro-pill":"FieldRow__pro-pill",proPill:"FieldRow__pro-pill","disabled-wide":"FieldRow__disabled-wide FieldRow__container-wide FieldRow__container FieldRow__disabled FieldRow__container",disabledWide:"FieldRow__disabled-wide FieldRow__container-wide FieldRow__container FieldRow__disabled FieldRow__container","label-normal":"FieldRow__label-normal FieldRow__label",labelNormal:"FieldRow__label-normal FieldRow__label","label-centered":"FieldRow__label-centered FieldRow__label",labelCentered:"FieldRow__label-centered FieldRow__label",field:"FieldRow__field","field-normal":"FieldRow__field-normal FieldRow__field",fieldNormal:"FieldRow__field-normal FieldRow__field","field-centered":"FieldRow__field-centered FieldRow__field",fieldCentered:"FieldRow__field-centered FieldRow__field","responsive-container":"FieldRow__responsive-container",responsiveContainer:"FieldRow__responsive-container","responsive-field":"FieldRow__responsive-field FieldRow__field",responsiveField:"FieldRow__responsive-field FieldRow__field","label-aligner":"FieldRow__label-aligner",labelAligner:"FieldRow__label-aligner"}},function(e,t,n){e.exports={root:"HelpTooltip__root",tooltip:"HelpTooltip__tooltip layout__z-high","tooltip-container":"HelpTooltip__tooltip-container",tooltipContainer:"HelpTooltip__tooltip-container","tooltip-content":"HelpTooltip__tooltip-content",tooltipContent:"HelpTooltip__tooltip-content",icon:"HelpTooltip__icon"}},,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessAccountSelector=void 0;const o=a(n(0)),l=n(1),i=n(244),r=n(35),u=n(27);t.BusinessAccountSelector=function(e){const t=l.useSelector(u.selectBusinessAccounts);return t.length>0?o.default.createElement(i.AccountSelector,Object.assign({accounts:t},e)):o.default.createElement(r.Message,{type:r.MessageType.WARNING},"Connect a business account to use this feature.")}},,,,,,,,,,,,,,function(e,t,n){e.exports={primaryColor:"#007cba",secondaryColor:"#d04186",tertiaryColor:"#d82442",lightColor:"#f5f5f5",lightColor2:"#e6e7e8",lightColor3:"#e1e2e3",shadowColor:"rgba(20,25,60,.32)",washedColor:"#eaf0f4"}},,,,function(e,t,n){"use strict";var a=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnitInput=void 0;const l=o(n(0)),i=o(n(584));t.UnitInput=function(e){var{className:t,unit:n}=e,o=a(e,["className","unit"]);return l.default.createElement("div",{className:i.default.root},l.default.createElement("input",Object.assign({},o,{className:`${i.default.field} ${null!=t?t:""}`})),l.default.createElement("div",{className:i.default.unit},l.default.createElement("span",null,n)))}},function(e,t,n){e.exports={root:"UnitInput__root",field:"UnitInput__field",unit:"UnitInput__unit"}},,,,,,,,,,function(e,t,n){e.exports={"checkbox-field":"CheckboxField__checkbox-field",checkboxField:"CheckboxField__checkbox-field",aligner:"CheckboxField__aligner"}},,,,function(e,t,n){e.exports={button:"ColorPicker__button","color-preview":"ColorPicker__color-preview",colorPreview:"ColorPicker__color-preview",popper:"ColorPicker__popper"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={root:"FieldSet__root"}},,,,,,,,,,,,,function(e,t,n){e.exports={"checkbox-list":"CheckboxListField__checkbox-list",checkboxList:"CheckboxListField__checkbox-list",option:"CheckboxListField__option","disabled-option":"CheckboxListField__disabled-option CheckboxListField__option theme__disabled",disabledOption:"CheckboxListField__disabled-option CheckboxListField__option theme__disabled","pro-pill":"CheckboxListField__pro-pill",proPill:"CheckboxListField__pro-pill"}},,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TextAreaField=void 0;const o=a(n(0));t.TextAreaField=function({id:e,value:t,onChange:n}){return o.default.createElement("textarea",{id:e,value:t,onChange:e=>n(e.target.value)})}},,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroup=void 0;const o=a(n(0));n(312);const l=n(12);t.ButtonGroup=({wide:e,children:t})=>o.default.createElement("div",{className:l.classList("button-group",e&&"button-group-wide")},t)},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BorderDesignFields=void 0;const r=l(n(0)),u=i(n(841)),s=n(32),c=n(240),d=n(38),f=n(62),m=n(19),p=n(145);t.BorderDesignFields=function({design:e,onChange:t,labels:n,show:a}){const[o,l]=r.useState(c.BorderDesign.DEFAULT);return e=null!=e?e:o,t=null!=t?t:l,r.default.createElement("div",{className:u.default.root},(a.width||a.style||a.color)&&r.default.createElement(p.FieldRow,{label:n&&"Border"},a.width&&r.default.createElement("div",{className:u.default.width},r.default.createElement(s.NumberField,{value:e.width,onChange:n=>{t(m.withPartial(e,{width:n}))},placeholder:"Thickness",min:0,unit:"px"})),a.style&&r.default.createElement("div",{className:u.default.style},r.default.createElement(d.Select,{value:e.style,onChange:n=>{t(m.withPartial(e,{style:n}))},options:[{value:"solid",label:"Solid line"},{value:"dotted",label:"Dotted line"},{value:"dashed",label:"Dashed line"},{value:"double",label:"Double line"},{value:"groove",label:"Grooved"}]})),a.color&&r.default.createElement("div",{className:u.default.color},r.default.createElement(f.ColorPicker,{value:e.color,onChange:n=>{t(m.withPartial(e,{color:n.rgb}))}}))),a.radius&&r.default.createElement(p.FieldRow,{label:n&&"Border Radius"},r.default.createElement(s.NumberField,{value:e.radius,onChange:n=>{const a=parseInt(n.toString());t(m.withPartial(e,{radius:a||0}))},min:0,unit:"px"})))}},function(e,t,n){e.exports={root:"BorderDesignFields__root",row:"BorderDesignFields__row",label:"BorderDesignFields__label",style:"BorderDesignFields__style",width:"BorderDesignFields__width",color:"BorderDesignFields__color"}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiTextInput=void 0;const r=l(n(0)),u=i(n(343)),s=n(35),c=n(38),d={DropdownIndicator:null},f=e=>({label:e,value:e});t.MultiTextInput=function({id:e,value:t,onChange:n,sanitize:a,autoFocus:o,message:l}){const[i,m]=r.default.useState(""),[p,_]=r.default.useState(-1),[h,b]=r.default.useState();r.useEffect(()=>{b(l)},[l]);const g=(t=Array.isArray(t)?t:[]).map(e=>f(e)),v=()=>{i.length&&(m(""),y([...g,f(i)]))},y=e=>{if(!n)return;let t=-1;e=e?e.map(e=>e&&a?a(e.value):e.value).filter((e,n,a)=>{const o=a.indexOf(e);return o!==n?(t=o,!1):!!e}):[],_(t),-1===t&&n(e)},E=c.SelectStyles();return r.default.createElement(r.default.Fragment,null,r.default.createElement(u.default,{inputId:e,className:"react-select",classNamePrefix:"react-select",components:d,inputValue:i,isClearable:!1,isMulti:!0,menuIsOpen:!1,onChange:y,onInputChange:e=>{m(e)},onKeyDown:e=>{if(i)switch(e.key){case",":case"Enter":case"Tab":v(),e.preventDefault()}},onBlur:v,placeholder:"Type something and press enter...",value:g,autoFocus:o,styles:E}),p<0||0===g.length?null:r.default.createElement(s.Message,{type:s.MessageType.WARNING,shake:!0,showIcon:!0,isDismissible:!0},r.default.createElement("code",null,g[p].label)," is already in the list"),h?r.default.createElement(s.Message,{type:s.MessageType.WARNING,shake:!0,showIcon:!0,isDismissible:!0},h):null)}},,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalFiltersModal=void 0;const o=a(n(0)),l=n(77),i=n(202),r=n(1),u=n(33),s=n(126),c=n(396);t.GlobalFiltersModal=function({isOpen:e,onClose:t,onSave:n}){const a=r.useDispatch(),d=r.useSelector(u.selectSettingsAreDirty),f=r.useSelector(u.selectSettingsAreSaving);return o.default.createElement(l.Modal,{title:"Global filters",isOpen:e,onClose:()=>{d&&!confirm("You have unsaved changes. If you close the window now, your settings will not be saved. Click OK to close anyway.")||t()}},o.default.createElement(l.Modal.Content,null,o.default.createElement(c.SettingsFiltersTab,null)),o.default.createElement(l.Modal.Footer,null,o.default.createElement(i.SaveButton,{disabled:!d,isSaving:f,onClick:()=>{a(s.saveSettings()).then(()=>{n&&n()})}})))}},function(e,t,n){e.exports={root:"SaveButton__root","saving-overlay":"SaveButton__saving-overlay layout__fill-parent",savingOverlay:"SaveButton__saving-overlay layout__fill-parent","saving-animation":"SaveButton__saving-animation",savingAnimation:"SaveButton__saving-animation"}},function(e,t,n){e.exports={root:"SettingsPage__root layout__flex-column","after-groups":"SettingsPage__after-groups",afterGroups:"SettingsPage__after-groups","before-groups":"SettingsPage__before-groups",beforeGroups:"SettingsPage__before-groups","group-list":"SettingsPage__group-list layout__flex-column",groupList:"SettingsPage__group-list layout__flex-column"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCaptionFiltersGroup=void 0;const o=a(n(0)),l=n(150),i=n(874),r=n(877);t.SettingsCaptionFiltersGroup=function(){return o.default.createElement(l.SettingsGroup,{title:"Caption filtering"},o.default.createElement(i.CaptionWhitelistField,null),o.default.createElement(r.CaptionBlacklistField,null))}},function(e,t,n){e.exports={root:"SettingsGroup__root layout__flex-column",title:"SettingsGroup__title","before-fields":"SettingsGroup__before-fields",beforeFields:"SettingsGroup__before-fields","after-fields":"SettingsGroup__after-fields",afterFields:"SettingsGroup__after-fields","field-list":"SettingsGroup__field-list layout__flex-column",fieldList:"SettingsGroup__field-list layout__flex-column"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CaptionWhitelistField=void 0;const o=a(n(0)),l=n(1),i=n(89),r=n(149),u=n(33),s=n(50);t.CaptionWhitelistField=function(){const e=l.useDispatch(),t=l.useSelector(u.selectSetting("captionWhitelist")),n=l.useSelector(u.selectSetting("captionBlacklist"));return o.default.createElement(i.SettingsField,{id:"captionWhitelist",label:"Only show posts with these words or phrases",fullWidth:!0},o.default.createElement(r.LimitedMultiTextInput,{id:"captionWhitelist",value:t,onChange:t=>e(s.updateSettings({captionWhitelist:t})),exclude:n,excludeMsg:"%s is already being used in the below option"}))}},function(e,t,n){e.exports={root:"SettingsField__root layout__flex-column",label:"SettingsField__label layout__flex-column",container:"SettingsField__container layout__flex-row",control:"SettingsField__control layout__flex-column","control-partial-width":"SettingsField__control-partial-width SettingsField__control layout__flex-column",controlPartialWidth:"SettingsField__control-partial-width SettingsField__control layout__flex-column","control-full-width":"SettingsField__control-full-width SettingsField__control layout__flex-column",controlFullWidth:"SettingsField__control-full-width SettingsField__control layout__flex-column",tooltip:"SettingsField__tooltip layout__flex-column"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CaptionBlacklistField=void 0;const o=a(n(0)),l=n(1),i=n(89),r=n(149),u=n(33),s=n(50);t.CaptionBlacklistField=function(){const e=l.useDispatch(),t=l.useSelector(u.selectSetting("captionBlacklist")),n=l.useSelector(u.selectSetting("captionWhitelist"));return o.default.createElement(i.SettingsField,{id:"captionBlacklist",label:"Hide posts with these words or phrases",fullWidth:!0},o.default.createElement(r.LimitedMultiTextInput,{id:"captionBlacklist",value:t,onChange:t=>e(s.updateSettings({captionBlacklist:t})),exclude:n,excludeMsg:"%s is already being used in the above option"}))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsHashtagFiltersGroup=void 0;const o=a(n(0)),l=n(150),i=n(879),r=n(881);t.SettingsHashtagFiltersGroup=function(){return o.default.createElement(l.SettingsGroup,{title:"Hashtag filtering"},o.default.createElement(i.HashtagWhitelistField,null),o.default.createElement(r.HashtagBlacklistField,null))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HashtagWhitelistField=void 0;const o=a(n(0)),l=n(1),i=n(89),r=n(33),u=n(50),s=n(203);t.HashtagWhitelistField=function(){const e=l.useDispatch(),t=l.useSelector(r.selectSetting("hashtagWhitelist")),n=l.useSelector(r.selectSetting("hashtagBlacklist"));return o.default.createElement(i.SettingsField,{id:"hashtagWhitelist",label:"Only show posts with these words or phrases",fullWidth:!0},o.default.createElement(s.MultiHashtagInput,{id:"hashtagWhitelist",value:t,onChange:t=>e(u.updateSettings({hashtagWhitelist:t})),exclude:n,excludeMsg:"The %s hashtag is already being used in the below option"}))}},,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HashtagBlacklistField=void 0;const o=a(n(0)),l=n(1),i=n(89),r=n(149),u=n(33),s=n(50);t.HashtagBlacklistField=function(){const e=l.useDispatch(),t=l.useSelector(u.selectSetting("hashtagBlacklist")),n=l.useSelector(u.selectSetting("hashtagWhitelist"));return o.default.createElement(i.SettingsField,{id:"hashtagBlacklist",label:"Hide posts with these words or phrases",fullWidth:!0},o.default.createElement(r.LimitedMultiTextInput,{id:"hashtagBlacklist",value:t,onChange:t=>e(s.updateSettings({hashtagBlacklist:t})),exclude:n,excludeMsg:"The %s hashtag is already being used in the above option"}))}},,,,,,function(e,t,n){e.exports={layout:"SidebarLayout__layout","layout-primary-content":"SidebarLayout__layout-primary-content SidebarLayout__layout",layoutPrimaryContent:"SidebarLayout__layout-primary-content SidebarLayout__layout","layout-primary-sidebar":"SidebarLayout__layout-primary-sidebar SidebarLayout__layout",layoutPrimarySidebar:"SidebarLayout__layout-primary-sidebar SidebarLayout__layout",container:"SidebarLayout__container",content:"SidebarLayout__content SidebarLayout__container",sidebar:"SidebarLayout__sidebar SidebarLayout__container",navigation:"SidebarLayout__navigation","navigation-left":"SidebarLayout__navigation-left SidebarLayout__navigation",navigationLeft:"SidebarLayout__navigation-left SidebarLayout__navigation","navigation-right":"SidebarLayout__navigation-right SidebarLayout__navigation",navigationRight:"SidebarLayout__navigation-right SidebarLayout__navigation","nav-link":"SidebarLayout__nav-link",navLink:"SidebarLayout__nav-link"}},,,function(e,t,n){e.exports={content:"Sidebar__content",sidebar:"Sidebar__sidebar",padded:"Sidebar__padded","padded-content":"Sidebar__padded-content Sidebar__content Sidebar__padded",paddedContent:"Sidebar__padded-content Sidebar__content Sidebar__padded",disabled:"Sidebar__disabled Sidebar__sidebar"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RadioGroup=void 0;const o=a(n(0)),l=a(n(892));t.RadioGroup=function({name:e,className:t,disabled:n,value:a,onChange:i,options:r}){const u=e=>{!n&&e.target.checked&&i&&i(e.target.value)};return t=(n?l.default.disabled:l.default.radioGroup)+" "+(null!=t?t:""),o.default.createElement("div",{className:t},r.map((t,n)=>o.default.createElement("label",{className:l.default.option,key:n},o.default.createElement("input",{type:"radio",name:e,value:t.value,checked:a===t.value,onChange:u}),o.default.createElement("span",null,t.label))))}},function(e,t,n){e.exports={"radio-group":"RadioGroup__radio-group",radioGroup:"RadioGroup__radio-group",disabled:"RadioGroup__disabled RadioGroup__radio-group theme__disabled",option:"RadioGroup__option"}},,,function(e,t,n){e.exports={loading:"MediaSelectionGrid__loading",media:"MediaSelectionGrid__media","selected-media":"MediaSelectionGrid__selected-media MediaSelectionGrid__media",selectedMedia:"MediaSelectionGrid__selected-media MediaSelectionGrid__media",thumbnail:"MediaSelectionGrid__thumbnail"}},function(e,t,n){e.exports={root:"SelectionGrid__root",grid:"SelectionGrid__grid","grid-disabled":"SelectionGrid__grid-disabled SelectionGrid__grid",gridDisabled:"SelectionGrid__grid-disabled SelectionGrid__grid",item:"SelectionGrid__item"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JumboAddButton=void 0;const o=a(n(0)),l=a(n(898)),i=n(11),r=n(158),u=n(12);t.JumboAddButton=o.default.forwardRef((function({className:e,isFocused:t=!1,icon:n="plus-alt",onClick:a,children:s=""},c){const d=t?l.default.focused:l.default.root,f=u.classList(d,e);return o.default.createElement(r.DivButton,{ref:c,onClick:a,className:f},o.default.createElement("div",{className:l.default.container},o.default.createElement(i.Dashicon,{icon:n}),o.default.createElement("span",{className:l.default.text},s)))}))},function(e,t,n){e.exports={root:"JumboAddButton__root",hoverStyle:"JumboAddButton__hoverStyle",focused:"JumboAddButton__focused JumboAddButton__root JumboAddButton__hoverStyle",container:"JumboAddButton__container",text:"JumboAddButton__text"}},function(e,t,n){},,,,,,,,,,,,function(e,t,n){e.exports={root:"PromotionsGrid__root",tile:"PromotionsGrid__tile","tile-selected":"PromotionsGrid__tile-selected PromotionsGrid__tile",tileSelected:"PromotionsGrid__tile-selected PromotionsGrid__tile",thumbnail:"PromotionsGrid__thumbnail","tile-icon":"PromotionsGrid__tile-icon",tileIcon:"PromotionsGrid__tile-icon","tile-thumbnail":"PromotionsGrid__tile-thumbnail",tileThumbnail:"PromotionsGrid__tile-thumbnail",navigation:"PromotionsGrid__navigation"}},function(e,t,n){e.exports={bottom:"MediaPromotionFields__bottom","remove-promo":"MediaPromotionFields__remove-promo",removePromo:"MediaPromotionFields__remove-promo",separator:"MediaPromotionFields__separator"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoTypeComponents=void 0;const o=a(n(914)),l=a(n(916)),i=a(n(917));t.PromoTypeComponents=new Map([["link",{heading:"Link options",fields:o.default,tutorial:l.default}],["-more-",{heading:"Have your say...",fields:i.default,tutorial:i.default}]])},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=n(38),i=n(18),r=a(n(34)),u=n(39),s=n(272),c=n(401),d=n(145),f=n(915),m=[],p={linkType:"",postId:0,postTitle:"",postUrl:"",url:"",linkText:"",newTab:!1,linkDirectly:!0};t.default=function({config:e,onChange:t}){e=null!=e?e:p,e=Object.assign(Object.assign({},p),e),0===m.length&&(m.push({value:"url",label:"URL"}),r.default.config.postTypes.forEach(e=>{if("attachment"!==e.slug){const t=o.default.createElement("span",null,e.labels.singularName,"post"!==e.slug&&"page"!==e.slug&&o.default.createElement("span",null," ",o.default.createElement("code",{style:{fontSize:"90%"}},e.slug)));m.push({value:e.slug,label:t})}}));const n=o.default.useCallback(n=>{t({linkType:n,postId:0,postTitle:"",postUrl:"",url:e.url,newTab:e.newTab,linkText:e.linkText})},[e,t]),a=o.default.useCallback(n=>{var a,o,l;t(Object.assign(Object.assign({},e),{postId:null!==(a=null==n?void 0:n.id)&&void 0!==a?a:0,postTitle:null!==(o=null==n?void 0:n.title)&&void 0!==o?o:"",postUrl:null!==(l=null==n?void 0:n.permalink)&&void 0!==l?l:""}))},[e,t]),l=o.default.useCallback(n=>{t(Object.assign(Object.assign({},e),{url:n}))},[e,t]),i=o.default.useCallback(n=>{t(Object.assign(Object.assign({},e),{newTab:n}))},[e,t]),u=o.default.useCallback(n=>{t(Object.assign(Object.assign({},e),{linkDirectly:n}))},[e,t]),s=o.default.useCallback(n=>{t(Object.assign(Object.assign({},e),{linkText:n}))},[e,t]),d=r.default.config.postTypes.find(t=>t.slug===e.linkType);return o.default.createElement(o.default.Fragment,null,o.default.createElement(_,{value:e.linkType,onChange:n}),"url"===e.linkType&&o.default.createElement(h,{value:e.url,onChange:l}),e.linkType&&"url"!==e.linkType&&o.default.createElement(b,{postType:d,postId:e.postId,postTitle:e.postTitle,onChange:a}),e.linkType&&o.default.createElement(v,{value:e.linkDirectly,onChange:u}),e.linkType&&o.default.createElement(y,{value:e.newTab,onChange:i}),e.linkType&&o.default.createElement(S,{value:e.linkText,onChange:s,placeholder:c.LinkPromoType.getDefaultLinkText(e)}))};const _=o.default.memo((function({value:e,onChange:t}){return o.default.createElement(d.FieldRow,{labelId:"promo-link-to",label:"Link to"},o.default.createElement(l.Select,{id:"promo-link-to",value:e||"",onChange:e=>t(e.value),options:m,isCreatable:!1}))})),h=o.default.memo((function({value:e,onChange:t}){return o.default.createElement(d.FieldRow,{labelId:"link-promo-url",label:"URL",wide:!0},o.default.createElement(s.TextField,{id:"link-promo-url",value:e,onChange:t}))})),b=o.default.memo((function({postType:e,postId:t,postTitle:n,onChange:a}){const l=e?"Search for a "+e.labels.singularName:"Search";return o.default.createElement(d.FieldRow,{labelId:"link-promo-url",label:l,wide:!0},o.default.createElement(f.PostSelector,{id:"sli-promo-search-post",postType:e.slug,postId:t,postTitle:n,onChange:a}))})),g=o.default.createElement(o.default.Fragment,null,o.default.createElement("p",null,"Tick this box to make posts go directly to the link. If left unticked, posts will open the popup box."),o.default.createElement("p",null,"To enable your feed's popup box and sidebar:"),o.default.createElement("ol",{style:{marginLeft:15}},o.default.createElement("li",null,"Set the ",o.default.createElement("b",null,"Design » Feed » Open posts in")," option to ",o.default.createElement("b",null,"Popup box")),o.default.createElement("li",null,"Enable the ",o.default.createElement("b",null,"Design » Popup box » Show sidebar")," option."))),v=o.default.memo((function({value:e,onChange:t}){return o.default.createElement(d.FieldRow,{labelId:"promo-link-directly",label:"Link directly",tooltip:g},o.default.createElement(u.CheckboxField,{id:"promo-link-directly",value:e,onChange:t}))})),y=o.default.memo((function({value:e,onChange:t}){return o.default.createElement(d.FieldRow,{labelId:"promo-link-new-tab",label:"Open in a new tab"},o.default.createElement(u.CheckboxField,{id:"promo-link-new-tab",value:e,onChange:t}))})),E=o.default.createElement(o.default.Fragment,null,o.default.createElement("p",null,"The text to use for the link in the popup box sidebar:",o.default.createElement("br",null),o.default.createElement("img",{src:i.Common.image("popup-link-text.png"),alt:""})),o.default.createElement("p",null,"Remember to enable your feed's popup box and sidebar, like so:"),o.default.createElement("ol",{style:{marginLeft:15}},o.default.createElement("li",null,"Set the ",o.default.createElement("b",null,"Design » Feed » Open posts in")," option to ",o.default.createElement("b",null,"Popup box")),o.default.createElement("li",null,"Enable the ",o.default.createElement("b",null,"Design » Popup box » Show sidebar")," option."))),S=o.default.memo((function({value:e,onChange:t,placeholder:n}){return o.default.createElement(d.FieldRow,{labelId:"promo-link-text",label:"Popup box link text",tooltip:E},o.default.createElement(s.TextField,{id:"promo-link-text",value:e,onChange:t,placeholder:n}))}))},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostSelector=void 0;const u=l(n(0)),s=n(38),c=r(n(34)),d=(n(22),e=>e.length?`No posts were found for "${e}"`:"Type to search for posts");t.PostSelector=function({id:e,postType:t,postId:n,postTitle:a,onChange:o,noPostsMsg:l,loadingMsg:r,placeholder:f}){l=null!=l?l:d,r=null!=r?r:"Searching...",f=null!=f?f:"Select or start typing...";const m=u.default.useRef(),p=u.default.useRef(!1),_=u.default.useRef(),[h,b]=u.default.useState([]),[g,v]=u.default.useState(!1),y=u.default.useCallback(e=>(clearTimeout(m.current),new Promise(n=>{m.current=setTimeout(()=>i(this,void 0,void 0,(function*(){try{const a=(_.current=yield c.default.config.searchPosts(t,e)).map(e=>({value:e.id,label:e.title}));n(a)}catch(e){}})),1e3)})),[t]),E=u.default.useCallback(e=>{if(null===e)o(null);else{const t=_.current.find(t=>t.id==e.value);o(null!=t?t:null)}},[o,_]);return u.useEffect(()=>(p.current=!1,t&&(v(!0),y("").then(e=>{p.current||b(e)}).finally(()=>{p.current||v(!1)})),()=>p.current=!0),[t,y,p]),u.default.createElement(s.Select,{async:!0,cacheOptions:!0,id:e,value:n||0,defaultValue:0,defaultInputValue:n?a:"",onChange:E,defaultOptions:!!g||h,loadOptions:y,placeholder:f,noOptionsMessage:l,loadingMessage:()=>r,isLoading:g,isSearchable:!0,isClearable:!0})}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0));t.default=function({}){return o.default.createElement(o.default.Fragment,null,o.default.createElement("p",{style:{fontWeight:"bold"}},"How it works:"),o.default.createElement("ol",{style:{marginTop:0}},o.default.createElement("li",null,"Select a post from the preview on the left."),o.default.createElement("li",null,"Choose what the post should link to.")),o.default.createElement("p",null,"That’s it!"))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=n(8),i=n(44);t.default=function({}){return o.default.createElement(o.default.Fragment,null,o.default.createElement("p",null,"Spotlight’s ‘Promote’ feature has lots more to come. Share your thoughts on what you’d like to"," ","promote and how."),o.default.createElement("p",null,"Take our 2-minute survey."),o.default.createElement("div",null,o.default.createElement(l.Button,{type:l.ButtonType.PRIMARY,size:l.ButtonSize.LARGE,onClick:function(){window.open(i.AdminResources.promoTypesSurvey)}},"Start Survey")))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromotionOverrideMessage=void 0;const o=a(n(0)),l=n(35),i=n(8),r=n(178);t.PromotionOverrideMessage=function({hasGlobal:e,hasAuto:t,isOverriding:n,onOverride:a}){return o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Message,{type:l.MessageType.WARNING,showIcon:!0},o.default.createElement("span",null,"You have")," ",t&&o.default.createElement(r.Link,{to:{screen:"promotions",tab:"automate"},absolute:!0,newTab:!0},"automated"),t&&e&&o.default.createElement(o.default.Fragment,null," ",o.default.createElement("span",null,"and")," "),e&&o.default.createElement(r.Link,{to:{screen:"promotions",tab:"global"},absolute:!0,newTab:!0},"global")," ",o.default.createElement("span",null,"promotions that apply to this post.")," ",n?o.default.createElement("span",null,"To stop overriding, simply remove the custom promotion."):o.default.createElement("span",null,"Click the button below to use a custom promotion instead.")),!n&&o.default.createElement(i.Button,{onClick:a},"Override"))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromotePreviewTile=void 0;const o=a(n(0)),l=a(n(920)),i=n(127);t.PromotePreviewTile=function({media:e}){return o.default.createElement("div",{className:l.default.container},o.default.createElement("div",{className:l.default.sizer},o.default.createElement(i.MediaThumbnail,{media:e})))}},function(e,t,n){e.exports={container:"PromotePreviewTile__container",sizer:"PromotePreviewTile__sizer"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeedNameField=void 0;const o=a(n(922)),l=a(n(0)),i=n(8),r=n(11),u=n(139),s=n(138);t.FeedNameField=function({name:e,label:t,onDone:n}){const a=l.default.useRef(),[c,d]=l.default.useState(""),[f,m]=l.default.useState(!1),p=()=>{d(e),m(!0)},_=()=>{m(!1),n&&n(c),a.current&&a.current.focus()},h=e=>{switch(e.key){case"Enter":case" ":p()}};return l.default.createElement("div",{className:o.default.root},l.default.createElement(u.Menu,{isOpen:f,onBlur:()=>m(!1),placement:"bottom"},({ref:e})=>l.default.createElement("div",{ref:s.mergeRefs(e,a),className:o.default.staticContainer,onClick:p,onKeyPress:h,tabIndex:0,role:"button"},l.default.createElement("span",{className:o.default.label},t),l.default.createElement(r.Dashicon,{icon:"edit",className:o.default.editIcon})),l.default.createElement(u.MenuContent,null,l.default.createElement(u.MenuStatic,null,l.default.createElement("div",{className:o.default.editContainer},l.default.createElement("input",{type:"text",value:c,onChange:e=>{d(e.target.value)},onKeyDown:e=>{switch(e.key){case"Enter":_();break;case"Escape":m(!1);break;default:return}e.preventDefault(),e.stopPropagation()},autoFocus:!0,placeholder:"Feed name"}),l.default.createElement(i.Button,{className:o.default.doneBtn,type:i.ButtonType.PRIMARY,size:i.ButtonSize.NORMAL,onClick:_},l.default.createElement(r.Dashicon,{icon:"yes"})))))))}},function(e,t,n){e.exports={root:"FeedNameField__root layout__flex-row",container:"FeedNameField__container layout__flex-row","edit-container":"FeedNameField__edit-container FeedNameField__container layout__flex-row",editContainer:"FeedNameField__edit-container FeedNameField__container layout__flex-row","static-container":"FeedNameField__static-container FeedNameField__container layout__flex-row",staticContainer:"FeedNameField__static-container FeedNameField__container layout__flex-row","edit-icon":"FeedNameField__edit-icon dashicons__dashicon-normal",editIcon:"FeedNameField__edit-icon dashicons__dashicon-normal",label:"FeedNameField__label","done-btn":"FeedNameField__done-btn",doneBtn:"FeedNameField__done-btn"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeedNamePrompt=void 0;const o=a(n(0)),l=a(n(924)),i=a(n(151));t.FeedNamePrompt=function({isOpen:e,onAccept:t,onCancel:n}){const[a,r]=o.default.useState("");function u(){t&&t(a)}return o.default.createElement(i.default,{title:"Feed name",isOpen:e,onCancel:function(){n&&n()},onAccept:u,buttons:["Save","Cancel"]},o.default.createElement("p",{className:l.default.message},"Give this feed a memorable name:"),o.default.createElement("input",{type:"text",className:l.default.input,value:a,onChange:e=>{r(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(u(),e.preventDefault(),e.stopPropagation())},autoFocus:!0}))}},function(e,t,n){e.exports={message:"FeedNamePrompt__message",input:"FeedNamePrompt__input"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0,(t.Screen||(t.Screen={})).Sizes={WIDE:1200,LARGE:1180,MEDIUM:960,SMALL:782,NARROW:600,ALL:[1200,1180,960,782,600]}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=a(n(927)),i=a(n(166)),r=n(8),u=n(11);t.default=function({children:e,steps:t,current:n,onChangeStep:a,firstStep:s,lastStep:c}){var d;s=null!=s?s:[],c=null!=c?c:[];const f=null!==(d=t.findIndex(e=>e.key===n))&&void 0!==d?d:0,m=f<=0,p=f>=t.length-1,_=m?null:t[f-1],h=p?null:t[f+1],b=m?s:o.default.createElement(r.Button,{type:r.ButtonType.LINK,onClick:()=>!m&&a&&a(t[f-1].key),className:l.default.prevLink,disabled:_.disabled},o.default.createElement(u.Dashicon,{icon:"arrow-left-alt2"}),o.default.createElement("span",null,_.label)),g=p?c:o.default.createElement(r.Button,{type:r.ButtonType.LINK,onClick:()=>!p&&a&&a(t[f+1].key),className:l.default.nextLink,disabled:h.disabled},o.default.createElement("span",null,h.label),o.default.createElement(u.Dashicon,{icon:"arrow-right-alt2",style:{marginRight:0}}));return o.default.createElement(i.default,null,{path:[],left:b,right:g,center:e})}},function(e,t,n){e.exports={"arrow-link":"WizardNavbar__arrow-link",arrowLink:"WizardNavbar__arrow-link","prev-link":"WizardNavbar__prev-link WizardNavbar__arrow-link",prevLink:"WizardNavbar__prev-link WizardNavbar__arrow-link","next-link":"WizardNavbar__next-link WizardNavbar__arrow-link",nextLink:"WizardNavbar__next-link WizardNavbar__arrow-link"}},function(e,t,n){e.exports={root:"GenericNavbar__root",list:"GenericNavbar__list","left-list":"GenericNavbar__left-list GenericNavbar__list",leftList:"GenericNavbar__left-list GenericNavbar__list",item:"GenericNavbar__item","center-list":"GenericNavbar__center-list GenericNavbar__list",centerList:"GenericNavbar__center-list GenericNavbar__list","right-list":"GenericNavbar__right-list GenericNavbar__list",rightList:"GenericNavbar__right-list GenericNavbar__list","path-list":"GenericNavbar__path-list GenericNavbar__left-list GenericNavbar__list",pathList:"GenericNavbar__path-list GenericNavbar__left-list GenericNavbar__list","path-segment":"GenericNavbar__path-segment",pathSegment:"GenericNavbar__path-segment",separator:"GenericNavbar__separator GenericNavbar__item"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=a(n(930)),i=a(n(166)),r=n(8),u=n(11),s=n(139);function c({pages:e,current:t,onClickPage:n,children:a}){const[i,r]=o.default.useState(!1),u=()=>r(!0),c=()=>r(!1);return o.default.createElement(s.Menu,{isOpen:i,onBlur:c,placement:"bottom-start",refClassName:l.default.menuRef},({ref:e})=>o.default.createElement("a",{ref:e,className:l.default.menuLink,onClick:u},a),o.default.createElement(s.MenuContent,null,e.map(e=>{return o.default.createElement(s.MenuItem,{key:e.key,disabled:e.disabled,active:e.key===t,onClick:(a=e.key,()=>{n&&n(a),c()})},e.label);var a})))}t.default=function({pages:e,current:t,onChangePage:n,showNavArrows:a,hideMenuArrow:s,children:d}){var f,m;const{path:p,right:_}=d,h=null!==(f=e.findIndex(e=>e.key===t))&&void 0!==f?f:0,b=null!==(m=e[h].label)&&void 0!==m?m:"",g=h<=0,v=h>=e.length-1,y=g?null:e[h-1],E=v?null:e[h+1];let S=[];return a&&S.push(o.default.createElement(r.Button,{key:"page-menu-left",type:r.ButtonType.PILL,onClick:()=>!g&&n&&n(e[h-1].key),disabled:g||y.disabled},o.default.createElement(u.Dashicon,{icon:"arrow-left-alt2"}))),S.push(o.default.createElement(c,{key:"page-menu",pages:e,current:t,onClickPage:e=>n&&n(e)},o.default.createElement("span",null,b),!s&&o.default.createElement(u.Dashicon,{icon:"arrow-down-alt2",className:l.default.arrowDown}))),a&&S.push(o.default.createElement(r.Button,{key:"page-menu-left",type:r.ButtonType.PILL,onClick:()=>!v&&n&&n(e[h+1].key),disabled:v||E.disabled},o.default.createElement(u.Dashicon,{icon:"arrow-right-alt2"}))),o.default.createElement(i.default,{pathStyle:p.length>1?"line":"none"},{path:p,right:_,center:S})}},function(e,t,n){e.exports={"menu-link":"PageMenuNavbar__menu-link",menuLink:"PageMenuNavbar__menu-link","menu-ref":"PageMenuNavbar__menu-ref",menuRef:"PageMenuNavbar__menu-ref","arrow-down":"PageMenuNavbar__arrow-down",arrowDown:"PageMenuNavbar__arrow-down"}},function(e,t,n){e.exports={label:"TabNavbar__label",tab:"TabNavbar__tab",current:"TabNavbar__current TabNavbar__tab",disabled:"TabNavbar__disabled TabNavbar__tab"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WpMediaField=void 0;const o=a(n(0)),l=a(n(968)),i=n(225),r=n(8);t.WpMediaField=({id:e,title:t,mediaType:n,button:a,buttonSet:u,buttonChange:s,value:c,onChange:d})=>{u=void 0===a?u:a,s=void 0===a?s:a;const f=!!c,m=f?s:u,p=()=>{d&&d("")};return o.default.createElement(i.WpUploadMedia,{id:e,title:t,mediaType:n,button:m,value:c,onSelect:e=>{d&&d(e[0].attributes.url)}},({open:e})=>o.default.createElement("div",{className:l.default.wpMediaField},f&&o.default.createElement("div",{className:l.default.preview,tabIndex:0,onClick:e,role:"button"},o.default.createElement("img",{src:c,alt:"Custom profile picture"})),o.default.createElement(r.Button,{className:l.default.selectBtn,type:r.ButtonType.SECONDARY,onClick:e},m),f&&o.default.createElement(r.Button,{className:l.default.removeBtn,type:r.ButtonType.DANGER_LINK,onClick:p},"Remove custom photo")))}},function(e,t,n){e.exports={"wp-media-field":"WpMediaField__wp-media-field",wpMediaField:"WpMediaField__wp-media-field",preview:"WpMediaField__preview","select-btn":"WpMediaField__select-btn",selectBtn:"WpMediaField__select-btn","remove-btn":"WpMediaField__remove-btn",removeBtn:"WpMediaField__remove-btn"}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedSidebar=void 0;const r=l(n(0)),u=i(n(970)),s=n(13),c=n(1),d=n(55),f=i(n(34)),m=n(35),p=n(140),_=n(316),h=n(8),b=n(971),g=n(37),v=n(17),y=n(103),E=i(n(233)),S=n(18);function w({children:e}){const t=r.useRef(),[n,a]=r.useState(0),o=()=>t.current.slideTo((n+1)%e.length);return r.default.createElement("div",{className:u.default.imageSlider},r.default.createElement(E.default,{ref:t,activeIndex:n,onSlideChanged:e=>a(e.item),animationType:"slide",animationDuration:200,touchTracking:!0,preservePosition:!0,disableButtonsControls:!0,infinite:!0,items:e.map((e,t)=>r.default.createElement(P,{key:t,img:e.src,alt:e.label,onClick:o,annotation:t+1}))}))}function P({img:e,alt:t,annotation:n,onClick:a}){return r.default.createElement("figure",{className:u.default.example},r.default.createElement("figcaption",{className:u.default.caption}," ",t),r.default.createElement("img",{src:S.Common.image(e),alt:null!=t?t:"",style:{cursor:a?"pointer":"default"},onClick:a}),void 0!==n&&r.default.createElement("div",{className:u.default.exampleAnnotation},n))}t.EmbedSidebar=function(){const e=c.useSelector(d.selectQueryParam("id")),t=c.useSelector(y.selectFeedById(e)),n=c.useSelector(s.selectFeedName),a=c.useSelector(y.selectFeeds).length,o=g.useEditorSelector(e=>e.showProOptions),l=v.useFeedEditorContext().config.isPro,i=l||o,E=f.default.config.adminUrl+"/widgets.php",S=f.default.config.adminUrl+"/customize.php?autofocus%5Bpanel%5D=widgets";return e?r.default.createElement("div",{className:u.default.embedSidebar},t.usages.length>0&&r.default.createElement(p.Spoiler,{label:"Instances",defaultOpen:!0,fitted:!0,scrollOnOpen:!0},r.default.createElement("div",{className:u.default.instances},r.default.createElement("p",null,"This feed is currently being shown in these pages:"),r.default.createElement("ul",null,t.usages.map((e,t)=>r.default.createElement("li",{key:t},r.default.createElement("a",{href:`${f.default.config.adminUrl}/post.php?action=edit&post=${e.id}`,target:"_blank"},e.name),r.default.createElement("span",null,"(",e.type,")")))))),r.default.createElement(p.Spoiler,{label:"Shortcode",defaultOpen:!0,fitted:!0,scrollOnOpen:!0},r.default.createElement("div",null,r.default.createElement("p",null,"Copy the shortcode below and paste it in any page or post to embed this feed:"),r.default.createElement("div",{className:u.default.shortcode},r.default.createElement("code",null,'[instagram feed="',e,'"]'),r.default.createElement(_.CopyShortcode,{feed:t},r.default.createElement(h.Button,{type:h.ButtonType.SECONDARY},"Copy"))))),f.default.config.hasElementor&&i&&r.default.createElement(p.Spoiler,{className:l?void 0:u.default.pro,label:l?"Elementor Widget":r.default.createElement(b.SpoilerProLabel,null,"Elementor widget"),defaultOpen:!0,fitted:!0,scrollOnOpen:!0},r.default.createElement("div",null,r.default.createElement("p",null,"To embed this feed in Elementor:"),r.default.createElement("ol",null,r.default.createElement("li",null,r.default.createElement("span",null,"Search for the ",r.default.createElement("b",null,"Spotlight Instagram feed")," widget",r.default.createElement(m.Message,{type:m.MessageType.INFO,showIcon:!0},"Choose the one with the Instagram logo. The other one is for the normal"," ","WordPress widget."))),r.default.createElement("li",null,"Add it to your post or page"),r.default.createElement("li",null,"Then choose ",r.default.createElement("strong",null,n)," from the list of feeds.")),r.default.createElement(w,null,[{src:"elementor-widget-search.png",label:"Choose the Spotlight widget"},{src:"elementor-widget-feed.png",label:"Choose the feed"}]))),r.default.createElement(p.Spoiler,{label:"WordPress Block",defaultOpen:!f.default.config.hasElementor,fitted:!0,scrollOnOpen:!0},r.default.createElement("div",null,r.default.createElement("p",null,"To embed this feed in the WordPress block editor:"),r.default.createElement("ol",null,r.default.createElement("li",null,"Search for the ",r.default.createElement("b",null,"Spotlight Instagram feed")," block"),r.default.createElement("li",null,"Add it to your post or page."),a>1?r.default.createElement("li",null,"Next, choose ",r.default.createElement("strong",null,n)," from the list of feeds."):r.default.createElement("li",null,"Since this is your only feed, Spotlight will automatically show this feed.")),a>1?r.default.createElement(w,null,[{src:"wp-block-search.png",label:"Search for the Spotlight block"},{src:"wp-block-select.png",label:"Choose the feed"},{src:"wp-block.png",label:"Done!"}]):r.default.createElement(w,null,[{src:"wp-block-search.png",label:"Search for the block"},{src:"wp-block.png",label:"Done!"}]))),r.default.createElement(p.Spoiler,{label:"WordPress Widget",defaultOpen:!1,fitted:!0,scrollOnOpen:!0},r.default.createElement("div",null,r.default.createElement("p",null,"To embed this feed as a WordPress widget:"),r.default.createElement("ol",null,r.default.createElement("li",null,"Go to the"," ",r.default.createElement("a",{href:E,target:"_blank"},"Appearance » Widgets")," ","page or the"," ",r.default.createElement("a",{href:S,target:"_blank"},"Widgets section of the Customizer")),r.default.createElement("li",null,"Then, add a ",r.default.createElement("strong",null,"Spotlight Instagram Feed")," widget"),r.default.createElement("li",null,"In the widget's settings, choose the ",r.default.createElement("strong",null,n)," as the feed"," ","to be shown.")),r.default.createElement(P,{img:"widget.png",alt:"Example of a widget"})))):r.default.createElement("div",{className:u.default.embedSidebar},r.default.createElement("div",{className:u.default.saveMessage},r.default.createElement(m.Message,{type:m.MessageType.INFO,showIcon:!0},"You're almost there... Click the ",r.default.createElement("strong",null,"Save")," button at the top-right to be"," ","able to embed this feed on your site!")))}},function(e,t,n){e.exports={"embed-sidebar":"EmbedSidebar__embed-sidebar",embedSidebar:"EmbedSidebar__embed-sidebar","save-message":"EmbedSidebar__save-message",saveMessage:"EmbedSidebar__save-message",shortcode:"EmbedSidebar__shortcode",example:"EmbedSidebar__example",caption:"EmbedSidebar__caption","example-annotation":"EmbedSidebar__example-annotation",exampleAnnotation:"EmbedSidebar__example-annotation",instances:"EmbedSidebar__instances",pro:"EmbedSidebar__pro"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SpoilerProLabel=void 0;const o=a(n(0)),l=a(n(972)),i=n(78);t.SpoilerProLabel=function({children:e}){return o.default.createElement("div",null,o.default.createElement("div",{className:l.default.proPill},o.default.createElement(i.ProPill,null)),o.default.createElement("span",null,e))}},function(e,t,n){e.exports={"pro-pill":"SpoilerProLabel__pro-pill",proPill:"SpoilerProLabel__pro-pill"}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditFeedScreen=void 0;const i=l(n(0)),r=n(211),u=n(35),s=n(333),c=n(1),d=n(103),f=n(282),m=n(55);function p(){const e=c.useSelector(m.selectRoute);return i.default.createElement("div",null,i.default.createElement(u.Message,{type:u.MessageType.ERROR,showIcon:!0},"Feed does not exist.",i.default.createElement(r.Link,{to:e.withQuery({screen:"feeds"})},"Go back")))}t.EditFeedScreen=function(){const e=c.useDispatch(),t=c.useSelector(m.selectRoute).getParam("id"),n=t?parseInt(t):0,a=c.useSelector(d.selectFeedById(n)),o=c.useStore(),[l]=i.useState(()=>o.getState().app.isEditingNewFeed);return i.useEffect(()=>{e(f.setIsEditingNewFeed(!1))},[]),n?a?i.default.createElement(s.AdminEditor,{feed:a,keepState:l}):i.default.createElement(p,null):null}},function(e,t,n){e.exports={screen:"PromotionsScreen__screen",navbar:"PromotionsScreen__navbar","navbar-item":"PromotionsScreen__navbar-item",navbarItem:"PromotionsScreen__navbar-item","navbar-fake-pro-item":"PromotionsScreen__navbar-fake-pro-item PromotionsScreen__navbar-item",navbarFakeProItem:"PromotionsScreen__navbar-fake-pro-item PromotionsScreen__navbar-item","navbar-pro-pill":"PromotionsScreen__navbar-pro-pill",navbarProPill:"PromotionsScreen__navbar-pro-pill"}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AutomatePromotionsTab=void 0;const r=l(n(0)),u=i(n(976)),s=n(46),c=n(977),d=n(980),f=n(8),m=n(982),p=n(983),_=n(96);function h({onCreate:e}){return r.default.createElement("div",{className:u.default.tutorial},r.default.createElement("div",{className:u.default.tutorialBox},r.default.createElement("div",{className:u.default.tutorialText},r.default.createElement("h1",null,"Automatically drive more conversions with Instagram"),r.default.createElement("p",null,"Link Instagram posts to your products, blog posts, landing pages, and more."),r.default.createElement("p",null,r.default.createElement("b",null,"Promotions help you drive traffic and increase conversions through social proof.")),r.default.createElement("p",null,"For example, create an ",r.default.createElement("b",null,"Instagram hashtag"),", let’s call it ",r.default.createElement("b",null,"#mymaxidress"),"."," "," Display photos from Instagram that use this hashtag and feature your dress,"," "," then have them ",r.default.createElement("b",null,"link directly to your product page"),", whether it’s on the"," "," same website or not."),r.default.createElement("p",null,"Every new Instagram photo that Spotlight finds with this hashtag will then",r.default.createElement("br",null),r.default.createElement("b",null,"automatically link to the product page"),"."),r.default.createElement("p",null,r.default.createElement("b",null,"Simple. Powerful. Effective."))),r.default.createElement(f.Button,{type:f.ButtonType.SECONDARY,size:f.ButtonSize.HERO,onClick:e},"Create your first automation")))}t.AutomatePromotionsTab=function({automations:e,isFakePro:t,onChange:n}){e=null!=e?e:[],n=null!=n?n:_.fn.noop;const[a,o]=r.default.useState(0),[l,i]=r.default.useState("content"),f=p.clampIndex(a,e),b=e.length>0,g=()=>i("sidebar"),v=r.useCallback(()=>e[f],[e,f]);function y(e){o(e)}const E=r.useCallback((e,t)=>{n(e),void 0!==t&&o(t)},[n]),S=r.useCallback(t=>{n(m.arrayWith(e,f,t))},[f,n]),w=r.useCallback(()=>{n(e.concat({type:"hashtag",config:{},promotion:{type:"",config:{}}})),o(0),g()},[e]);return r.default.createElement(s.SidebarLayout,{primary:"content",current:l,sidebar:b&&r.default.createElement(r.default.Fragment,null,r.default.createElement(d.AutoPromotionsSidebar,{automation:v(),onChange:S,isFakePro:t,onClose:()=>i("content")})),content:r.default.createElement("div",{className:u.default.content},!b&&r.default.createElement(h,{onCreate:w}),b&&r.default.createElement(c.AutoPromotionsList,{automations:e,selected:f,isFakePro:t,onChange:E,onSelect:y,onClick:function(e){y(e),g()}}))})}},function(e,t,n){e.exports={content:"AutomatePromotionsTab__content","content-heading":"AutomatePromotionsTab__content-heading",contentHeading:"AutomatePromotionsTab__content-heading",tutorial:"AutomatePromotionsTab__tutorial","tutorial-box":"AutomatePromotionsTab__tutorial-box",tutorialBox:"AutomatePromotionsTab__tutorial-box","tutorial-text":"AutomatePromotionsTab__tutorial-text",tutorialText:"AutomatePromotionsTab__tutorial-text","tutorial-video":"AutomatePromotionsTab__tutorial-video",tutorialVideo:"AutomatePromotionsTab__tutorial-video","mobile-instructions":"AutomatePromotionsTab__mobile-instructions",mobileInstructions:"AutomatePromotionsTab__mobile-instructions"}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoPromotionsList=void 0;const r=l(n(0)),u=i(n(978)),s=n(59),c=n(137),d=n(428),f=n(8),m=n(11),p=n(979),_=i(n(34)),h=i(n(151)),b=n(159),g=n(46),v=n(96);function y({automation:e,selected:t,disabled:n,onClick:a,onDuplicate:o,onRemove:l}){const i=b.PromotionSystem.getAutomationConfig(e),s=b.PromotionSystem.getAutomationPromo(e),c=b.PromotionSystem.getPromoConfig(s),d=_.default.config.postTypes.find(e=>e.slug===c.linkType),h=n?null:a,g=n?null:p.stopPropagation(o),v=n?null:p.stopPropagation(l);return r.default.createElement("div",{className:t?u.default.rowSelected:u.default.row,onClick:h},r.default.createElement("div",{className:u.default.rowDragHandle},r.default.createElement(m.Dashicon,{icon:"menu"})),r.default.createElement("div",{className:u.default.rowBox},r.default.createElement("div",{className:u.default.rowHashtags},i.hashtags&&Array.isArray(i.hashtags)?i.hashtags.map(e=>"#"+e).join(", "):r.default.createElement("span",{className:u.default.noHashtagsMessage},"No hashtags")),r.default.createElement("div",{className:u.default.rowSummary},r.default.createElement(E,{promoConfig:c,postType:d})),r.default.createElement("div",{className:u.default.rowActions},r.default.createElement(f.Button,{type:f.ButtonType.PILL,size:f.ButtonSize.SMALL,onClick:g,tooltip:"Duplicate automation",disabled:n},r.default.createElement(m.Dashicon,{icon:"admin-page"})),r.default.createElement(f.Button,{type:f.ButtonType.DANGER_PILL,size:f.ButtonSize.SMALL,onClick:v,tooltip:"Remove automation",disabled:n},r.default.createElement(m.Dashicon,{icon:"trash"})))))}function E({promoConfig:e,postType:t}){return"url"===e.linkType?r.default.createElement("span",{className:u.default.summaryItalics},"Custom URL"):t?r.default.createElement("span",null,r.default.createElement("span",{className:u.default.summaryBold},e.postTitle)," ",r.default.createElement("span",{className:u.default.summaryItalics},"(",t.labels.singularName,")")):r.default.createElement("span",{className:u.default.noPromoMessage},"No promotion")}t.AutoPromotionsList=function({automations:e,selected:t,isFakePro:n,onChange:a,onSelect:o,onClick:l}){const i=r.useContext(g.SidebarLayout.Context);!n&&a||(a=v.fn.noop);const[m,p]=r.default.useState(null);function _(e){o&&o(e)}const E=r.useCallback(()=>{a(e.concat({type:"hashtag",config:{},promotion:{type:"",config:{}}}),e.length)},[e]),S=r.useCallback(t=>()=>{const n=e[t],o=s.cloneObj(n),l=e.slice();l.splice(t+1,0,o),a(l,t+1)},[e]);function w(){p(null)}const P=r.useCallback(t=>{const n=e.slice();n.splice(t,1),a(n,0),w()},[e]),O=r.useCallback(n=>{const o=e[t],l=n.map(e=>({type:e.type,config:b.PromotionSystem.getAutomationConfig(e),promotion:b.PromotionSystem.getAutomationPromo(e)})),i=l.findIndex(e=>e.promotion===o.promotion);a(l,i)},[e]);function C(e){return()=>{_(e),l&&l(e)}}const M=e.map(e=>Object.assign(Object.assign({},e),{id:c.uniqueNum()}));return r.default.createElement(r.default.Fragment,null,i&&r.default.createElement("div",{className:u.default.mobileInstructions},r.default.createElement("p",null,"Click or tap on an automation to change its settings")),r.default.createElement("div",{className:u.default.list},r.default.createElement("div",{className:u.default.addButtonRow},r.default.createElement(f.Button,{type:f.ButtonType.SECONDARY,size:f.ButtonSize.LARGE,onClick:E,disabled:n},"Add automation")),r.default.createElement(d.ReactSortable,{list:M,handle:"."+u.default.rowDragHandle,setList:O,onStart:function(e){_(e.oldIndex)},animation:200,delay:1e3,fallbackTolerance:5,delayOnTouchOnly:!0},e.map((e,a)=>r.default.createElement(y,{key:a,automation:e,selected:t===a,onClick:C(a),onDuplicate:S(a),onRemove:()=>function(e){p(e)}(a),disabled:n}))),r.default.createElement(h.default,{isOpen:null!==m,title:"Are you sure?",buttons:["Yes, remove it","No, keep it"],onAccept:()=>P(m),onCancel:w},r.default.createElement("p",null,"Are you sure you want to remove this automation? This ",r.default.createElement("strong",null,"cannot")," be undone!"))))}},function(e,t,n){e.exports={list:"AutoPromotionsList__list","fake-pro-list":"AutoPromotionsList__fake-pro-list AutoPromotionsList__list",fakeProList:"AutoPromotionsList__fake-pro-list AutoPromotionsList__list",row:"AutoPromotionsList__row","row-selected":"AutoPromotionsList__row-selected AutoPromotionsList__row",rowSelected:"AutoPromotionsList__row-selected AutoPromotionsList__row","row-box":"AutoPromotionsList__row-box theme__panel",rowBox:"AutoPromotionsList__row-box theme__panel","row-hashtags":"AutoPromotionsList__row-hashtags",rowHashtags:"AutoPromotionsList__row-hashtags","row-summary":"AutoPromotionsList__row-summary",rowSummary:"AutoPromotionsList__row-summary","row-drag-handle":"AutoPromotionsList__row-drag-handle",rowDragHandle:"AutoPromotionsList__row-drag-handle","row-actions":"AutoPromotionsList__row-actions",rowActions:"AutoPromotionsList__row-actions","add-button-row":"AutoPromotionsList__add-button-row",addButtonRow:"AutoPromotionsList__add-button-row","no-hashtags-message":"AutoPromotionsList__no-hashtags-message",noHashtagsMessage:"AutoPromotionsList__no-hashtags-message","row-faded-text":"AutoPromotionsList__row-faded-text",rowFadedText:"AutoPromotionsList__row-faded-text","no-promo-message":"AutoPromotionsList__no-promo-message AutoPromotionsList__row-faded-text",noPromoMessage:"AutoPromotionsList__no-promo-message AutoPromotionsList__row-faded-text","summary-italics":"AutoPromotionsList__summary-italics",summaryItalics:"AutoPromotionsList__summary-italics","summary-bold":"AutoPromotionsList__summary-bold",summaryBold:"AutoPromotionsList__summary-bold"}},,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoPromotionsSidebar=void 0;const r=l(n(0)),u=i(n(981)),s=n(165),c=n(120),d=n(203),f=n(12),m=n(96),p=n(159),_=n(46),h=n(400),b=n(19),g=n(145);let v;t.AutoPromotionsSidebar=function({automation:e,isFakePro:t,onChange:n,onClose:a}){var o;const l=r.useContext(_.SidebarLayout.Context);!t&&n||(n=m.fn.noop),void 0===v&&(v=c.PromotionTypeStore.getAll().filter(e=>"-more-"!==e.id).map(e=>({value:e.id,label:e.label})));const i=p.PromotionSystem.getAutomationConfig(e),y=p.PromotionSystem.getAutomationPromo(e),E=null!==(o=i.hashtags)&&void 0!==o?o:[];return r.default.createElement(r.default.Fragment,null,l&&r.default.createElement(_.SidebarLayout.Navigation,{icon:"arrow-left-alt",text:"Automations",onClick:a}),r.default.createElement(s.Sidebar,null,e&&r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:f.classList(s.Sidebar.padded,t?u.default.fakePro:null)},r.default.createElement(g.FieldRow,{label:"Promote posts with any of these hashtags",labelId:"sli-auto-promo-hashtags",wide:!0},r.default.createElement(d.MultiHashtagInput,{id:"sli-auto-promo-hashtags",value:E,onChange:function(t){n(b.withPartial(e,{config:{hashtags:t}}))},autoFocus:!t})),r.default.createElement("div",{className:u.default.promoFields},r.default.createElement(h.MediaPromotionFields,{promo:y,onChange:function(t){n(Object.assign(Object.assign({},e),{promotion:t}))}})))),!e&&r.default.createElement("div",{className:s.Sidebar.padded},r.default.createElement("p",null,"Automatically link Instagram posts from any source that contain specific hashtags to"," ","posts, pages, products, custom links, and more. ",r.default.createElement("a",{href:"#"},"Learn more")),r.default.createElement("p",null,"To get started, create an automation or select an existing one."))))}},function(e,t,n){e.exports={"fake-pro":"AutoPromotionsSidebar__fake-pro",fakePro:"AutoPromotionsSidebar__fake-pro","promo-fields":"AutoPromotionsSidebar__promo-fields",promoFields:"AutoPromotionsSidebar__promo-fields"}},,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalPromotionsTab=void 0;const r=l(n(0)),u=n(1),s=i(n(985)),c=n(46),d=n(986),f=i(n(242)),m=n(987),p=n(27),_=n(72),h=n(60);t.GlobalPromotionsTab=function({isFakePro:e}){const t=u.useSelector(p.selectAccounts),[n,a]=r.useState(!1);_.useDocumentEventListener(h.RestApi.media.events.fetch.start,()=>a(!0)),_.useDocumentEventListener(h.RestApi.media.events.fetch.end,()=>a(!1));const[o,l]=r.useState("content"),[i,b]=r.default.useState(()=>(e=>e.length>0?e[0].id:null)(t)),g=r.useCallback(()=>l("content"),[l]),v=r.useCallback(()=>l("sidebar"),[l]);return r.default.createElement(r.default.Fragment,null,0===t.length&&r.default.createElement("div",{className:s.default.tutorial},r.default.createElement("div",{className:s.default.tutorialBox},r.default.createElement("div",{className:s.default.tutorialText},r.default.createElement("h1",null,"Set up global promotions across all feeds"),r.default.createElement("p",null,"Link Instagram posts to your products, blog posts, landing pages, and more."),r.default.createElement("p",null,r.default.createElement("b",null,"Promotions help you drive traffic and increase conversions through social proof.")),r.default.createElement("p",null,"Set up global promotions for each account that will apply across all feeds."," ","You may then choose to enable or disable promotions on a per-feed basis."),r.default.createElement("p",null,"Connect your first Instagram account to set up global promotions."),r.default.createElement("p",null,r.default.createElement("b",null,"Simple. Powerful. Effective."))),r.default.createElement(f.default,null,"Connect your Instagram account"))),t.length>0&&r.default.createElement(c.SidebarLayout,{primary:"content",current:o,sidebar:r.default.createElement(d.GlobalPromotionsSidebar,{disabled:n||e,account:i,onChangeAccount:b,onClose:g}),content:r.default.createElement(m.GlobalPromotionsContent,{disabled:n||e,account:i,onOpenSidebar:v})}))}},function(e,t,n){e.exports={tutorial:"GlobalPromotionsTab__tutorial","tutorial-box":"GlobalPromotionsTab__tutorial-box",tutorialBox:"GlobalPromotionsTab__tutorial-box","tutorial-text":"GlobalPromotionsTab__tutorial-text",tutorialText:"GlobalPromotionsTab__tutorial-text"}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalPromotionsSidebar=void 0;const i=l(n(0)),r=n(1),u=n(165),s=n(46),c=n(244),d=n(140),f=n(27);t.GlobalPromotionsSidebar=function({account:e,onChangeAccount:t,disabled:n,onClose:a}){const o=r.useSelector(f.selectAccounts),l=i.useContext(s.SidebarLayout.Context);return i.default.createElement(i.default.Fragment,null,l&&i.default.createElement(i.default.Fragment,null,i.default.createElement(s.SidebarLayout.Navigation,{icon:"arrow-left-alt",text:"Back",onClick:a})),i.default.createElement(u.Sidebar,{disabled:n},i.default.createElement("div",{className:u.Sidebar.padded},i.default.createElement("p",null,"Promote your blog posts, landing pages, products, and much more through your Instagram feed."),i.default.createElement("p",{style:{fontWeight:"bold"}},"How it works:"),i.default.createElement("ol",{style:{marginTop:0}},i.default.createElement("li",null,"Pick an account."),l?i.default.createElement(i.default.Fragment,null,i.default.createElement("li",null,"Go back to the previous page."),i.default.createElement("li",null,"Select a post from the grid.")):i.default.createElement("li",null,"Select a post from the preview on the left."),i.default.createElement("li",null,"Choose what the post should link to."))),i.default.createElement(d.Spoiler,{label:"Pick an account",showIcon:!1,isOpen:!0,fitted:!0},i.default.createElement(c.AccountSelector,{accounts:o,value:[e],onChange:e=>t(e[0]),singleMode:!0}))))}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalPromotionsContent=void 0;const r=l(n(0)),u=i(n(988)),s=n(1),c=n(46),d=n(399),f=n(236),m=n(33),p=n(50),_=n(8),h=n(11),b=n(27);t.GlobalPromotionsContent=function({account:e,disabled:t,onOpenSidebar:n}){const a=s.useDispatch(),o=s.useSelector(b.selectHasAccounts),l=s.useSelector(m.selectSetting("promotions")),i=r.useContext(c.SidebarLayout.Context),g=r.default.useCallback(e=>{t||a(p.updateSettings({promotions:e}))},[a,t]),v=f.createFeedOptions({accounts:[e],promotions:t?{}:l,globalPromotionsEnabled:!1});return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:u.default.content},i&&r.default.createElement("div",{className:u.default.heading},r.default.createElement("p",{className:u.default.mobileInstructions},"Click or tap a post to set up a promotion for it."),o&&r.default.createElement("div",{className:u.default.changeAccountButton},r.default.createElement(_.Button,{type:_.ButtonType.SECONDARY,size:_.ButtonSize.SMALL,onClick:n},r.default.createElement(h.Dashicon,{icon:"admin-users"})," Change account"))),r.default.createElement(d.PromotionsGrid,{feedOptions:v,onChange:g})))}},function(e,t,n){e.exports={content:"GlobalPromotionsContent__content",heading:"GlobalPromotionsContent__heading","mobile-instructions":"GlobalPromotionsContent__mobile-instructions",mobileInstructions:"GlobalPromotionsContent__mobile-instructions"}},function(e,t,n){},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsNavbar=void 0;const o=a(n(991)),l=a(n(0)),i=a(n(324)),r=n(8),u=n(234),s=n(202),c=n(284),d=n(1),f=n(33),m=n(50),p=n(126),_=n(18),h=n(55);function b({}){const e=d.useDispatch(),t=d.useSelector(f.selectSettingsAreDirty),n=d.useSelector(f.selectSettingsAreSaving);return l.default.createElement("div",{className:o.default.buttons},l.default.createElement(r.Button,{className:o.default.cancelBtn,type:r.ButtonType.DANGER_PILL,size:r.ButtonSize.LARGE,onClick:()=>e(m.restoreSettings()),disabled:!t},"Cancel"),l.default.createElement(s.SaveButton,{className:o.default.saveBtn,onClick:()=>e(p.saveSettings()),isSaving:n,tooltip:"Save the settings (Ctrl+S)",disabled:!t}))}t.SettingsNavbar=function(){const e=d.useSelector(h.selectQueryParam("tab")),t=_.Common.isPro?c.AdminSettings:c.AdminSettings.filter(e=>!e.isPro);return l.default.createElement(i.default,{chevron:!0,right:b},t.map((t,n)=>l.default.createElement(u.Navbar.Link,{key:t.id,linkTo:{tab:t.id},isCurrent:e===t.id||!e&&0===n},t.title)))}},function(e,t,n){e.exports={buttons:"SettingsNavbar__buttons layout__flex-row","cancel-btn":"SettingsNavbar__cancel-btn",cancelBtn:"SettingsNavbar__cancel-btn"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(0)),l=a(n(993)),i=a(n(242)),r=a(n(994)),u=n(35),s=n(996),c=n(1),d=n(27),f=n(405);t.default=function(){const e=c.useSelector(d.selectAccounts),t=f.useForceUpdate(),[n,a]=o.default.useState("");return 0===e.length?o.default.createElement(s.AccountsOnboarding,null):o.default.createElement("div",{className:l.default.root},n.length>0&&o.default.createElement(u.Message,{type:u.MessageType.ERROR,showIcon:!0,isDismissible:!0,onDismiss:()=>a("")},n),o.default.createElement("div",{className:l.default.connectBtn},o.default.createElement(i.default,{onConnect:t})),o.default.createElement(r.default,{accounts:e,showDelete:!0,onDeleteError:a}))}},function(e,t,n){e.exports={"connect-btn":"AccountsPage__connect-btn",connectBtn:"AccountsPage__connect-btn"}},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(n(0)),i=o(n(995)),r=n(26),u=n(8),s=o(n(313)),c=n(157),d=o(n(224)),f=o(n(181)),m=o(n(151)),p=n(139),_=n(315),h=n(1),b=n(103),g=n(178),v=n(92),y=n(42),E=n(11),S=n(43),w=n(61),P=o(n(34));t.default=function({accounts:e,showDelete:t,onDeleteError:n}){const o=h.useStore(),C=h.useDispatch(),M=h.useSelector(b.selectFeeds),N=(e=null!=e?e:[]).filter(e=>e.type===r.Account.Type.BUSINESS).length,[A,k]=l.default.useState(!1),[T,F]=l.default.useState(null),[j,L]=l.default.useState(!1),[x,I]=l.default.useState(),[D,R]=l.default.useState(!1),B=e=>()=>{F(e.id),k(!0)},G=e=>()=>{c.AccountManager.openAuthWindow(o,e.type,0,()=>{y.AdminRestApi.media.deleteForAccount(e.id)})},U=e=>()=>{C(S.gotoRoute({screen:w.SCREENS.CUSTOM_MEDIA,id:e.id}))},z=e=>()=>{I(e),L(!0)},W=()=>{R(!1),I(null),L(!1)},H={cols:{username:i.default.usernameCol,type:i.default.typeCol,usages:i.default.usagesCol,actions:i.default.actionsCol},cells:{username:i.default.usernameCell,type:i.default.typeCell,usages:i.default.usagesCell,actions:i.default.actionsCell}};return l.default.createElement("div",{className:"accounts-list"},l.default.createElement(s.default,{styleMap:H,rows:e,cols:[{id:"username",label:"Username",render:e=>l.default.createElement("div",null,l.default.createElement(f.default,{account:e,className:i.default.profilePic}),l.default.createElement("a",{className:i.default.username,onClick:B(e)},e.username))},{id:"type",label:"Type",render:e=>l.default.createElement("span",{className:i.default.accountType},e.type)},{id:"usages",label:"Feeds",render:e=>l.default.createElement("span",{className:i.default.usages},M.filter(O(e)).map((e,t)=>l.default.createElement(g.Link,{key:t,to:{screen:"edit",id:e.id.toString()}},e.name)))},{id:"actions",label:"Actions",render:e=>t&&l.default.createElement(p.StatefulMenu,null,({ref:e,openMenu:t})=>l.default.createElement(u.Button,{ref:e,className:i.default.actionsBtn,type:u.ButtonType.PILL,size:u.ButtonSize.NORMAL,onClick:t},l.default.createElement(_.Ellipsis,null)),l.default.createElement(p.MenuContent,null,l.default.createElement(p.MenuItem,{onClick:B(e)},l.default.createElement(E.Dashicon,{icon:"info"}),"Info"),P.default.config.customPosts.enabled&&l.default.createElement(p.MenuItem,{onClick:U(e)},l.default.createElement(E.Dashicon,{icon:"welcome-add-page"}),"Custom posts"),l.default.createElement(p.MenuItem,{onClick:G(e)},l.default.createElement(E.Dashicon,{icon:"image-rotate"}),"Reconnect"),l.default.createElement(p.MenuSeparator,null),l.default.createElement(p.MenuItem,{onClick:z(e),danger:!0},l.default.createElement(E.Dashicon,{icon:"trash"}),"Delete")))}]}),l.default.createElement(d.default,{isOpen:A,onClose:()=>k(!1),accountId:T}),l.default.createElement(m.default,{isOpen:j,title:"Are you sure?",buttons:[D?"Please wait ...":"Yes I'm sure","Cancel"],okDisabled:D,cancelDisabled:D,onAccept:()=>a(this,void 0,void 0,(function*(){R(!0);try{yield C(v.deleteAccount(x.id))}catch(e){n&&n("An error occurred while trying to remove the account.")}finally{W()}})),onCancel:W},l.default.createElement("p",null,"Are you sure you want to delete"," ",l.default.createElement("span",{style:{fontWeight:"bold"}},x?x.username:""),"?"," ","This will also delete all saved media associated with this account."),x&&x.type===r.Account.Type.BUSINESS&&1===N&&l.default.createElement("p",null,l.default.createElement("b",null,"Note:")," ",l.default.createElement("span",null,"Because this is your only connected Business account, deleting it will"," ","also cause any feeds that show public hashtag posts to no longer work."))))};const O=e=>t=>t&&t.options.accounts.includes(e.id)||t.options.tagged.includes(e.id)},function(e,t,n){e.exports={"username-col":"AccountsList__username-col",usernameCol:"AccountsList__username-col","actions-col":"AccountsList__actions-col",actionsCol:"AccountsList__actions-col","username-cell":"AccountsList__username-cell",usernameCell:"AccountsList__username-cell",username:"AccountsList__username","profile-pic":"AccountsList__profile-pic",profilePic:"AccountsList__profile-pic","account-type":"AccountsList__account-type",accountType:"AccountsList__account-type",usages:"AccountsList__usages","actions-btn":"AccountsList__actions-btn",actionsBtn:"AccountsList__actions-btn","usages-cell":"AccountsList__usages-cell",usagesCell:"AccountsList__usages-cell","usages-col":"AccountsList__usages-col",usagesCol:"AccountsList__usages-col","type-cell":"AccountsList__type-cell",typeCell:"AccountsList__type-cell","type-col":"AccountsList__type-col",typeCol:"AccountsList__type-col"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccountsOnboarding=void 0;const o=a(n(0)),l=a(n(997)),i=a(n(243)),r=n(229),u=n(44);t.AccountsOnboarding=function({onConnect:e,beforeConnect:t,isTransitioning:n}){return o.default.createElement(r.Onboarding,{className:l.default.root,isTransitioning:n},o.default.createElement("div",{className:l.default.left},o.default.createElement("h1",null,"Connect your Instagram account"),o.default.createElement("p",null,"You can connect the following types of accounts in Spotlight:"),o.default.createElement("ul",{className:l.default.list},o.default.createElement("li",null,o.default.createElement("a",{href:u.AdminResources.connectPersonalAccount,target:"_blank"},"Personal account")),o.default.createElement("li",null,o.default.createElement("a",{href:u.AdminResources.connectBusinessAccount,target:"_blank"},"Business account")),o.default.createElement("li",null,"Your client's account (",o.default.createElement("a",{href:u.AdminResources.connectAccessToken,target:"_blank"},"using an access token"),")")),o.default.createElement("p",null,o.default.createElement("a",{href:u.AdminResources.personalVsBusinessAccount,target:"_blank"},"What's the difference between a Personal account and a Business account?"))),o.default.createElement("div",null,o.default.createElement(i.default,{beforeConnect:e=>t&&t(e),onConnect:t=>e&&e(t),useColumns:!0,showPrompt:!1})))}},function(e,t,n){e.exports={root:"AccountsOnboarding__root",left:"AccountsOnboarding__left",list:"AccountsOnboarding__list","learn-more-business":"AccountsOnboarding__learn-more-business",learnMoreBusiness:"AccountsOnboarding__learn-more-business","first-msg":"AccountsOnboarding__first-msg",firstMsg:"AccountsOnboarding__first-msg",spacer:"AccountsOnboarding__spacer"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsConfigTab=void 0;const o=a(n(0)),l=n(273),i=n(999),r=n(1001),u=n(1007);t.SettingsConfigTab=function(){return o.default.createElement(l.SettingsPage,null,o.default.createElement(i.SettingsImportingGroup,null),o.default.createElement(r.SettingsOptimizationGroup,null),o.default.createElement(u.SettingsTweaksGroup,null))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsImportingGroup=void 0;const o=a(n(0)),l=n(150),i=n(1e3);t.SettingsImportingGroup=function(){return o.default.createElement(l.SettingsGroup,{title:"Import options"},o.default.createElement(i.ImportIntervalField,null))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImportIntervalField=void 0;const o=a(n(0)),l=n(89),i=a(n(34)),r=n(38),u=n(1),s=n(33),c=n(50);t.ImportIntervalField=function(){const e=u.useDispatch(),t=u.useSelector(s.selectSetting("importerInterval"));return o.default.createElement(l.SettingsField,{id:"settings-import-interval",label:"Check for new posts"},o.default.createElement(r.Select,{id:"settings-import-interval",width:250,value:t,onChange:t=>e(c.updateSettings({importerInterval:t.value})),options:i.default.config.cronScheduleOptions}))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsOptimizationGroup=void 0;const o=a(n(0)),l=n(140),i=n(150),r=n(1002),u=n(1005),s=n(1006),c=o.default.createElement("div",null,o.default.createElement(l.Spoiler,{label:"What is this?",stealth:!0},o.default.createElement("div",null,o.default.createElement("p",null,"Spotlight imports all Instagram posts that can be displayed in your feed, even "," ",'those hidden behind a "Load more" button. The posts furthest down the list may'," ","therefore rarely be seen."),o.default.createElement("p",null,"To improve your site’s performance, you can choose to delete these unseen posts"," ","after a set period of time. Once a site visitor requests those posts, they will"," ","be re-imported.")))),d=o.default.createElement("div",null,o.default.createElement(s.CleanUpMediaButton,null));t.SettingsOptimizationGroup=function({}){return o.default.createElement(i.SettingsGroup,{title:"Optimization",before:c,after:d},o.default.createElement(r.OptimizeAgeLimitField,null),o.default.createElement(u.OptimizeIntervalField,null))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OptimizeAgeLimitField=void 0;const o=a(n(0)),l=n(1),i=n(89),r=a(n(1003)),u=n(33),s=n(50);t.OptimizeAgeLimitField=function({}){var e,t,n;const a=l.useDispatch(),c=(null!==(e=l.useSelector(u.selectSetting("cleanerAgeLimit")))&&void 0!==e?e:"").split(" "),d=null!==(t=parseInt(c[0]))&&void 0!==t?t:0,f=null!==(n=c[1])&&void 0!==n?n:"days";return o.default.createElement(i.SettingsField,{id:"cleanerAgeLimit",label:"Delete unseen posts after"},o.default.createElement(r.default,{id:"cleanerAgeLimit",type:"number",value:d,unit:f,onChange:(e,t)=>a(s.updateSettings({cleanerAgeLimit:`${e} ${t}`})),min:1,units:{days:["day","days"],hours:["hour","hours"],minutes:["minute","minutes"]}}))}},function(e,t,n){"use strict";var a=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(n(0)),i=o(n(1004)),r=n(139),u=n(11),s=n(47);function c(e,t){return 1===parseInt(e.toString())?t[0]:t[1]}t.default=function(e){var{type:t,unit:n,units:o,value:d,min:f,onChange:m}=e,p=a(e,["type","unit","units","value","min","onChange"]);const[_,h]=l.default.useState(!1),b="object"==typeof o&&!s.Dictionary.isEmpty(o),g=()=>h(e=>!e),v=e=>{switch(e.key){case" ":case"Enter":g();break;default:return}e.preventDefault(),e.stopPropagation()};return(null==d||isNaN(d))&&(d=""),l.default.createElement("div",{className:i.default.root},l.default.createElement("input",Object.assign({},p,{className:i.default.input,type:null!=t?t:"text",value:d,min:f,onChange:e=>m&&m(e.currentTarget.value,n)})),l.default.createElement("div",{className:i.default.unitContainer},b&&l.default.createElement(r.Menu,{isOpen:_,onBlur:()=>h(!1)},({ref:e})=>l.default.createElement("div",{ref:e,className:i.default.unitSelector,role:"button",onClick:g,onKeyDown:v,tabIndex:0},l.default.createElement("span",{className:i.default.currentUnit},c(d,s.Dictionary.get(o,n))),l.default.createElement(u.Dashicon,{icon:"arrow-down-alt2",className:_?i.default.menuChevronOpen:i.default.menuChevron})),s.Dictionary.keys(o).map(e=>{const t=s.Dictionary.get(o,e),n=c(d,t);return l.default.createElement(r.MenuItem,{key:n,onClick:()=>(m&&m(d,e),void h(!1))},n)})),!b&&l.default.createElement("div",{className:i.default.unitStatic},l.default.createElement("span",null,n))))}},function(e,t,n){e.exports={root:"UnitField__root layout__flex-row",input:"UnitField__input","unit-container":"UnitField__unit-container layout__flex-column",unitContainer:"UnitField__unit-container layout__flex-column","unit-bubble":"UnitField__unit-bubble",unitBubble:"UnitField__unit-bubble","unit-static":"UnitField__unit-static UnitField__unit-bubble layout__flex-column",unitStatic:"UnitField__unit-static UnitField__unit-bubble layout__flex-column","unit-selector":"UnitField__unit-selector UnitField__unit-bubble layout__flex-row",unitSelector:"UnitField__unit-selector UnitField__unit-bubble layout__flex-row","current-unit":"UnitField__current-unit",currentUnit:"UnitField__current-unit","menu-chevron":"UnitField__menu-chevron",menuChevron:"UnitField__menu-chevron","menu-chevron-open":"UnitField__menu-chevron-open UnitField__menu-chevron",menuChevronOpen:"UnitField__menu-chevron-open UnitField__menu-chevron","unit-list":"UnitField__unit-list layout__flex-column layout__z-highest",unitList:"UnitField__unit-list layout__flex-column layout__z-highest","unit-option":"UnitField__unit-option",unitOption:"UnitField__unit-option","unit-selected":"UnitField__unit-selected UnitField__unit-option",unitSelected:"UnitField__unit-selected UnitField__unit-option"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OptimizeIntervalField=void 0;const o=a(n(0)),l=n(1),i=n(89),r=a(n(34)),u=n(38),s=n(33),c=n(50);t.OptimizeIntervalField=function({}){const e=l.useDispatch(),t=l.useSelector(s.selectSetting("cleanerInterval"));return o.default.createElement(i.SettingsField,{id:"cleanerInterval",label:"Run optimization"},o.default.createElement(u.Select,{id:"cleanerInterval",width:250,value:t,options:r.default.config.cronScheduleOptions,onChange:t=>e(c.updateSettings({cleanerInterval:t.value}))}))}},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CleanUpMediaButton=void 0;const l=o(n(0)),i=n(8),r=n(1),u=n(66),s=n(33),c=n(42);t.CleanUpMediaButton=function(){const e=r.useDispatch(),t=r.useSelector(s.selectSetting("cleanerAgeLimit"));return l.default.createElement(i.Button,{type:i.ButtonType.SECONDARY,size:i.ButtonSize.NORMAL,onClick:()=>a(this,void 0,void 0,(function*(){var n;e(u.showToast({key:"admin/clean_up_media/wait",message:"Optimizing, please wait ...",type:u.ToastType.STICKY}));try{const a=null!==(n=(yield c.AdminRestApi.media.cleanUp(t)).data.numCleaned)&&void 0!==n?n:0;e(u.showToast({key:"admin/clean_up_media/done",message:`Done! ${a} old posts have been removed.`}))}finally{e(u.removeToast("admin/clean_up_media/wait"))}}))},"Optimize now")}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsTweaksGroup=void 0;const o=a(n(0)),l=n(140),i=n(150),r=n(1008),u=o.default.createElement("div",null,o.default.createElement(l.Spoiler,{label:"What is this?",stealth:!0},o.default.createElement("div",null,o.default.createElement("p",null,"With this option enabled, Spotlight will pre-load the first set of posts into the page. This"," ","makes the feed load faster, but can make the page slightly slower."),o.default.createElement("p",null,"By default, this option is disabled. The feed will show grey loading boxes while the posts are"," ","being loaded in the background. This makes the feed slower, but won't impact the rest of the page."),o.default.createElement("p",null,"We recommend turning this option on when your feed is immediately visible when the page loads."," ","If your feed is further down the page, it will probably have enough time to load before your"," ","visitors can see it, so you can leave this turned off for faster page loading."))));t.SettingsTweaksGroup=function(){return o.default.createElement(i.SettingsGroup,{title:"Performance Tweaks",before:u},o.default.createElement(r.PreloadPostsField,null))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreloadPostsField=void 0;const o=a(n(0)),l=n(89),i=n(1),r=n(33),u=n(50);t.PreloadPostsField=function(){const e=i.useDispatch(),t=i.useSelector(r.selectSetting("preloadMedia"));return o.default.createElement(l.SettingsField,{id:"preloadMedia"},o.default.createElement("label",{htmlFor:"preloadMedia"},o.default.createElement("span",{style:{marginRight:10}},"Pre-load the first page of posts"),o.default.createElement("input",{id:"preloadMedia",type:"checkbox",checked:t,onChange:t=>e(u.updateSettings({preloadMedia:t.target.checked}))})))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsToolsTab=void 0;const o=a(n(0)),l=n(273),i=n(1010);t.SettingsToolsTab=function(){return o.default.createElement(l.SettingsPage,null,o.default.createElement(i.SettingsCacheGroup,null))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCacheGroup=void 0;const o=a(n(0)),l=n(89),i=a(n(1011)),r=n(150);t.SettingsCacheGroup=function(){return o.default.createElement(r.SettingsGroup,{title:"Cache"},o.default.createElement(l.SettingsField,{id:"clearCache",label:"If you are experiencing issues, clearing the plugin's cache may help."},o.default.createElement(i.default,null)))}},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=o(n(0)),i=o(n(1012)),r=n(8),u=n(413),s=n(1),c=n(66),d=n(22),f=n(42),m=n(44),p=n(141);t.default=function({}){const e=s.useDispatch(),[t,n]=l.default.useState(!1);u.useSafeEffect(e=>{e&&t&&o().then(()=>{e&&n(!1)})},[t]);const o=()=>a(this,void 0,void 0,(function*(){e(c.removeToast("admin/clear_cache/done")),e(c.showToast({key:"admin/clear_cache/please_wait",message:"Clearing the cache. This could take a while. Please wait ...",type:c.ToastType.STICKY}));try{yield f.AdminRestApi.cache.clearAll(),e(c.showToast({key:"admin/clear_cache/done",message:"Cleared cache successfully!"}))}catch(e){p.triggerError({type:"clear_cache/error",message:d.getErrorResponseMessage(e)})}finally{e(c.removeToast("admin/clear_cache/please_wait"))}}));return l.default.createElement("div",{className:i.default.root},l.default.createElement(r.Button,{disabled:t,onClick:()=>{n(!0)}},"Clear the cache"),l.default.createElement("a",{href:m.AdminResources.cacheDocsUrl,target:"_blank",className:i.default.docLink},"What's this?"))}},function(e,t,n){e.exports={root:"ClearCacheButton__root layout__flex-row","doc-link":"ClearCacheButton__doc-link",docLink:"ClearCacheButton__doc-link"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";(function(e){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminRootInner=t.AdminRoot=void 0;const i=n(300),r=l(n(0)),u=n(211),s=n(1015),c=n(61),d=n(286),f=n(1017),m=n(1018),p=n(1023),_=n(1028),h=n(9),b=n(1),g=n(414),v=n(1030),y=n(66),E=n(43),S=n(55),w=n(60),P=n(141),O=document.title.replace("Spotlight","%s ‹ Spotlight");function C(){const e=b.useDispatch(),t=b.useSelector(v.selectIsAdminAppLoaded),n=b.useSelector(v.selectIsAdminAppLoading),a=b.useSelector(S.selectScreen);r.useEffect(()=>{const e=c.Screens.getScreen(a);e&&(document.title=O.replace("%s",e.title))},[a]);const o=e=>{var t,n;const a=null!==(n=null!==(t=e.detail.message)&&void 0!==t?t:e.detail.response.data.message)&&void 0!==n?n:null;P.triggerError({type:"feed/fetch_media/error",message:a})},l=()=>{e(y.showToast({key:"admin/feed/import/pending",type:y.ToastType.STICKY,message:"Retrieving posts from Instagram. This may take around 30 seconds."}))},i=t=>{var n;if((null===(n=null==t?void 0:t.detail)||void 0===n?void 0:n.batching)&&e(y.showToast({key:"admin/feed/import/done",type:y.ToastType.NOTIFICATION,message:"Imported the first set of posts from Instagram. Older posts are being imported in the background."})),Array.isArray(null==t?void 0:t.detail.errors)&&t.detail.errors.length>0){let n;n=1===t.detail.errors.length?t.detail.errors[0]:"Spotlight encountered some problems while importing posts from Instagram:\n\n"+t.detail.errors.map(e=>" • "+e).join("\n"),e(y.showToast({key:"admin/feed/import/errors",type:y.ToastType.STICKY,message:n}))}},g=e=>{P.triggerError({type:"feed/import_media/error",message:e.message})},C=()=>{e(y.removeToast("admin/feed/import/pending"))};return r.useEffect(()=>(document.addEventListener(h.FetchFailEvent.Type,o),document.addEventListener(w.RestApi.media.events.import.start,l),document.addEventListener(w.RestApi.media.events.import.success,i),document.addEventListener(w.RestApi.media.events.import.fail,g),document.addEventListener(w.RestApi.media.events.import.end,C),()=>{document.removeEventListener(h.FetchFailEvent.Type,o),document.removeEventListener(w.RestApi.media.events.import.start,l),document.removeEventListener(w.RestApi.media.events.import.success,i),document.removeEventListener(w.RestApi.media.events.import.fail,g),document.removeEventListener(w.RestApi.media.events.import.end,C)}),[]),n||!t?r.default.createElement(r.default.Fragment,null,r.default.createElement(d.AdminLoading,null),r.default.createElement(p.Toaster,null)):r.default.createElement(u.Router,{history:E.RouterHistory},c.Screens.getList().map((e,t)=>r.default.createElement(s.QueryRoute,{key:e.id,when:"screen",is:e.id,isRoot:0===t,render:()=>r.default.createElement(e.component)})),r.default.createElement(m.NewsBeacon,null),r.default.createElement(_.ModalLayer,null),r.default.createElement(f.ConnectAccountListener,null),r.default.createElement(p.Toaster,null))}t.AdminRoot=i.hot(e)((function(){return r.default.createElement(b.Provider,{store:g.AdminAppStore},r.default.createElement(C,null))})),t.AdminRootInner=C}).call(this,n(80)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryRoute=void 0;const a=n(1016);t.QueryRoute=function({when:e,is:t,isRoot:n,render:o}){const l=a.useUrlParams().get(e);return l===t||!t&&!l||n&&!l?o():null}},,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectAccountListener=void 0;const o=a(n(0)),l=n(26),i=a(n(151)),r=a(n(224)),u=n(157),s=n(72),c=n(44);t.ConnectAccountListener=function(){const[e,t]=o.default.useState(null),[n,a]=o.default.useState(!1),[d,f]=o.default.useState(!1),m=()=>{u.AccountManager.State.connectedId=null};return s.useDocumentEventListener(u.AccountManager.ACCOUNT_CONNECTED_EVENT,e=>{const o=e.detail.account;n||d||o.type!==l.Account.Type.PERSONAL||o.customBio.length||o.customProfilePicUrl.length||(t(o.id),a(!0))}),o.default.createElement(o.default.Fragment,null,o.default.createElement(i.default,{title:"You've successfully connected your account!",buttons:["Yes","No, maybe later"],isOpen:n,onAccept:()=>{a(!1),f(!0)},onCancel:()=>{a(!1),m()}},o.default.createElement("p",null,"One more thing ..."),o.default.createElement("p",null,"Instagram doesn't provide the profile photo and bio text for Personal accounts."," ","Would you like to set a custom photo and a custom bio in Spotlight to match your Instagram profile?"),o.default.createElement("p",null,o.default.createElement("a",{href:c.AdminResources.customPersonalInfoUrl,target:"_blank"},"What's this about?"))),o.default.createElement(r.default,{isOpen:d,onClose:()=>{f(!1),m()},accountId:e}))}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NewsBeacon=void 0;const o=a(n(0)),l=a(n(1019)),i=n(1),r=n(11),u=n(182),s=n(139),c=n(1020),d=n(415),f=n(1021);t.NewsBeacon=function(){const e=i.useDispatch(),t=i.useSelector(c.selectNewsMessages),n=i.useSelector(c.selectIsNewsHidden),a=i.useSelector(c.selectIsNewsOpen),m=()=>e(d.openNews()),p=u.useKeyboardActivate(m);return!n&&t.length>0&&o.default.createElement(s.Menu,{className:l.default.menu,isOpen:a,onBlur:()=>e(d.closeNews()),placement:"top-end"},({ref:e})=>o.default.createElement("div",{ref:e,className:l.default.beacon},o.default.createElement("button",{className:l.default.button,onClick:m,onKeyPress:p},o.default.createElement(r.Dashicon,{icon:"megaphone"}),t.length>0&&o.default.createElement("div",{className:l.default.counter},t.length))),o.default.createElement(s.MenuContent,null,t.map(e=>o.default.createElement(f.NewsBeaconMessage,{key:e.id,message:e})),a&&o.default.createElement("a",{className:l.default.hideLink,onClick:()=>e(d.hideNews())},"Hide")))}},function(e,t,n){e.exports={beacon:"NewsBeacon__beacon",button:"NewsBeacon__button","button-animation":"NewsBeacon__button-animation",buttonAnimation:"NewsBeacon__button-animation",counter:"NewsBeacon__counter","hide-link":"NewsBeacon__hide-link",hideLink:"NewsBeacon__hide-link",menu:"NewsBeacon__menu"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectIsNewsHidden=t.selectIsNewsOpen=t.selectNewsMessages=void 0,t.selectNewsMessages=e=>e.news.messages,t.selectIsNewsOpen=e=>e.news.isOpen,t.selectIsNewsHidden=e=>e.news.isHidden},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NewsBeaconMessage=void 0;const r=l(n(0)),u=i(n(1022)),s=i(n(220)),c=i(n(427)),d=n(104),f=n(1),m=n(55),p=n(43);t.NewsBeaconMessage=function({message:e}){const t=f.useDispatch(),n=f.useSelector(m.selectRoute),a=r.default.useRef();return r.useEffect(()=>{if(!a.current)return;const e=a.current.getElementsByTagName("a");for(let a=0;a<e.length;++a){const o=e.item(a);if("true"===o.getAttribute("data-sli-link"))continue;const l=o.getAttribute("href");if("string"!=typeof l||!l.startsWith("app://"))continue;const i=d.parse(l.substr("app://".length)),r=(n.setQuery(i),n.getAbsUrl(i));o.setAttribute("href",r),o.setAttribute("data-sli-link","true"),o.addEventListener("click",e=>{t(p.gotoRoute(i)),e.preventDefault(),e.stopPropagation()})}},[a.current]),r.default.createElement("article",{className:u.default.root},e.title&&e.title.length&&r.default.createElement("header",{className:u.default.title},e.title),r.default.createElement("main",{ref:a,className:u.default.content,dangerouslySetInnerHTML:{__html:e.content}}),e.date&&r.default.createElement("footer",{className:u.default.date},c.default(s.default(e.date),{addSuffix:!0})))}},function(e,t,n){e.exports={root:"NewsBeaconMessage__root",text:"NewsBeaconMessage__text",title:"NewsBeaconMessage__title NewsBeaconMessage__text",content:"NewsBeaconMessage__content NewsBeaconMessage__text",date:"NewsBeaconMessage__date"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Toaster=void 0;const o=a(n(0)),l=a(n(1024)),i=n(1),r=n(1025),u=n(1026);t.Toaster=function(){const e=i.useSelector(r.selectToasts);return o.default.createElement("div",{className:l.default.root},o.default.createElement("div",{className:l.default.container},e.map(e=>o.default.createElement(u.Toast,{key:e.key,toast:e}))))}},function(e,t,n){e.exports={root:"Toaster__root layout__z-highest",container:"Toaster__container"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectToasts=void 0;const a=n(47);t.selectToasts=e=>a.Dictionary.values(e.toasts)},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Toast=void 0;const r=l(n(0)),u=i(n(1027)),s=n(1),c=n(11),d=n(66),f=n(44);function m({toast:e}){return r.default.createElement("p",{style:{whiteSpace:"pre-wrap"}},e.message)}function p({toast:e}){return r.default.createElement("div",null,r.default.createElement("p",{className:u.default.heading},"Spotlight has encountered an error:"),r.default.createElement("p",{className:u.default.message},e.message),e.details&&r.default.createElement("pre",{className:u.default.details},e.details),r.default.createElement("p",{className:u.default.footer},"If this error persists, kindly"," ",r.default.createElement("a",{href:f.AdminResources.supportUrl,target:"_blank"},"contact customer support"),"."))}t.Toast=function({toast:e}){var t;const n=s.useDispatch(),[a,o]=r.default.useState(!1);let l=r.default.useRef(),i=r.default.useRef();const f=null!==(t=e.type)&&void 0!==t?t:d.ToastType.NOTIFICATION,_=f===d.ToastType.NOTIFICATION,h=()=>n(d.removeToast(e.key)),b=()=>{_&&(l.current=setTimeout(v,5e3))},g=()=>{clearTimeout(l.current)},v=()=>{o(!0),i.current=setTimeout(h,200)};r.useEffect(()=>(b(),()=>{g(),clearTimeout(i.current)}),[]);const y=a?u.default.rootFadingOut:u.default.root;return r.default.createElement("div",{className:y,onMouseOver:g,onMouseOut:b},r.default.createElement("div",{className:u.default.content},f===d.ToastType.ERROR?r.default.createElement(p,{toast:e}):r.default.createElement(m,{toast:e})),r.default.createElement("button",{className:u.default.dismissBtn,onClick:()=>{g(),v()}},r.default.createElement(c.Dashicon,{icon:"no-alt",className:u.default.dismissIcon})))}},function(e,t,n){e.exports={root:"Toast__root","fade-in-animation":"Toast__fade-in-animation",fadeInAnimation:"Toast__fade-in-animation","root-fading-out":"Toast__root-fading-out Toast__root",rootFadingOut:"Toast__root-fading-out Toast__root","fade-out-animation":"Toast__fade-out-animation",fadeOutAnimation:"Toast__fade-out-animation",content:"Toast__content","dismiss-icon":"Toast__dismiss-icon",dismissIcon:"Toast__dismiss-icon","dismiss-btn":"Toast__dismiss-btn Toast__dismiss-icon",dismissBtn:"Toast__dismiss-btn Toast__dismiss-icon"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ModalLayer=void 0;const o=a(n(0)),l=a(n(1029)),i=n(12);t.ModalLayer=function(){return o.default.createElement("div",{className:i.classList(l.default.modalLayer,"spotlight-modal-target")})}},function(e,t,n){e.exports={"modal-layer":"ModalLayer__modal-layer",modalLayer:"ModalLayer__modal-layer"}},,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomMediaScreen=void 0;const u=l(n(0)),s=n(1),c=r(n(1032)),d=n(219),f=n(1033),m=n(55),p=n(45),_=n(1035),h=n(27),b=n(142),g=n(167),v=n(42),y=n(275),E=n(276);function S({media:e,isSelected:t}){return u.default.createElement("div",{className:c.default.tile},u.default.createElement(b.Square,null,u.default.createElement("div",{className:t?c.default.selectedMedia:c.default.media},u.default.createElement(g.MediaTile,{media:e,className:c.default.thumbnail,overlayEnabled:!1}))))}t.CustomMediaScreen=function(){const[e,t]=u.default.useState([]),[n,a]=u.default.useState(!1),[o,l]=u.default.useState(!1),[r,p]=u.default.useState(null),b=s.useSelector(m.selectRoute).getParam("id"),g=b?parseInt(b):0,P=s.useSelector(h.selectAccountById(g));function O(){return i(this,void 0,void 0,(function*(){a(!0);try{const e=yield v.AdminRestApi.accounts.customMedia.get(g);t(e.data)}finally{a(!1)}}))}if(u.useEffect(()=>{P&&O()},[g]),!P)return null;function C(){l(!1),p(null)}return u.default.createElement(d.AdminScreen,{navbar:f.CustomMediaNavbar},n?u.default.createElement("div",{className:c.default.loadingSpinner},u.default.createElement(E.LoadingSpinner,{size:80})):u.default.createElement(y.SelectionGrid,{items:e,addButton:{children:"Create a new post",onClick:function(){p(w(P)),l(!0)}},onClick:function(e){p(e),l(!0)},disabled:n,canDeselect:!0},({item:e,isSelected:t})=>u.default.createElement(S,{media:e,isSelected:t})),u.default.createElement(_.CustomMediaModal,{media:r,accountId:g,isOpen:o,onClose:C,onSave:function(){C(),O()},onDelete:function(e){t(t=>t.filter(t=>t.id!==e.id)),C()}}))};const w=e=>({id:0,url:"",username:e.username,children:[],sources:[{id:e.username,type:p.Media.Source.getTypeForAccountType(e.type)}]})},function(e,t,n){e.exports={"loading-spinner":"CustomMediaScreen__loading-spinner",loadingSpinner:"CustomMediaScreen__loading-spinner",tile:"CustomMediaScreen__tile",media:"CustomMediaScreen__media","selected-media":"CustomMediaScreen__selected-media CustomMediaScreen__media",selectedMedia:"CustomMediaScreen__selected-media CustomMediaScreen__media",thumbnail:"CustomMediaScreen__thumbnail"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomMediaNavbar=void 0;const o=a(n(0)),l=a(n(1034)),i=n(8),r=n(1),u=n(61),s=n(55),c=n(27),d=n(234),f=a(n(181)),m=n(11);t.CustomMediaNavbar=function(){var e;const t=r.useSelector(s.selectRoute).getParam("id"),n=t?parseInt(t):0,a=r.useSelector(c.selectAccountById(n)),p=null!==(e=null==a?void 0:a.username)&&void 0!==e?e:"(Account does not exist)";return o.default.createElement(d.Navbar,null,o.default.createElement(o.default.Fragment,null,o.default.createElement(d.Navbar.Item,null,"Settings"),o.default.createElement(d.Navbar.Chevron,null),o.default.createElement(d.Navbar.Link,{linkTo:{screen:u.SCREENS.SETTINGS,tab:"accounts"}},"Accounts"),o.default.createElement(d.Navbar.Chevron,null),o.default.createElement(d.Navbar.Item,null,o.default.createElement("div",{className:l.default.navUsernameItem},o.default.createElement(f.default,{account:a,className:l.default.profilePic}),o.default.createElement("span",null,p)))),o.default.createElement(o.default.Fragment,null,o.default.createElement(d.Navbar.Section,null,o.default.createElement(i.Button,{type:i.ButtonType.PILL,size:i.ButtonSize.LARGE,onClick:function(){history.back()}},o.default.createElement(m.Dashicon,{icon:"arrow-left-alt"}),o.default.createElement("span",null,"Go back")))))}},function(e,t,n){e.exports={"nav-username-item":"CustomMediaNavbar__nav-username-item",navUsernameItem:"CustomMediaNavbar__nav-username-item","profile-pic":"CustomMediaNavbar__profile-pic",profilePic:"CustomMediaNavbar__profile-pic"}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function i(e){try{u(a.next(e))}catch(e){l(e)}}function r(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}u((a=a.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomMediaModal=void 0;const u=l(n(0)),s=r(n(1036)),c=n(77),d=n(45),f=n(8),m=n(19),p=n(1037),_=n(42),h=n(35);t.CustomMediaModal=function({media:e,accountId:t,isOpen:n,onClose:a,onSave:o,onDelete:l}){var r,b;const[g,v]=u.default.useState(e),[y,E]=u.default.useState(!1),[S,w]=u.default.useState(!1);u.useEffect(()=>{v(e)},[e]);const P=e&&(null==e?void 0:e.id),O=null===g||d.Media.explode(g).filter(e=>{var t;return(null!==(t=e.url)&&void 0!==t?t:"").length>0}).length>0;return u.default.createElement(c.Modal,{title:"Custom post",width:800,isOpen:n&&null!==e,onClose:a},u.default.createElement(c.Modal.Content,null,g&&u.default.createElement(u.default.Fragment,null,g.type!==d.Media.Type.ALBUM&&u.default.createElement(u.default.Fragment,null,u.default.createElement(h.Message,{type:h.MessageType.INFO,showIcon:!0},u.default.createElement("b",null,"Tip:")," Add multiple images or videos to create a gallery post."),u.default.createElement("br",null)),u.default.createElement(p.CustomMediaSelector,{media:g,onChange:v}),u.default.createElement("div",{className:s.default.fieldRow},u.default.createElement("label",null,u.default.createElement("span",null,"Instagram URL"),u.default.createElement("input",{type:"url",value:null!==(r=g.permalink)&&void 0!==r?r:"",onChange:function(e){const t=e.target.value;v(e=>m.withPartial(e,{permalink:t}))}}))),u.default.createElement("div",{className:s.default.fieldRow},u.default.createElement("label",null,u.default.createElement("span",null,"Caption"),u.default.createElement("textarea",{value:g.caption,onChange:function(e){const t=e.target.value;v(e=>m.withPartial(e,{caption:t}))},rows:4}))))),u.default.createElement(c.Modal.Footer,{style:"space-between"},P?u.default.createElement(f.Button,{type:f.ButtonType.DANGER,size:f.ButtonSize.LARGE,onClick:function(){return i(this,void 0,void 0,(function*(){w(!0);try{yield _.AdminRestApi.accounts.customMedia.delete(t,e.id)}finally{w(!1)}l(g)}))},disabled:S},S?"Please wait ...":"Delete post"):u.default.createElement("div",null),u.default.createElement(f.Button,{type:f.ButtonType.PRIMARY,size:f.ButtonSize.LARGE,onClick:function(){return i(this,void 0,void 0,(function*(){E(!0);try{e.id<=0?yield _.AdminRestApi.accounts.customMedia.add(t,g):yield _.AdminRestApi.accounts.customMedia.update(t,e.id,g)}finally{E(!1)}o(g)}))},disabled:y||!O||!g||!(null===(b=null==g?void 0:g.permalink)||void 0===b?void 0:b.length)},y?"Please wait ...":"Save post")))}},function(e,t,n){e.exports={"add-media-row":"CustomMediaModal__add-media-row",addMediaRow:"CustomMediaModal__add-media-row","field-row":"CustomMediaModal__field-row",fieldRow:"CustomMediaModal__field-row"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomMediaSelector=void 0;const o=a(n(0)),l=a(n(1038)),i=n(45),r=n(1039),u=n(225),s=n(275),c=n(142),d=n(127),f=n(158),m=n(11);function p({media:e,onRemove:t,onMoveLeft:n,onMoveRight:a,canMoveLeft:i,canMoveRight:r}){const[u,s]=o.default.useState(!1);return o.default.createElement("div",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},o.default.createElement(c.Square,null,o.default.createElement(d.MediaThumbnail,{media:e}),u&&o.default.createElement("div",{className:l.default.mediaOverlay},o.default.createElement("div",{className:l.default.moveControls},i?o.default.createElement(f.DivButton,{className:l.default.arrowButton,title:"Move left",onClick:n},o.default.createElement(m.Dashicon,{icon:"arrow-left-alt"})):o.default.createElement("div",null),r?o.default.createElement(f.DivButton,{className:l.default.arrowButton,title:"Move right",onClick:a},o.default.createElement(m.Dashicon,{icon:"arrow-right-alt"})):o.default.createElement("div",null)),o.default.createElement(f.DivButton,{className:l.default.deleteButton,title:"Remove",onClick:t},o.default.createElement(m.Dashicon,{icon:"trash"})))))}t.CustomMediaSelector=function({media:e,onChange:t}){const n=i.Media.explode(e).filter(e=>e.url);function a(n,a){t(r.moveChild(e,n,a))}return o.default.createElement("div",{className:l.default.mediaGrid},o.default.createElement(u.WpUploadMedia,{id:"custom-post-media",title:"Select media",onSelect:function(n){t(n.reduce(r.addToMedia,e))},multiple:!0},({open:l})=>o.default.createElement(s.SelectionGrid,{canDeselect:!0,items:n,gridStyle:{justifyContent:"center"},addButton:{children:"Add media",onClick:l}},({item:l,idx:i})=>o.default.createElement(p,{media:l,onRemove:()=>function(n){t(r.removeFromMedia(e,n))}(i),onMoveLeft:()=>a(i,-1),onMoveRight:()=>a(i,1),canMoveLeft:i>0,canMoveRight:i<n.length-1}))))}},function(e,t,n){e.exports={"media-grid":"CustomMediaSelector__media-grid",mediaGrid:"CustomMediaSelector__media-grid","media-overlay":"CustomMediaSelector__media-overlay",mediaOverlay:"CustomMediaSelector__media-overlay","move-controls":"CustomMediaSelector__move-controls",moveControls:"CustomMediaSelector__move-controls",button:"CustomMediaSelector__button","arrow-button":"CustomMediaSelector__arrow-button CustomMediaSelector__button",arrowButton:"CustomMediaSelector__arrow-button CustomMediaSelector__button","delete-button":"CustomMediaSelector__delete-button CustomMediaSelector__button",deleteButton:"CustomMediaSelector__delete-button CustomMediaSelector__button"}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaType=t.moveChild=t.removeFromMedia=t.addToMedia=void 0;const o=n(45),l=(a(n(226)),n(59)),i=n(19);function r(e){switch(e){case"image":return o.Media.Type.IMAGE;case"video":return o.Media.Type.VIDEO}}function u(e){var t,n;const a=null!==(t=e.size)&&void 0!==t?t:{width:0,height:0};return(null!==(n=null==e?void 0:e.children)&&void 0!==n?n:[]).forEach(e=>{var t,n,o,l;a.width=Math.max(a.width,null!==(n=null===(t=e.size)||void 0===t?void 0:t.width)&&void 0!==n?n:0),a.height=Math.max(a.height,null!==(l=null===(o=e.size)||void 0===o?void 0:o.height)&&void 0!==l?l:0)}),!e.size||0===e.size.width&&0===e.size.height?null:a}t.addToMedia=function(e,t){e=l.cloneObj(e);const n=t.attributes.url,a=r(t.attributes.type),i={width:t.attributes.width,height:t.attributes.height};if(e.url){const t=Object.assign({id:0},e);e.url="",e.type=o.Media.Type.ALBUM,e.children=[t]}return e.type==o.Media.Type.ALBUM?e.children.push({id:0,type:a,url:n,size:i}):(e.type=a,e.url=n,e.size=i),e.size=u(e),e},t.removeFromMedia=function(e,t){if((e=l.cloneObj(e)).type===o.Media.Type.ALBUM){if(e.children.splice(t,1),1===e.children.length){const t=e.children[0];e.children=[],e=i.withPartial(e,t)}}else e.url=null;return e.size=u(e),e},t.moveChild=function(e,t,n){const a=t+n;if(e.type!==o.Media.Type.ALBUM||a<0||a>e.children.length-1)return e;const i=(e=l.cloneObj(e)).children[a];return e.children[a]=e.children[t],e.children[t]=i,e},t.getMediaType=r}]]);